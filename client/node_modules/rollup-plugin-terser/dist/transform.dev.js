"use strict";

var _require = require("terser"),
    minify = _require.minify;

var transform = function transform(code, optionsString) {
  var options = eval("(".concat(optionsString, ")"));
  var result = minify(code, options);

  if (result.error) {
    throw result.error;
  } else {
    return {
      result: result,
      nameCache: options.nameCache
    };
  }
};

exports.transform = transform;