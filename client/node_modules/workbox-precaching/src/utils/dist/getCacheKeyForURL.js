"use strict";
/*
  Copyright 2019 Google LLC

  Use of this source code is governed by an MIT-style
  license that can be found in the LICENSE file or at
  https://opensource.org/licenses/MIT.
*/
exports.__esModule = true;
exports.getCacheKeyForURL = void 0;
var getOrCreatePrecacheController_js_1 = require("./getOrCreatePrecacheController.js");
var generateURLVariations_js_1 = require("./generateURLVariations.js");
require("../_version.js");
/**
 * This function will take the request URL and manipulate it based on the
 * configuration options.
 *
 * @param {string} url
 * @param {Object} options
 * @return {string} Returns the URL in the cache that matches the request,
 * if possible.
 *
 * @private
 */
exports.getCacheKeyForURL = function (url, options) {
    var precacheController = getOrCreatePrecacheController_js_1.getOrCreatePrecacheController();
    var urlsToCacheKeys = precacheController.getURLsToCacheKeys();
    for (var _i = 0, _a = generateURLVariations_js_1.generateURLVariations(url, options); _i < _a.length; _i++) {
        var possibleURL = _a[_i];
        var possibleCacheKey = urlsToCacheKeys.get(possibleURL);
        if (possibleCacheKey) {
            return possibleCacheKey;
        }
    }
};
