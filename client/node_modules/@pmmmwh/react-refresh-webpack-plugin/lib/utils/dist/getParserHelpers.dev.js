"use strict";

var _require = require('../globals'),
    webpackVersion = _require.webpackVersion;
/**
 * @callback EvaluateToString
 * @param {string} value
 * @returns {function(*): *}
 */

/**
 * @callback ToConstantDependency
 * @param {*} parser
 * @param {string} value
 * @param {string[]} [runtimeRequirements]
 * @returns {function(*): boolean}
 */

/**
 * @typedef {Object} ParserHelpers
 * @property {EvaluateToString} evaluateToString
 * @property {ToConstantDependency} toConstantDependency
 */

/**
 * Gets parser helpers for specific webpack versions.
 * @returns {ParserHelpers} The needed parser helpers.
 */


function getParserHelpers() {
  if (webpackVersion === 4) {
    var _require2 = require('webpack/lib/ParserHelpers'),
        evaluateToString = _require2.evaluateToString,
        toConstantDependencyWithWebpackRequire = _require2.toConstantDependencyWithWebpackRequire;

    return {
      evaluateToString: evaluateToString,
      toConstantDependency: toConstantDependencyWithWebpackRequire
    };
  }

  if (webpackVersion === 5) {
    return require('webpack/lib/javascript/JavascriptParserHelpers');
  }
}

module.exports = getParserHelpers;