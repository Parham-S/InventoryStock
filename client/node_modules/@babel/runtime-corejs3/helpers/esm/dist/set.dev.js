"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = _set;

var _set2 = _interopRequireDefault(require("@babel/runtime-corejs3/core-js/reflect/set"));

var _getOwnPropertyDescriptor = _interopRequireDefault(require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptor"));

var _defineProperty = _interopRequireDefault(require("@babel/runtime-corejs3/core-js/object/define-property"));

var _superPropBase = _interopRequireDefault(require("./superPropBase.js"));

var _defineProperty2 = _interopRequireDefault(require("./defineProperty.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function set(target, property, value, receiver) {
  if (typeof Reflect !== "undefined" && _set2["default"]) {
    set = _set2["default"];
  } else {
    set = function set(target, property, value, receiver) {
      var base = (0, _superPropBase["default"])(target, property);
      var desc;

      if (base) {
        desc = (0, _getOwnPropertyDescriptor["default"])(base, property);

        if (desc.set) {
          desc.set.call(receiver, value);
          return true;
        } else if (!desc.writable) {
          return false;
        }
      }

      desc = (0, _getOwnPropertyDescriptor["default"])(receiver, property);

      if (desc) {
        if (!desc.writable) {
          return false;
        }

        desc.value = value;
        (0, _defineProperty["default"])(receiver, property, desc);
      } else {
        (0, _defineProperty2["default"])(receiver, property, value);
      }

      return true;
    };
  }

  return set(target, property, value, receiver);
}

function _set(target, property, value, receiver, isStrict) {
  var s = set(target, property, value, receiver || target);

  if (!s && isStrict) {
    throw new Error('failed to set property');
  }

  return value;
}