/*
  @license
	Rollup.js v1.32.1
	Fri, 06 Mar 2020 09:32:39 GMT - commit f458cbf6cb8cfcc1678593d8dc595e4b8757eb6d


	https://github.com/rollup/rollup

	Released under the MIT License.
*/'use strict';var _C,_PC,_ARRAY_TYPE,_INTL_MEMBER,_Array,_ArrayBuffer,_Date,_Math,_Number,_Object,_Promise,_String,_Symbol,_Intl,_knownGlobals;function _toArray(arr){return _arrayWithHoles(arr)||_iterableToArray(arr)||_nonIterableRest();}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance");}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance");}function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||Object.prototype.toString.call(arr)==="[object Arguments]")){return;}var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}var util=require('util');var path=require('path');var fs=require('fs');var acorn=require('acorn');var crypto=require('crypto');var events=require('events');var module$1=require('module');/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value);}).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});}var version="1.32.1";var charToInteger={};var chars='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';for(var i=0;i<chars.length;i++){charToInteger[chars.charCodeAt(i)]=i;}function decode(mappings){var decoded=[];var line=[];var segment=[0,0,0,0,0];var j=0;for(var i=0,shift=0,value=0;i<mappings.length;i++){var c=mappings.charCodeAt(i);if(c===44){// ","
segmentify(line,segment,j);j=0;}else if(c===59){// ";"
segmentify(line,segment,j);j=0;decoded.push(line);line=[];segment[0]=0;}else{var integer=charToInteger[c];if(integer===undefined){throw new Error('Invalid character ('+String.fromCharCode(c)+')');}var hasContinuationBit=integer&32;integer&=31;value+=integer<<shift;if(hasContinuationBit){shift+=5;}else{var shouldNegate=value&1;value>>>=1;if(shouldNegate){value=value===0?-0x80000000:-value;}segment[j]+=value;j++;value=shift=0;// reset
}}}segmentify(line,segment,j);decoded.push(line);return decoded;}function segmentify(line,segment,j){// This looks ugly, but we're creating specialized arrays with a specific
// length. This is much faster than creating a new array (which v8 expands to
// a capacity of 17 after pushing the first item), or slicing out a subarray
// (which is slow). Length 4 is assumed to be the most frequent, followed by
// length 5 (since not everything will have an associated name), followed by
// length 1 (it's probably rare for a source substring to not have an
// associated segment data).
if(j===4)line.push([segment[0],segment[1],segment[2],segment[3]]);else if(j===5)line.push([segment[0],segment[1],segment[2],segment[3],segment[4]]);else if(j===1)line.push([segment[0]]);}function encode(decoded){var sourceFileIndex=0;// second field
var sourceCodeLine=0;// third field
var sourceCodeColumn=0;// fourth field
var nameIndex=0;// fifth field
var mappings='';for(var i=0;i<decoded.length;i++){var line=decoded[i];if(i>0)mappings+=';';if(line.length===0)continue;var generatedCodeColumn=0;// first field
var lineMappings=[];for(var _i=0,line_1=line;_i<line_1.length;_i++){var segment=line_1[_i];var segmentMappings=encodeInteger(segment[0]-generatedCodeColumn);generatedCodeColumn=segment[0];if(segment.length>1){segmentMappings+=encodeInteger(segment[1]-sourceFileIndex)+encodeInteger(segment[2]-sourceCodeLine)+encodeInteger(segment[3]-sourceCodeColumn);sourceFileIndex=segment[1];sourceCodeLine=segment[2];sourceCodeColumn=segment[3];}if(segment.length===5){segmentMappings+=encodeInteger(segment[4]-nameIndex);nameIndex=segment[4];}lineMappings.push(segmentMappings);}mappings+=lineMappings.join(',');}return mappings;}function encodeInteger(num){var result='';num=num<0?-num<<1|1:num<<1;do{var clamped=num&31;num>>>=5;if(num>0){clamped|=32;}result+=chars[clamped];}while(num>0);return result;}var BitSet=function BitSet(arg){this.bits=arg instanceof BitSet?arg.bits.slice():[];};BitSet.prototype.add=function add(n){this.bits[n>>5]|=1<<(n&31);};BitSet.prototype.has=function has(n){return!!(this.bits[n>>5]&1<<(n&31));};var Chunk=function Chunk(start,end,content){this.start=start;this.end=end;this.original=content;this.intro='';this.outro='';this.content=content;this.storeName=false;this.edited=false;// we make these non-enumerable, for sanity while debugging
Object.defineProperties(this,{previous:{writable:true,value:null},next:{writable:true,value:null}});};Chunk.prototype.appendLeft=function appendLeft(content){this.outro+=content;};Chunk.prototype.appendRight=function appendRight(content){this.intro=this.intro+content;};Chunk.prototype.clone=function clone(){var chunk=new Chunk(this.start,this.end,this.original);chunk.intro=this.intro;chunk.outro=this.outro;chunk.content=this.content;chunk.storeName=this.storeName;chunk.edited=this.edited;return chunk;};Chunk.prototype.contains=function contains(index){return this.start<index&&index<this.end;};Chunk.prototype.eachNext=function eachNext(fn){var chunk=this;while(chunk){fn(chunk);chunk=chunk.next;}};Chunk.prototype.eachPrevious=function eachPrevious(fn){var chunk=this;while(chunk){fn(chunk);chunk=chunk.previous;}};Chunk.prototype.edit=function edit(content,storeName,contentOnly){this.content=content;if(!contentOnly){this.intro='';this.outro='';}this.storeName=storeName;this.edited=true;return this;};Chunk.prototype.prependLeft=function prependLeft(content){this.outro=content+this.outro;};Chunk.prototype.prependRight=function prependRight(content){this.intro=content+this.intro;};Chunk.prototype.split=function split(index){var sliceIndex=index-this.start;var originalBefore=this.original.slice(0,sliceIndex);var originalAfter=this.original.slice(sliceIndex);this.original=originalBefore;var newChunk=new Chunk(index,this.end,originalAfter);newChunk.outro=this.outro;this.outro='';this.end=index;if(this.edited){// TODO is this block necessary?...
newChunk.edit('',false);this.content='';}else{this.content=originalBefore;}newChunk.next=this.next;if(newChunk.next){newChunk.next.previous=newChunk;}newChunk.previous=this;this.next=newChunk;return newChunk;};Chunk.prototype.toString=function toString(){return this.intro+this.content+this.outro;};Chunk.prototype.trimEnd=function trimEnd(rx){this.outro=this.outro.replace(rx,'');if(this.outro.length){return true;}var trimmed=this.content.replace(rx,'');if(trimmed.length){if(trimmed!==this.content){this.split(this.start+trimmed.length).edit('',undefined,true);}return true;}else{this.edit('',undefined,true);this.intro=this.intro.replace(rx,'');if(this.intro.length){return true;}}};Chunk.prototype.trimStart=function trimStart(rx){this.intro=this.intro.replace(rx,'');if(this.intro.length){return true;}var trimmed=this.content.replace(rx,'');if(trimmed.length){if(trimmed!==this.content){this.split(this.end-trimmed.length);this.edit('',undefined,true);}return true;}else{this.edit('',undefined,true);this.outro=this.outro.replace(rx,'');if(this.outro.length){return true;}}};var btoa=function btoa(){throw new Error('Unsupported environment: `window.btoa` or `Buffer` should be supported.');};if(typeof window!=='undefined'&&typeof window.btoa==='function'){btoa=function btoa(str){return window.btoa(unescape(encodeURIComponent(str)));};}else if(typeof Buffer==='function'){btoa=function btoa(str){return Buffer.from(str,'utf-8').toString('base64');};}var SourceMap=function SourceMap(properties){this.version=3;this.file=properties.file;this.sources=properties.sources;this.sourcesContent=properties.sourcesContent;this.names=properties.names;this.mappings=encode(properties.mappings);};SourceMap.prototype.toString=function toString(){return JSON.stringify(this);};SourceMap.prototype.toUrl=function toUrl(){return'data:application/json;charset=utf-8;base64,'+btoa(this.toString());};function guessIndent(code){var lines=code.split('\n');var tabbed=lines.filter(function(line){return /^\t+/.test(line);});var spaced=lines.filter(function(line){return /^ {2,}/.test(line);});if(tabbed.length===0&&spaced.length===0){return null;}// More lines tabbed than spaced? Assume tabs, and
// default to tabs in the case of a tie (or nothing
// to go on)
if(tabbed.length>=spaced.length){return'\t';}// Otherwise, we need to guess the multiple
var min=spaced.reduce(function(previous,current){var numSpaces=/^ +/.exec(current)[0].length;return Math.min(numSpaces,previous);},Infinity);return new Array(min+1).join(' ');}function getRelativePath(from,to){var fromParts=from.split(/[/\\]/);var toParts=to.split(/[/\\]/);fromParts.pop();// get dirname
while(fromParts[0]===toParts[0]){fromParts.shift();toParts.shift();}if(fromParts.length){var i=fromParts.length;while(i--){fromParts[i]='..';}}return fromParts.concat(toParts).join('/');}var toString=Object.prototype.toString;function isObject(thing){return toString.call(thing)==='[object Object]';}function getLocator(source){var originalLines=source.split('\n');var lineOffsets=[];for(var i=0,pos=0;i<originalLines.length;i++){lineOffsets.push(pos);pos+=originalLines[i].length+1;}return function locate(index){var i=0;var j=lineOffsets.length;while(i<j){var m=i+j>>1;if(index<lineOffsets[m]){j=m;}else{i=m+1;}}var line=i-1;var column=index-lineOffsets[line];return{line:line,column:column};};}var Mappings=function Mappings(hires){this.hires=hires;this.generatedCodeLine=0;this.generatedCodeColumn=0;this.raw=[];this.rawSegments=this.raw[this.generatedCodeLine]=[];this.pending=null;};Mappings.prototype.addEdit=function addEdit(sourceIndex,content,loc,nameIndex){if(content.length){var segment=[this.generatedCodeColumn,sourceIndex,loc.line,loc.column];if(nameIndex>=0){segment.push(nameIndex);}this.rawSegments.push(segment);}else if(this.pending){this.rawSegments.push(this.pending);}this.advance(content);this.pending=null;};Mappings.prototype.addUneditedChunk=function addUneditedChunk(sourceIndex,chunk,original,loc,sourcemapLocations){var originalCharIndex=chunk.start;var first=true;while(originalCharIndex<chunk.end){if(this.hires||first||sourcemapLocations.has(originalCharIndex)){this.rawSegments.push([this.generatedCodeColumn,sourceIndex,loc.line,loc.column]);}if(original[originalCharIndex]==='\n'){loc.line+=1;loc.column=0;this.generatedCodeLine+=1;this.raw[this.generatedCodeLine]=this.rawSegments=[];this.generatedCodeColumn=0;first=true;}else{loc.column+=1;this.generatedCodeColumn+=1;first=false;}originalCharIndex+=1;}this.pending=sourceIndex>0?[this.generatedCodeColumn,sourceIndex,loc.line,loc.column]:null;};Mappings.prototype.advance=function advance(str){if(!str){return;}var lines=str.split('\n');if(lines.length>1){for(var i=0;i<lines.length-1;i++){this.generatedCodeLine++;this.raw[this.generatedCodeLine]=this.rawSegments=[];}this.generatedCodeColumn=0;}this.generatedCodeColumn+=lines[lines.length-1].length;};var n='\n';var warned={insertLeft:false,insertRight:false,storeName:false};var MagicString=function MagicString(string,options){if(options===void 0)options={};var chunk=new Chunk(0,string.length,string);Object.defineProperties(this,{original:{writable:true,value:string},outro:{writable:true,value:''},intro:{writable:true,value:''},firstChunk:{writable:true,value:chunk},lastChunk:{writable:true,value:chunk},lastSearchedChunk:{writable:true,value:chunk},byStart:{writable:true,value:{}},byEnd:{writable:true,value:{}},filename:{writable:true,value:options.filename},indentExclusionRanges:{writable:true,value:options.indentExclusionRanges},sourcemapLocations:{writable:true,value:new BitSet()},storedNames:{writable:true,value:{}},indentStr:{writable:true,value:guessIndent(string)}});this.byStart[0]=chunk;this.byEnd[string.length]=chunk;};MagicString.prototype.addSourcemapLocation=function addSourcemapLocation(_char){this.sourcemapLocations.add(_char);};MagicString.prototype.append=function append(content){if(typeof content!=='string'){throw new TypeError('outro content must be a string');}this.outro+=content;return this;};MagicString.prototype.appendLeft=function appendLeft(index,content){if(typeof content!=='string'){throw new TypeError('inserted content must be a string');}this._split(index);var chunk=this.byEnd[index];if(chunk){chunk.appendLeft(content);}else{this.intro+=content;}return this;};MagicString.prototype.appendRight=function appendRight(index,content){if(typeof content!=='string'){throw new TypeError('inserted content must be a string');}this._split(index);var chunk=this.byStart[index];if(chunk){chunk.appendRight(content);}else{this.outro+=content;}return this;};MagicString.prototype.clone=function clone(){var cloned=new MagicString(this.original,{filename:this.filename});var originalChunk=this.firstChunk;var clonedChunk=cloned.firstChunk=cloned.lastSearchedChunk=originalChunk.clone();while(originalChunk){cloned.byStart[clonedChunk.start]=clonedChunk;cloned.byEnd[clonedChunk.end]=clonedChunk;var nextOriginalChunk=originalChunk.next;var nextClonedChunk=nextOriginalChunk&&nextOriginalChunk.clone();if(nextClonedChunk){clonedChunk.next=nextClonedChunk;nextClonedChunk.previous=clonedChunk;clonedChunk=nextClonedChunk;}originalChunk=nextOriginalChunk;}cloned.lastChunk=clonedChunk;if(this.indentExclusionRanges){cloned.indentExclusionRanges=this.indentExclusionRanges.slice();}cloned.sourcemapLocations=new BitSet(this.sourcemapLocations);cloned.intro=this.intro;cloned.outro=this.outro;return cloned;};MagicString.prototype.generateDecodedMap=function generateDecodedMap(options){var this$1=this;options=options||{};var sourceIndex=0;var names=Object.keys(this.storedNames);var mappings=new Mappings(options.hires);var locate=getLocator(this.original);if(this.intro){mappings.advance(this.intro);}this.firstChunk.eachNext(function(chunk){var loc=locate(chunk.start);if(chunk.intro.length){mappings.advance(chunk.intro);}if(chunk.edited){mappings.addEdit(sourceIndex,chunk.content,loc,chunk.storeName?names.indexOf(chunk.original):-1);}else{mappings.addUneditedChunk(sourceIndex,chunk,this$1.original,loc,this$1.sourcemapLocations);}if(chunk.outro.length){mappings.advance(chunk.outro);}});return{file:options.file?options.file.split(/[/\\]/).pop():null,sources:[options.source?getRelativePath(options.file||'',options.source):null],sourcesContent:options.includeContent?[this.original]:[null],names:names,mappings:mappings.raw};};MagicString.prototype.generateMap=function generateMap(options){return new SourceMap(this.generateDecodedMap(options));};MagicString.prototype.getIndentString=function getIndentString(){return this.indentStr===null?'\t':this.indentStr;};MagicString.prototype.indent=function indent(indentStr,options){var pattern=/^[^\r\n]/gm;if(isObject(indentStr)){options=indentStr;indentStr=undefined;}indentStr=indentStr!==undefined?indentStr:this.indentStr||'\t';if(indentStr===''){return this;}// noop
options=options||{};// Process exclusion ranges
var isExcluded={};if(options.exclude){var exclusions=typeof options.exclude[0]==='number'?[options.exclude]:options.exclude;exclusions.forEach(function(exclusion){for(var i=exclusion[0];i<exclusion[1];i+=1){isExcluded[i]=true;}});}var shouldIndentNextCharacter=options.indentStart!==false;var replacer=function replacer(match){if(shouldIndentNextCharacter){return""+indentStr+match;}shouldIndentNextCharacter=true;return match;};this.intro=this.intro.replace(pattern,replacer);var charIndex=0;var chunk=this.firstChunk;while(chunk){var end=chunk.end;if(chunk.edited){if(!isExcluded[charIndex]){chunk.content=chunk.content.replace(pattern,replacer);if(chunk.content.length){shouldIndentNextCharacter=chunk.content[chunk.content.length-1]==='\n';}}}else{charIndex=chunk.start;while(charIndex<end){if(!isExcluded[charIndex]){var _char2=this.original[charIndex];if(_char2==='\n'){shouldIndentNextCharacter=true;}else if(_char2!=='\r'&&shouldIndentNextCharacter){shouldIndentNextCharacter=false;if(charIndex===chunk.start){chunk.prependRight(indentStr);}else{this._splitChunk(chunk,charIndex);chunk=chunk.next;chunk.prependRight(indentStr);}}}charIndex+=1;}}charIndex=chunk.end;chunk=chunk.next;}this.outro=this.outro.replace(pattern,replacer);return this;};MagicString.prototype.insert=function insert(){throw new Error('magicString.insert(...) is deprecated. Use prependRight(...) or appendLeft(...)');};MagicString.prototype.insertLeft=function insertLeft(index,content){if(!warned.insertLeft){console.warn('magicString.insertLeft(...) is deprecated. Use magicString.appendLeft(...) instead');// eslint-disable-line no-console
warned.insertLeft=true;}return this.appendLeft(index,content);};MagicString.prototype.insertRight=function insertRight(index,content){if(!warned.insertRight){console.warn('magicString.insertRight(...) is deprecated. Use magicString.prependRight(...) instead');// eslint-disable-line no-console
warned.insertRight=true;}return this.prependRight(index,content);};MagicString.prototype.move=function move(start,end,index){if(index>=start&&index<=end){throw new Error('Cannot move a selection inside itself');}this._split(start);this._split(end);this._split(index);var first=this.byStart[start];var last=this.byEnd[end];var oldLeft=first.previous;var oldRight=last.next;var newRight=this.byStart[index];if(!newRight&&last===this.lastChunk){return this;}var newLeft=newRight?newRight.previous:this.lastChunk;if(oldLeft){oldLeft.next=oldRight;}if(oldRight){oldRight.previous=oldLeft;}if(newLeft){newLeft.next=first;}if(newRight){newRight.previous=last;}if(!first.previous){this.firstChunk=last.next;}if(!last.next){this.lastChunk=first.previous;this.lastChunk.next=null;}first.previous=newLeft;last.next=newRight||null;if(!newLeft){this.firstChunk=first;}if(!newRight){this.lastChunk=last;}return this;};MagicString.prototype.overwrite=function overwrite(start,end,content,options){if(typeof content!=='string'){throw new TypeError('replacement content must be a string');}while(start<0){start+=this.original.length;}while(end<0){end+=this.original.length;}if(end>this.original.length){throw new Error('end is out of bounds');}if(start===end){throw new Error('Cannot overwrite a zero-length range – use appendLeft or prependRight instead');}this._split(start);this._split(end);if(options===true){if(!warned.storeName){console.warn('The final argument to magicString.overwrite(...) should be an options object. See https://github.com/rich-harris/magic-string');// eslint-disable-line no-console
warned.storeName=true;}options={storeName:true};}var storeName=options!==undefined?options.storeName:false;var contentOnly=options!==undefined?options.contentOnly:false;if(storeName){var original=this.original.slice(start,end);this.storedNames[original]=true;}var first=this.byStart[start];var last=this.byEnd[end];if(first){if(end>first.end&&first.next!==this.byStart[first.end]){throw new Error('Cannot overwrite across a split point');}first.edit(content,storeName,contentOnly);if(first!==last){var chunk=first.next;while(chunk!==last){chunk.edit('',false);chunk=chunk.next;}chunk.edit('',false);}}else{// must be inserting at the end
var newChunk=new Chunk(start,end,'').edit(content,storeName);// TODO last chunk in the array may not be the last chunk, if it's moved...
last.next=newChunk;newChunk.previous=last;}return this;};MagicString.prototype.prepend=function prepend(content){if(typeof content!=='string'){throw new TypeError('outro content must be a string');}this.intro=content+this.intro;return this;};MagicString.prototype.prependLeft=function prependLeft(index,content){if(typeof content!=='string'){throw new TypeError('inserted content must be a string');}this._split(index);var chunk=this.byEnd[index];if(chunk){chunk.prependLeft(content);}else{this.intro=content+this.intro;}return this;};MagicString.prototype.prependRight=function prependRight(index,content){if(typeof content!=='string'){throw new TypeError('inserted content must be a string');}this._split(index);var chunk=this.byStart[index];if(chunk){chunk.prependRight(content);}else{this.outro=content+this.outro;}return this;};MagicString.prototype.remove=function remove(start,end){while(start<0){start+=this.original.length;}while(end<0){end+=this.original.length;}if(start===end){return this;}if(start<0||end>this.original.length){throw new Error('Character is out of bounds');}if(start>end){throw new Error('end must be greater than start');}this._split(start);this._split(end);var chunk=this.byStart[start];while(chunk){chunk.intro='';chunk.outro='';chunk.edit('');chunk=end>chunk.end?this.byStart[chunk.end]:null;}return this;};MagicString.prototype.lastChar=function lastChar(){if(this.outro.length){return this.outro[this.outro.length-1];}var chunk=this.lastChunk;do{if(chunk.outro.length){return chunk.outro[chunk.outro.length-1];}if(chunk.content.length){return chunk.content[chunk.content.length-1];}if(chunk.intro.length){return chunk.intro[chunk.intro.length-1];}}while(chunk=chunk.previous);if(this.intro.length){return this.intro[this.intro.length-1];}return'';};MagicString.prototype.lastLine=function lastLine(){var lineIndex=this.outro.lastIndexOf(n);if(lineIndex!==-1){return this.outro.substr(lineIndex+1);}var lineStr=this.outro;var chunk=this.lastChunk;do{if(chunk.outro.length>0){lineIndex=chunk.outro.lastIndexOf(n);if(lineIndex!==-1){return chunk.outro.substr(lineIndex+1)+lineStr;}lineStr=chunk.outro+lineStr;}if(chunk.content.length>0){lineIndex=chunk.content.lastIndexOf(n);if(lineIndex!==-1){return chunk.content.substr(lineIndex+1)+lineStr;}lineStr=chunk.content+lineStr;}if(chunk.intro.length>0){lineIndex=chunk.intro.lastIndexOf(n);if(lineIndex!==-1){return chunk.intro.substr(lineIndex+1)+lineStr;}lineStr=chunk.intro+lineStr;}}while(chunk=chunk.previous);lineIndex=this.intro.lastIndexOf(n);if(lineIndex!==-1){return this.intro.substr(lineIndex+1)+lineStr;}return this.intro+lineStr;};MagicString.prototype.slice=function slice(start,end){if(start===void 0)start=0;if(end===void 0)end=this.original.length;while(start<0){start+=this.original.length;}while(end<0){end+=this.original.length;}var result='';// find start chunk
var chunk=this.firstChunk;while(chunk&&(chunk.start>start||chunk.end<=start)){// found end chunk before start
if(chunk.start<end&&chunk.end>=end){return result;}chunk=chunk.next;}if(chunk&&chunk.edited&&chunk.start!==start){throw new Error("Cannot use replaced character "+start+" as slice start anchor.");}var startChunk=chunk;while(chunk){if(chunk.intro&&(startChunk!==chunk||chunk.start===start)){result+=chunk.intro;}var containsEnd=chunk.start<end&&chunk.end>=end;if(containsEnd&&chunk.edited&&chunk.end!==end){throw new Error("Cannot use replaced character "+end+" as slice end anchor.");}var sliceStart=startChunk===chunk?start-chunk.start:0;var sliceEnd=containsEnd?chunk.content.length+end-chunk.end:chunk.content.length;result+=chunk.content.slice(sliceStart,sliceEnd);if(chunk.outro&&(!containsEnd||chunk.end===end)){result+=chunk.outro;}if(containsEnd){break;}chunk=chunk.next;}return result;};// TODO deprecate this? not really very useful
MagicString.prototype.snip=function snip(start,end){var clone=this.clone();clone.remove(0,start);clone.remove(end,clone.original.length);return clone;};MagicString.prototype._split=function _split(index){if(this.byStart[index]||this.byEnd[index]){return;}var chunk=this.lastSearchedChunk;var searchForward=index>chunk.end;while(chunk){if(chunk.contains(index)){return this._splitChunk(chunk,index);}chunk=searchForward?this.byStart[chunk.end]:this.byEnd[chunk.start];}};MagicString.prototype._splitChunk=function _splitChunk(chunk,index){if(chunk.edited&&chunk.content.length){// zero-length edited chunks are a special case (overlapping replacements)
var loc=getLocator(this.original)(index);throw new Error("Cannot split a chunk that has already been edited ("+loc.line+":"+loc.column+" – \""+chunk.original+"\")");}var newChunk=chunk.split(index);this.byEnd[index]=chunk;this.byStart[index]=newChunk;this.byEnd[newChunk.end]=newChunk;if(chunk===this.lastChunk){this.lastChunk=newChunk;}this.lastSearchedChunk=chunk;return true;};MagicString.prototype.toString=function toString(){var str=this.intro;var chunk=this.firstChunk;while(chunk){str+=chunk.toString();chunk=chunk.next;}return str+this.outro;};MagicString.prototype.isEmpty=function isEmpty(){var chunk=this.firstChunk;do{if(chunk.intro.length&&chunk.intro.trim()||chunk.content.length&&chunk.content.trim()||chunk.outro.length&&chunk.outro.trim()){return false;}}while(chunk=chunk.next);return true;};MagicString.prototype.length=function length(){var chunk=this.firstChunk;var length=0;do{length+=chunk.intro.length+chunk.content.length+chunk.outro.length;}while(chunk=chunk.next);return length;};MagicString.prototype.trimLines=function trimLines(){return this.trim('[\\r\\n]');};MagicString.prototype.trim=function trim(charType){return this.trimStart(charType).trimEnd(charType);};MagicString.prototype.trimEndAborted=function trimEndAborted(charType){var rx=new RegExp((charType||'\\s')+'+$');this.outro=this.outro.replace(rx,'');if(this.outro.length){return true;}var chunk=this.lastChunk;do{var end=chunk.end;var aborted=chunk.trimEnd(rx);// if chunk was trimmed, we have a new lastChunk
if(chunk.end!==end){if(this.lastChunk===chunk){this.lastChunk=chunk.next;}this.byEnd[chunk.end]=chunk;this.byStart[chunk.next.start]=chunk.next;this.byEnd[chunk.next.end]=chunk.next;}if(aborted){return true;}chunk=chunk.previous;}while(chunk);return false;};MagicString.prototype.trimEnd=function trimEnd(charType){this.trimEndAborted(charType);return this;};MagicString.prototype.trimStartAborted=function trimStartAborted(charType){var rx=new RegExp('^'+(charType||'\\s')+'+');this.intro=this.intro.replace(rx,'');if(this.intro.length){return true;}var chunk=this.firstChunk;do{var end=chunk.end;var aborted=chunk.trimStart(rx);if(chunk.end!==end){// special case...
if(chunk===this.lastChunk){this.lastChunk=chunk.next;}this.byEnd[chunk.end]=chunk;this.byStart[chunk.next.start]=chunk.next;this.byEnd[chunk.next.end]=chunk.next;}if(aborted){return true;}chunk=chunk.next;}while(chunk);return false;};MagicString.prototype.trimStart=function trimStart(charType){this.trimStartAborted(charType);return this;};var hasOwnProp=Object.prototype.hasOwnProperty;var Bundle=function Bundle(options){if(options===void 0)options={};this.intro=options.intro||'';this.separator=options.separator!==undefined?options.separator:'\n';this.sources=[];this.uniqueSources=[];this.uniqueSourceIndexByFilename={};};Bundle.prototype.addSource=function addSource(source){if(source instanceof MagicString){return this.addSource({content:source,filename:source.filename,separator:this.separator});}if(!isObject(source)||!source.content){throw new Error('bundle.addSource() takes an object with a `content` property, which should be an instance of MagicString, and an optional `filename`');}['filename','indentExclusionRanges','separator'].forEach(function(option){if(!hasOwnProp.call(source,option)){source[option]=source.content[option];}});if(source.separator===undefined){// TODO there's a bunch of this sort of thing, needs cleaning up
source.separator=this.separator;}if(source.filename){if(!hasOwnProp.call(this.uniqueSourceIndexByFilename,source.filename)){this.uniqueSourceIndexByFilename[source.filename]=this.uniqueSources.length;this.uniqueSources.push({filename:source.filename,content:source.content.original});}else{var uniqueSource=this.uniqueSources[this.uniqueSourceIndexByFilename[source.filename]];if(source.content.original!==uniqueSource.content){throw new Error("Illegal source: same filename ("+source.filename+"), different contents");}}}this.sources.push(source);return this;};Bundle.prototype.append=function append(str,options){this.addSource({content:new MagicString(str),separator:options&&options.separator||''});return this;};Bundle.prototype.clone=function clone(){var bundle=new Bundle({intro:this.intro,separator:this.separator});this.sources.forEach(function(source){bundle.addSource({filename:source.filename,content:source.content.clone(),separator:source.separator});});return bundle;};Bundle.prototype.generateDecodedMap=function generateDecodedMap(options){var this$1=this;if(options===void 0)options={};var names=[];this.sources.forEach(function(source){Object.keys(source.content.storedNames).forEach(function(name){if(!~names.indexOf(name)){names.push(name);}});});var mappings=new Mappings(options.hires);if(this.intro){mappings.advance(this.intro);}this.sources.forEach(function(source,i){if(i>0){mappings.advance(this$1.separator);}var sourceIndex=source.filename?this$1.uniqueSourceIndexByFilename[source.filename]:-1;var magicString=source.content;var locate=getLocator(magicString.original);if(magicString.intro){mappings.advance(magicString.intro);}magicString.firstChunk.eachNext(function(chunk){var loc=locate(chunk.start);if(chunk.intro.length){mappings.advance(chunk.intro);}if(source.filename){if(chunk.edited){mappings.addEdit(sourceIndex,chunk.content,loc,chunk.storeName?names.indexOf(chunk.original):-1);}else{mappings.addUneditedChunk(sourceIndex,chunk,magicString.original,loc,magicString.sourcemapLocations);}}else{mappings.advance(chunk.content);}if(chunk.outro.length){mappings.advance(chunk.outro);}});if(magicString.outro){mappings.advance(magicString.outro);}});return{file:options.file?options.file.split(/[/\\]/).pop():null,sources:this.uniqueSources.map(function(source){return options.file?getRelativePath(options.file,source.filename):source.filename;}),sourcesContent:this.uniqueSources.map(function(source){return options.includeContent?source.content:null;}),names:names,mappings:mappings.raw};};Bundle.prototype.generateMap=function generateMap(options){return new SourceMap(this.generateDecodedMap(options));};Bundle.prototype.getIndentString=function getIndentString(){var indentStringCounts={};this.sources.forEach(function(source){var indentStr=source.content.indentStr;if(indentStr===null){return;}if(!indentStringCounts[indentStr]){indentStringCounts[indentStr]=0;}indentStringCounts[indentStr]+=1;});return Object.keys(indentStringCounts).sort(function(a,b){return indentStringCounts[a]-indentStringCounts[b];})[0]||'\t';};Bundle.prototype.indent=function indent(indentStr){var this$1=this;if(!arguments.length){indentStr=this.getIndentString();}if(indentStr===''){return this;}// noop
var trailingNewline=!this.intro||this.intro.slice(-1)==='\n';this.sources.forEach(function(source,i){var separator=source.separator!==undefined?source.separator:this$1.separator;var indentStart=trailingNewline||i>0&&/\r?\n$/.test(separator);source.content.indent(indentStr,{exclude:source.indentExclusionRanges,indentStart:indentStart//: trailingNewline || /\r?\n$/.test( separator )  //true///\r?\n/.test( separator )
});trailingNewline=source.content.lastChar()==='\n';});if(this.intro){this.intro=indentStr+this.intro.replace(/^[^\n]/gm,function(match,index){return index>0?indentStr+match:match;});}return this;};Bundle.prototype.prepend=function prepend(str){this.intro=str+this.intro;return this;};Bundle.prototype.toString=function toString(){var this$1=this;var body=this.sources.map(function(source,i){var separator=source.separator!==undefined?source.separator:this$1.separator;var str=(i>0?separator:'')+source.content.toString();return str;}).join('');return this.intro+body;};Bundle.prototype.isEmpty=function isEmpty(){if(this.intro.length&&this.intro.trim()){return false;}if(this.sources.some(function(source){return!source.content.isEmpty();})){return false;}return true;};Bundle.prototype.length=function length(){return this.sources.reduce(function(length,source){return length+source.content.length();},this.intro.length);};Bundle.prototype.trimLines=function trimLines(){return this.trim('[\\r\\n]');};Bundle.prototype.trim=function trim(charType){return this.trimStart(charType).trimEnd(charType);};Bundle.prototype.trimStart=function trimStart(charType){var rx=new RegExp('^'+(charType||'\\s')+'+');this.intro=this.intro.replace(rx,'');if(!this.intro){var source;var i=0;do{source=this.sources[i++];if(!source){break;}}while(!source.content.trimStartAborted(charType));}return this;};Bundle.prototype.trimEnd=function trimEnd(charType){var rx=new RegExp((charType||'\\s')+'+$');var source;var i=this.sources.length-1;do{source=this.sources[i--];if(!source){this.intro=this.intro.replace(rx,'');break;}}while(!source.content.trimEndAborted(charType));return this;};var minimalisticAssert=assert;function assert(val,msg){if(!val)throw new Error(msg||'Assertion failed');}assert.equal=function assertEqual(l,r,msg){if(l!=r)throw new Error(msg||'Assertion failed: '+l+' != '+r);};function createCommonjsModule(fn,module){return module={exports:{}},fn(module,module.exports),module.exports;}var inherits_browser=createCommonjsModule(function(module){if(typeof Object.create==='function'){// implementation from standard node.js 'util' module
module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}});};}else{// old school shim for old browsers
module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function TempCtor(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor();ctor.prototype.constructor=ctor;};}});var inherits=createCommonjsModule(function(module){try{var util$1=util;if(typeof util$1.inherits!=='function')throw'';module.exports=util$1.inherits;}catch(e){module.exports=inherits_browser;}});var inherits_1=inherits;function isSurrogatePair(msg,i){if((msg.charCodeAt(i)&0xFC00)!==0xD800){return false;}if(i<0||i+1>=msg.length){return false;}return(msg.charCodeAt(i+1)&0xFC00)===0xDC00;}function toArray(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return[];var res=[];if(typeof msg==='string'){if(!enc){// Inspired by stringToUtf8ByteArray() in closure-library by Google
// https://github.com/google/closure-library/blob/8598d87242af59aac233270742c8984e2b2bdbe0/closure/goog/crypt/crypt.js#L117-L143
// Apache License 2.0
// https://github.com/google/closure-library/blob/master/LICENSE
var p=0;for(var i=0;i<msg.length;i++){var c=msg.charCodeAt(i);if(c<128){res[p++]=c;}else if(c<2048){res[p++]=c>>6|192;res[p++]=c&63|128;}else if(isSurrogatePair(msg,i)){c=0x10000+((c&0x03FF)<<10)+(msg.charCodeAt(++i)&0x03FF);res[p++]=c>>18|240;res[p++]=c>>12&63|128;res[p++]=c>>6&63|128;res[p++]=c&63|128;}else{res[p++]=c>>12|224;res[p++]=c>>6&63|128;res[p++]=c&63|128;}}}else if(enc==='hex'){msg=msg.replace(/[^a-z0-9]+/ig,'');if(msg.length%2!==0)msg='0'+msg;for(i=0;i<msg.length;i+=2){res.push(parseInt(msg[i]+msg[i+1],16));}}}else{for(i=0;i<msg.length;i++){res[i]=msg[i]|0;}}return res;}var toArray_1=toArray;function toHex(msg){var res='';for(var i=0;i<msg.length;i++){res+=zero2(msg[i].toString(16));}return res;}var toHex_1=toHex;function htonl(w){var res=w>>>24|w>>>8&0xff00|w<<8&0xff0000|(w&0xff)<<24;return res>>>0;}var htonl_1=htonl;function toHex32(msg,endian){var res='';for(var i=0;i<msg.length;i++){var w=msg[i];if(endian==='little')w=htonl(w);res+=zero8(w.toString(16));}return res;}var toHex32_1=toHex32;function zero2(word){if(word.length===1)return'0'+word;else return word;}var zero2_1=zero2;function zero8(word){if(word.length===7)return'0'+word;else if(word.length===6)return'00'+word;else if(word.length===5)return'000'+word;else if(word.length===4)return'0000'+word;else if(word.length===3)return'00000'+word;else if(word.length===2)return'000000'+word;else if(word.length===1)return'0000000'+word;else return word;}var zero8_1=zero8;function join32(msg,start,end,endian){var len=end-start;minimalisticAssert(len%4===0);var res=new Array(len/4);for(var i=0,k=start;i<res.length;i++,k+=4){var w;if(endian==='big')w=msg[k]<<24|msg[k+1]<<16|msg[k+2]<<8|msg[k+3];else w=msg[k+3]<<24|msg[k+2]<<16|msg[k+1]<<8|msg[k];res[i]=w>>>0;}return res;}var join32_1=join32;function split32(msg,endian){var res=new Array(msg.length*4);for(var i=0,k=0;i<msg.length;i++,k+=4){var m=msg[i];if(endian==='big'){res[k]=m>>>24;res[k+1]=m>>>16&0xff;res[k+2]=m>>>8&0xff;res[k+3]=m&0xff;}else{res[k+3]=m>>>24;res[k+2]=m>>>16&0xff;res[k+1]=m>>>8&0xff;res[k]=m&0xff;}}return res;}var split32_1=split32;function rotr32(w,b){return w>>>b|w<<32-b;}var rotr32_1=rotr32;function rotl32(w,b){return w<<b|w>>>32-b;}var rotl32_1=rotl32;function sum32(a,b){return a+b>>>0;}var sum32_1=sum32;function sum32_3(a,b,c){return a+b+c>>>0;}var sum32_3_1=sum32_3;function sum32_4(a,b,c,d){return a+b+c+d>>>0;}var sum32_4_1=sum32_4;function sum32_5(a,b,c,d,e){return a+b+c+d+e>>>0;}var sum32_5_1=sum32_5;function sum64(buf,pos,ah,al){var bh=buf[pos];var bl=buf[pos+1];var lo=al+bl>>>0;var hi=(lo<al?1:0)+ah+bh;buf[pos]=hi>>>0;buf[pos+1]=lo;}var sum64_1=sum64;function sum64_hi(ah,al,bh,bl){var lo=al+bl>>>0;var hi=(lo<al?1:0)+ah+bh;return hi>>>0;}var sum64_hi_1=sum64_hi;function sum64_lo(ah,al,bh,bl){var lo=al+bl;return lo>>>0;}var sum64_lo_1=sum64_lo;function sum64_4_hi(ah,al,bh,bl,ch,cl,dh,dl){var carry=0;var lo=al;lo=lo+bl>>>0;carry+=lo<al?1:0;lo=lo+cl>>>0;carry+=lo<cl?1:0;lo=lo+dl>>>0;carry+=lo<dl?1:0;var hi=ah+bh+ch+dh+carry;return hi>>>0;}var sum64_4_hi_1=sum64_4_hi;function sum64_4_lo(ah,al,bh,bl,ch,cl,dh,dl){var lo=al+bl+cl+dl;return lo>>>0;}var sum64_4_lo_1=sum64_4_lo;function sum64_5_hi(ah,al,bh,bl,ch,cl,dh,dl,eh,el){var carry=0;var lo=al;lo=lo+bl>>>0;carry+=lo<al?1:0;lo=lo+cl>>>0;carry+=lo<cl?1:0;lo=lo+dl>>>0;carry+=lo<dl?1:0;lo=lo+el>>>0;carry+=lo<el?1:0;var hi=ah+bh+ch+dh+eh+carry;return hi>>>0;}var sum64_5_hi_1=sum64_5_hi;function sum64_5_lo(ah,al,bh,bl,ch,cl,dh,dl,eh,el){var lo=al+bl+cl+dl+el;return lo>>>0;}var sum64_5_lo_1=sum64_5_lo;function rotr64_hi(ah,al,num){var r=al<<32-num|ah>>>num;return r>>>0;}var rotr64_hi_1=rotr64_hi;function rotr64_lo(ah,al,num){var r=ah<<32-num|al>>>num;return r>>>0;}var rotr64_lo_1=rotr64_lo;function shr64_hi(ah,al,num){return ah>>>num;}var shr64_hi_1=shr64_hi;function shr64_lo(ah,al,num){var r=ah<<32-num|al>>>num;return r>>>0;}var shr64_lo_1=shr64_lo;var utils={inherits:inherits_1,toArray:toArray_1,toHex:toHex_1,htonl:htonl_1,toHex32:toHex32_1,zero2:zero2_1,zero8:zero8_1,join32:join32_1,split32:split32_1,rotr32:rotr32_1,rotl32:rotl32_1,sum32:sum32_1,sum32_3:sum32_3_1,sum32_4:sum32_4_1,sum32_5:sum32_5_1,sum64:sum64_1,sum64_hi:sum64_hi_1,sum64_lo:sum64_lo_1,sum64_4_hi:sum64_4_hi_1,sum64_4_lo:sum64_4_lo_1,sum64_5_hi:sum64_5_hi_1,sum64_5_lo:sum64_5_lo_1,rotr64_hi:rotr64_hi_1,rotr64_lo:rotr64_lo_1,shr64_hi:shr64_hi_1,shr64_lo:shr64_lo_1};function BlockHash(){this.pending=null;this.pendingTotal=0;this.blockSize=this.constructor.blockSize;this.outSize=this.constructor.outSize;this.hmacStrength=this.constructor.hmacStrength;this.padLength=this.constructor.padLength/8;this.endian='big';this._delta8=this.blockSize/8;this._delta32=this.blockSize/32;}var BlockHash_1=BlockHash;BlockHash.prototype.update=function update(msg,enc){// Convert message to array, pad it, and join into 32bit blocks
msg=utils.toArray(msg,enc);if(!this.pending)this.pending=msg;else this.pending=this.pending.concat(msg);this.pendingTotal+=msg.length;// Enough data, try updating
if(this.pending.length>=this._delta8){msg=this.pending;// Process pending data in blocks
var r=msg.length%this._delta8;this.pending=msg.slice(msg.length-r,msg.length);if(this.pending.length===0)this.pending=null;msg=utils.join32(msg,0,msg.length-r,this.endian);for(var i=0;i<msg.length;i+=this._delta32){this._update(msg,i,i+this._delta32);}}return this;};BlockHash.prototype.digest=function digest(enc){this.update(this._pad());minimalisticAssert(this.pending===null);return this._digest(enc);};BlockHash.prototype._pad=function pad(){var len=this.pendingTotal;var bytes=this._delta8;var k=bytes-(len+this.padLength)%bytes;var res=new Array(k+this.padLength);res[0]=0x80;for(var i=1;i<k;i++){res[i]=0;}// Append length
len<<=3;if(this.endian==='big'){for(var t=8;t<this.padLength;t++){res[i++]=0;}res[i++]=0;res[i++]=0;res[i++]=0;res[i++]=0;res[i++]=len>>>24&0xff;res[i++]=len>>>16&0xff;res[i++]=len>>>8&0xff;res[i++]=len&0xff;}else{res[i++]=len&0xff;res[i++]=len>>>8&0xff;res[i++]=len>>>16&0xff;res[i++]=len>>>24&0xff;res[i++]=0;res[i++]=0;res[i++]=0;res[i++]=0;for(t=8;t<this.padLength;t++){res[i++]=0;}}return res;};var common={BlockHash:BlockHash_1};var rotr32$1=utils.rotr32;function ft_1(s,x,y,z){if(s===0)return ch32(x,y,z);if(s===1||s===3)return p32(x,y,z);if(s===2)return maj32(x,y,z);}var ft_1_1=ft_1;function ch32(x,y,z){return x&y^~x&z;}var ch32_1=ch32;function maj32(x,y,z){return x&y^x&z^y&z;}var maj32_1=maj32;function p32(x,y,z){return x^y^z;}var p32_1=p32;function s0_256(x){return rotr32$1(x,2)^rotr32$1(x,13)^rotr32$1(x,22);}var s0_256_1=s0_256;function s1_256(x){return rotr32$1(x,6)^rotr32$1(x,11)^rotr32$1(x,25);}var s1_256_1=s1_256;function g0_256(x){return rotr32$1(x,7)^rotr32$1(x,18)^x>>>3;}var g0_256_1=g0_256;function g1_256(x){return rotr32$1(x,17)^rotr32$1(x,19)^x>>>10;}var g1_256_1=g1_256;var common$1={ft_1:ft_1_1,ch32:ch32_1,maj32:maj32_1,p32:p32_1,s0_256:s0_256_1,s1_256:s1_256_1,g0_256:g0_256_1,g1_256:g1_256_1};var sum32$1=utils.sum32;var sum32_4$1=utils.sum32_4;var sum32_5$1=utils.sum32_5;var ch32$1=common$1.ch32;var maj32$1=common$1.maj32;var s0_256$1=common$1.s0_256;var s1_256$1=common$1.s1_256;var g0_256$1=common$1.g0_256;var g1_256$1=common$1.g1_256;var BlockHash$1=common.BlockHash;var sha256_K=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0x0fc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x06ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2];function SHA256(){if(!(this instanceof SHA256))return new SHA256();BlockHash$1.call(this);this.h=[0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19];this.k=sha256_K;this.W=new Array(64);}utils.inherits(SHA256,BlockHash$1);var _256=SHA256;SHA256.blockSize=512;SHA256.outSize=256;SHA256.hmacStrength=192;SHA256.padLength=64;SHA256.prototype._update=function _update(msg,start){var W=this.W;for(var i=0;i<16;i++){W[i]=msg[start+i];}for(;i<W.length;i++){W[i]=sum32_4$1(g1_256$1(W[i-2]),W[i-7],g0_256$1(W[i-15]),W[i-16]);}var a=this.h[0];var b=this.h[1];var c=this.h[2];var d=this.h[3];var e=this.h[4];var f=this.h[5];var g=this.h[6];var h=this.h[7];minimalisticAssert(this.k.length===W.length);for(i=0;i<W.length;i++){var T1=sum32_5$1(h,s1_256$1(e),ch32$1(e,f,g),this.k[i],W[i]);var T2=sum32$1(s0_256$1(a),maj32$1(a,b,c));h=g;g=f;f=e;e=sum32$1(d,T1);d=c;c=b;b=a;a=sum32$1(T1,T2);}this.h[0]=sum32$1(this.h[0],a);this.h[1]=sum32$1(this.h[1],b);this.h[2]=sum32$1(this.h[2],c);this.h[3]=sum32$1(this.h[3],d);this.h[4]=sum32$1(this.h[4],e);this.h[5]=sum32$1(this.h[5],f);this.h[6]=sum32$1(this.h[6],g);this.h[7]=sum32$1(this.h[7],h);};SHA256.prototype._digest=function digest(enc){if(enc==='hex')return utils.toHex32(this.h,'big');else return utils.split32(this.h,'big');};var createHash=function createHash(){return _256();};function relative(from,to){var fromParts=from.split(/[/\\]/).filter(Boolean);var toParts=to.split(/[/\\]/).filter(Boolean);if(fromParts[0]==='.')fromParts.shift();if(toParts[0]==='.')toParts.shift();while(fromParts[0]&&toParts[0]&&fromParts[0]===toParts[0]){fromParts.shift();toParts.shift();}while(toParts[0]==='..'&&fromParts.length>0){toParts.shift();fromParts.pop();}while(fromParts.pop()){toParts.unshift('..');}return toParts.join('/');}var UnknownKey=Symbol('Unknown Key');var EMPTY_PATH=[];var UNKNOWN_PATH=[UnknownKey];var EntitiesKey=Symbol('Entities');var PathTracker=/*#__PURE__*/function(){function PathTracker(){_classCallCheck(this,PathTracker);this.entityPaths=Object.create(null,_defineProperty({},EntitiesKey,{value:new Set()}));}_createClass(PathTracker,[{key:"getEntities",value:function getEntities(path){var currentPaths=this.entityPaths;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=path[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var pathSegment=_step.value;currentPaths=currentPaths[pathSegment]=currentPaths[pathSegment]||Object.create(null,_defineProperty({},EntitiesKey,{value:new Set()}));}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator["return"]!=null){_iterator["return"]();}}finally{if(_didIteratorError){throw _iteratorError;}}}return currentPaths[EntitiesKey];}}]);return PathTracker;}();var SHARED_RECURSION_TRACKER=new PathTracker();var BROKEN_FLOW_NONE=0;var BROKEN_FLOW_BREAK_CONTINUE=1;var BROKEN_FLOW_ERROR_RETURN_LABEL=2;function createInclusionContext(){return{brokenFlow:BROKEN_FLOW_NONE,includedLabels:new Set()};}function createHasEffectsContext(){return{accessed:new PathTracker(),assigned:new PathTracker(),brokenFlow:BROKEN_FLOW_NONE,called:new PathTracker(),ignore:{breaks:false,continues:false,labels:new Set(),returnAwaitYield:false},includedLabels:new Set(),instantiated:new PathTracker(),replacedVariableInits:new Map()};}var BlockStatement='BlockStatement';var CallExpression='CallExpression';var ExportNamespaceSpecifier='ExportNamespaceSpecifier';var ExpressionStatement='ExpressionStatement';var FunctionExpression='FunctionExpression';var Identifier='Identifier';var ImportDefaultSpecifier='ImportDefaultSpecifier';var ImportNamespaceSpecifier='ImportNamespaceSpecifier';var Program='Program';var Property='Property';var ReturnStatement='ReturnStatement';function treeshakeNode(node,code,start,end){code.remove(start,end);if(node.annotations){var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=node.annotations[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var annotation=_step2.value;if(annotation.start<start){code.remove(annotation.start,annotation.end);}else{return;}}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2["return"]!=null){_iterator2["return"]();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}}}function removeAnnotations(node,code){if(!node.annotations&&node.parent.type===ExpressionStatement){node=node.parent;}if(node.annotations){var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=node.annotations[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var annotation=_step3.value;code.remove(annotation.start,annotation.end);}}catch(err){_didIteratorError3=true;_iteratorError3=err;}finally{try{if(!_iteratorNormalCompletion3&&_iterator3["return"]!=null){_iterator3["return"]();}}finally{if(_didIteratorError3){throw _iteratorError3;}}}}}var NO_SEMICOLON={isNoStatement:true};// This assumes there are only white-space and comments between start and the string we are looking for
function findFirstOccurrenceOutsideComment(code,searchString){var start=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var searchPos,charCodeAfterSlash;searchPos=code.indexOf(searchString,start);while(true){start=code.indexOf('/',start);if(start===-1||start>=searchPos)return searchPos;charCodeAfterSlash=code.charCodeAt(++start);++start;// With our assumption, '/' always starts a comment. Determine comment type:
start=charCodeAfterSlash===47/*"/"*/?code.indexOf('\n',start)+1:code.indexOf('*/',start)+2;if(start>searchPos){searchPos=code.indexOf(searchString,start);}}}// This assumes "code" only contains white-space and comments
function findFirstLineBreakOutsideComment(code){var lineBreakPos,charCodeAfterSlash,start=0;lineBreakPos=code.indexOf('\n',start);while(true){start=code.indexOf('/',start);if(start===-1||start>lineBreakPos)return lineBreakPos;// With our assumption, '/' always starts a comment. Determine comment type:
charCodeAfterSlash=code.charCodeAt(++start);if(charCodeAfterSlash===47/*"/"*/)return lineBreakPos;start=code.indexOf('*/',start+2)+2;if(start>lineBreakPos){lineBreakPos=code.indexOf('\n',start);}}}function renderStatementList(statements,code,start,end,options){var currentNode,currentNodeStart,currentNodeNeedsBoundaries,nextNodeStart;var nextNode=statements[0];var nextNodeNeedsBoundaries=!nextNode.included||nextNode.needsBoundaries;if(nextNodeNeedsBoundaries){nextNodeStart=start+findFirstLineBreakOutsideComment(code.original.slice(start,nextNode.start))+1;}for(var nextIndex=1;nextIndex<=statements.length;nextIndex++){currentNode=nextNode;currentNodeStart=nextNodeStart;currentNodeNeedsBoundaries=nextNodeNeedsBoundaries;nextNode=statements[nextIndex];nextNodeNeedsBoundaries=nextNode===undefined?false:!nextNode.included||nextNode.needsBoundaries;if(currentNodeNeedsBoundaries||nextNodeNeedsBoundaries){nextNodeStart=currentNode.end+findFirstLineBreakOutsideComment(code.original.slice(currentNode.end,nextNode===undefined?end:nextNode.start))+1;if(currentNode.included){currentNodeNeedsBoundaries?currentNode.render(code,options,{end:nextNodeStart,start:currentNodeStart}):currentNode.render(code,options);}else{treeshakeNode(currentNode,code,currentNodeStart,nextNodeStart);}}else{currentNode.render(code,options);}}}// This assumes that the first character is not part of the first node
function getCommaSeparatedNodesWithBoundaries(nodes,code,start,end){var splitUpNodes=[];var node,nextNode,nextNodeStart,contentEnd,_char3;var separator=start-1;for(var nextIndex=0;nextIndex<nodes.length;nextIndex++){nextNode=nodes[nextIndex];if(node!==undefined){separator=node.end+findFirstOccurrenceOutsideComment(code.original.slice(node.end,nextNode.start),',');}nextNodeStart=contentEnd=separator+2+findFirstLineBreakOutsideComment(code.original.slice(separator+1,nextNode.start));while(_char3=code.original.charCodeAt(nextNodeStart),_char3===32/*" "*/||_char3===9/*"\t"*/||_char3===10/*"\n"*/||_char3===13/*"\r"*/){nextNodeStart++;}if(node!==undefined){splitUpNodes.push({contentEnd:contentEnd,end:nextNodeStart,node:node,separator:separator,start:start});}node=nextNode;start=nextNodeStart;}splitUpNodes.push({contentEnd:end,end:end,node:node,separator:null,start:start});return splitUpNodes;}// This assumes there are only white-space and comments between start and end
function removeLineBreaks(code,start,end){while(true){var lineBreakPos=findFirstLineBreakOutsideComment(code.original.slice(start,end));if(lineBreakPos===-1){break;}start=start+lineBreakPos+1;code.remove(start-1,start);}}var chars$1='0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_$';var base=64;function toBase64(num){var outStr='';do{var curDigit=num%base;num=Math.floor(num/base);outStr=chars$1[curDigit]+outStr;}while(num!==0);return outStr;}// Verified on IE 6/7 that these keywords can't be used for object properties without escaping:
//   break case catch class const continue debugger default delete do
//   else enum export extends false finally for function if import
//   in instanceof new null return super switch this throw true
//   try typeof var void while with
var RESERVED_NAMES=Object.assign(Object.create(null),{"await":true,"break":true,"case":true,"catch":true,"class":true,"const":true,"continue":true,"debugger":true,"default":true,"delete":true,"do":true,"else":true,"enum":true,eval:true,"export":true,"extends":true,"false":true,"finally":true,"for":true,"function":true,"if":true,"implements":true,"import":true,"in":true,"instanceof":true,"interface":true,"let":true,"new":true,"null":true,"package":true,"private":true,"protected":true,"public":true,"return":true,"static":true,"super":true,"switch":true,"this":true,"throw":true,"true":true,"try":true,"typeof":true,undefined:true,"var":true,"void":true,"while":true,"with":true,"yield":true});function getSafeName(baseName,usedNames){var safeName=baseName;var count=1;while(usedNames.has(safeName)||RESERVED_NAMES[safeName]){safeName="".concat(baseName,"$").concat(toBase64(count++));}usedNames.add(safeName);return safeName;}var NO_ARGS=[];function assembleMemberDescriptions(memberDescriptions){var inheritedDescriptions=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return Object.create(inheritedDescriptions,memberDescriptions);}var UnknownValue=Symbol('Unknown Value');var UNKNOWN_EXPRESSION={deoptimizePath:function deoptimizePath(){},getLiteralValueAtPath:function getLiteralValueAtPath(){return UnknownValue;},getReturnExpressionWhenCalledAtPath:function getReturnExpressionWhenCalledAtPath(){return UNKNOWN_EXPRESSION;},hasEffectsWhenAccessedAtPath:function hasEffectsWhenAccessedAtPath(path){return path.length>0;},hasEffectsWhenAssignedAtPath:function hasEffectsWhenAssignedAtPath(path){return path.length>0;},hasEffectsWhenCalledAtPath:function hasEffectsWhenCalledAtPath(){return true;},include:function include(){},includeCallArguments:function includeCallArguments(context,args){var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=args[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var arg=_step4.value;arg.include(context,false);}}catch(err){_didIteratorError4=true;_iteratorError4=err;}finally{try{if(!_iteratorNormalCompletion4&&_iterator4["return"]!=null){_iterator4["return"]();}}finally{if(_didIteratorError4){throw _iteratorError4;}}}},included:true,toString:function toString(){return'[[UNKNOWN]]';}};var UNDEFINED_EXPRESSION={deoptimizePath:function deoptimizePath(){},getLiteralValueAtPath:function getLiteralValueAtPath(){return undefined;},getReturnExpressionWhenCalledAtPath:function getReturnExpressionWhenCalledAtPath(){return UNKNOWN_EXPRESSION;},hasEffectsWhenAccessedAtPath:function hasEffectsWhenAccessedAtPath(path){return path.length>0;},hasEffectsWhenAssignedAtPath:function hasEffectsWhenAssignedAtPath(path){return path.length>0;},hasEffectsWhenCalledAtPath:function hasEffectsWhenCalledAtPath(){return true;},include:function include(){},includeCallArguments:function includeCallArguments(){},included:true,toString:function toString(){return'undefined';}};var returnsUnknown={value:{callsArgs:null,mutatesSelf:false,returns:null,returnsPrimitive:UNKNOWN_EXPRESSION}};var mutatesSelfReturnsUnknown={value:{returns:null,returnsPrimitive:UNKNOWN_EXPRESSION,callsArgs:null,mutatesSelf:true}};var callsArgReturnsUnknown={value:{returns:null,returnsPrimitive:UNKNOWN_EXPRESSION,callsArgs:[0],mutatesSelf:false}};var UnknownArrayExpression=/*#__PURE__*/function(){function UnknownArrayExpression(){_classCallCheck(this,UnknownArrayExpression);this.included=false;}_createClass(UnknownArrayExpression,[{key:"deoptimizePath",value:function deoptimizePath(){}},{key:"getLiteralValueAtPath",value:function getLiteralValueAtPath(){return UnknownValue;}},{key:"getReturnExpressionWhenCalledAtPath",value:function getReturnExpressionWhenCalledAtPath(path){if(path.length===1){return getMemberReturnExpressionWhenCalled(arrayMembers,path[0]);}return UNKNOWN_EXPRESSION;}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path){return path.length>1;}},{key:"hasEffectsWhenAssignedAtPath",value:function hasEffectsWhenAssignedAtPath(path){return path.length>1;}},{key:"hasEffectsWhenCalledAtPath",value:function hasEffectsWhenCalledAtPath(path,callOptions,context){if(path.length===1){return hasMemberEffectWhenCalled(arrayMembers,path[0],this.included,callOptions,context);}return true;}},{key:"include",value:function include(){this.included=true;}},{key:"includeCallArguments",value:function includeCallArguments(context,args){var _iteratorNormalCompletion5=true;var _didIteratorError5=false;var _iteratorError5=undefined;try{for(var _iterator5=args[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=true){var arg=_step5.value;arg.include(context,false);}}catch(err){_didIteratorError5=true;_iteratorError5=err;}finally{try{if(!_iteratorNormalCompletion5&&_iterator5["return"]!=null){_iterator5["return"]();}}finally{if(_didIteratorError5){throw _iteratorError5;}}}}},{key:"toString",value:function toString(){return'[[UNKNOWN ARRAY]]';}}]);return UnknownArrayExpression;}();var returnsArray={value:{callsArgs:null,mutatesSelf:false,returns:UnknownArrayExpression,returnsPrimitive:null}};var mutatesSelfReturnsArray={value:{callsArgs:null,mutatesSelf:true,returns:UnknownArrayExpression,returnsPrimitive:null}};var callsArgReturnsArray={value:{callsArgs:[0],mutatesSelf:false,returns:UnknownArrayExpression,returnsPrimitive:null}};var callsArgMutatesSelfReturnsArray={value:{callsArgs:[0],mutatesSelf:true,returns:UnknownArrayExpression,returnsPrimitive:null}};var UNKNOWN_LITERAL_BOOLEAN={deoptimizePath:function deoptimizePath(){},getLiteralValueAtPath:function getLiteralValueAtPath(){return UnknownValue;},getReturnExpressionWhenCalledAtPath:function getReturnExpressionWhenCalledAtPath(path){if(path.length===1){return getMemberReturnExpressionWhenCalled(literalBooleanMembers,path[0]);}return UNKNOWN_EXPRESSION;},hasEffectsWhenAccessedAtPath:function hasEffectsWhenAccessedAtPath(path){return path.length>1;},hasEffectsWhenAssignedAtPath:function hasEffectsWhenAssignedAtPath(path){return path.length>0;},hasEffectsWhenCalledAtPath:function hasEffectsWhenCalledAtPath(path){if(path.length===1){var subPath=path[0];return typeof subPath!=='string'||!literalBooleanMembers[subPath];}return true;},include:function include(){},includeCallArguments:function includeCallArguments(context,args){var _iteratorNormalCompletion6=true;var _didIteratorError6=false;var _iteratorError6=undefined;try{for(var _iterator6=args[Symbol.iterator](),_step6;!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=true){var arg=_step6.value;arg.include(context,false);}}catch(err){_didIteratorError6=true;_iteratorError6=err;}finally{try{if(!_iteratorNormalCompletion6&&_iterator6["return"]!=null){_iterator6["return"]();}}finally{if(_didIteratorError6){throw _iteratorError6;}}}},included:true,toString:function toString(){return'[[UNKNOWN BOOLEAN]]';}};var returnsBoolean={value:{callsArgs:null,mutatesSelf:false,returns:null,returnsPrimitive:UNKNOWN_LITERAL_BOOLEAN}};var callsArgReturnsBoolean={value:{callsArgs:[0],mutatesSelf:false,returns:null,returnsPrimitive:UNKNOWN_LITERAL_BOOLEAN}};var UNKNOWN_LITERAL_NUMBER={deoptimizePath:function deoptimizePath(){},getLiteralValueAtPath:function getLiteralValueAtPath(){return UnknownValue;},getReturnExpressionWhenCalledAtPath:function getReturnExpressionWhenCalledAtPath(path){if(path.length===1){return getMemberReturnExpressionWhenCalled(literalNumberMembers,path[0]);}return UNKNOWN_EXPRESSION;},hasEffectsWhenAccessedAtPath:function hasEffectsWhenAccessedAtPath(path){return path.length>1;},hasEffectsWhenAssignedAtPath:function hasEffectsWhenAssignedAtPath(path){return path.length>0;},hasEffectsWhenCalledAtPath:function hasEffectsWhenCalledAtPath(path){if(path.length===1){var subPath=path[0];return typeof subPath!=='string'||!literalNumberMembers[subPath];}return true;},include:function include(){},includeCallArguments:function includeCallArguments(context,args){var _iteratorNormalCompletion7=true;var _didIteratorError7=false;var _iteratorError7=undefined;try{for(var _iterator7=args[Symbol.iterator](),_step7;!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=true){var arg=_step7.value;arg.include(context,false);}}catch(err){_didIteratorError7=true;_iteratorError7=err;}finally{try{if(!_iteratorNormalCompletion7&&_iterator7["return"]!=null){_iterator7["return"]();}}finally{if(_didIteratorError7){throw _iteratorError7;}}}},included:true,toString:function toString(){return'[[UNKNOWN NUMBER]]';}};var returnsNumber={value:{callsArgs:null,mutatesSelf:false,returns:null,returnsPrimitive:UNKNOWN_LITERAL_NUMBER}};var mutatesSelfReturnsNumber={value:{callsArgs:null,mutatesSelf:true,returns:null,returnsPrimitive:UNKNOWN_LITERAL_NUMBER}};var callsArgReturnsNumber={value:{callsArgs:[0],mutatesSelf:false,returns:null,returnsPrimitive:UNKNOWN_LITERAL_NUMBER}};var UNKNOWN_LITERAL_STRING={deoptimizePath:function deoptimizePath(){},getLiteralValueAtPath:function getLiteralValueAtPath(){return UnknownValue;},getReturnExpressionWhenCalledAtPath:function getReturnExpressionWhenCalledAtPath(path){if(path.length===1){return getMemberReturnExpressionWhenCalled(literalStringMembers,path[0]);}return UNKNOWN_EXPRESSION;},hasEffectsWhenAccessedAtPath:function hasEffectsWhenAccessedAtPath(path){return path.length>1;},hasEffectsWhenAssignedAtPath:function hasEffectsWhenAssignedAtPath(path){return path.length>0;},hasEffectsWhenCalledAtPath:function hasEffectsWhenCalledAtPath(path,callOptions,context){if(path.length===1){return hasMemberEffectWhenCalled(literalStringMembers,path[0],true,callOptions,context);}return true;},include:function include(){},includeCallArguments:function includeCallArguments(context,args){var _iteratorNormalCompletion8=true;var _didIteratorError8=false;var _iteratorError8=undefined;try{for(var _iterator8=args[Symbol.iterator](),_step8;!(_iteratorNormalCompletion8=(_step8=_iterator8.next()).done);_iteratorNormalCompletion8=true){var arg=_step8.value;arg.include(context,false);}}catch(err){_didIteratorError8=true;_iteratorError8=err;}finally{try{if(!_iteratorNormalCompletion8&&_iterator8["return"]!=null){_iterator8["return"]();}}finally{if(_didIteratorError8){throw _iteratorError8;}}}},included:true,toString:function toString(){return'[[UNKNOWN STRING]]';}};var returnsString={value:{callsArgs:null,mutatesSelf:false,returns:null,returnsPrimitive:UNKNOWN_LITERAL_STRING}};var UnknownObjectExpression=/*#__PURE__*/function(){function UnknownObjectExpression(){_classCallCheck(this,UnknownObjectExpression);this.included=false;}_createClass(UnknownObjectExpression,[{key:"deoptimizePath",value:function deoptimizePath(){}},{key:"getLiteralValueAtPath",value:function getLiteralValueAtPath(){return UnknownValue;}},{key:"getReturnExpressionWhenCalledAtPath",value:function getReturnExpressionWhenCalledAtPath(path){if(path.length===1){return getMemberReturnExpressionWhenCalled(objectMembers,path[0]);}return UNKNOWN_EXPRESSION;}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path){return path.length>1;}},{key:"hasEffectsWhenAssignedAtPath",value:function hasEffectsWhenAssignedAtPath(path){return path.length>1;}},{key:"hasEffectsWhenCalledAtPath",value:function hasEffectsWhenCalledAtPath(path,callOptions,context){if(path.length===1){return hasMemberEffectWhenCalled(objectMembers,path[0],this.included,callOptions,context);}return true;}},{key:"include",value:function include(){this.included=true;}},{key:"includeCallArguments",value:function includeCallArguments(context,args){var _iteratorNormalCompletion9=true;var _didIteratorError9=false;var _iteratorError9=undefined;try{for(var _iterator9=args[Symbol.iterator](),_step9;!(_iteratorNormalCompletion9=(_step9=_iterator9.next()).done);_iteratorNormalCompletion9=true){var arg=_step9.value;arg.include(context,false);}}catch(err){_didIteratorError9=true;_iteratorError9=err;}finally{try{if(!_iteratorNormalCompletion9&&_iterator9["return"]!=null){_iterator9["return"]();}}finally{if(_didIteratorError9){throw _iteratorError9;}}}}},{key:"toString",value:function toString(){return'[[UNKNOWN OBJECT]]';}}]);return UnknownObjectExpression;}();var objectMembers=assembleMemberDescriptions({hasOwnProperty:returnsBoolean,isPrototypeOf:returnsBoolean,propertyIsEnumerable:returnsBoolean,toLocaleString:returnsString,toString:returnsString,valueOf:returnsUnknown});var arrayMembers=assembleMemberDescriptions({concat:returnsArray,copyWithin:mutatesSelfReturnsArray,every:callsArgReturnsBoolean,fill:mutatesSelfReturnsArray,filter:callsArgReturnsArray,find:callsArgReturnsUnknown,findIndex:callsArgReturnsNumber,forEach:callsArgReturnsUnknown,includes:returnsBoolean,indexOf:returnsNumber,join:returnsString,lastIndexOf:returnsNumber,map:callsArgReturnsArray,pop:mutatesSelfReturnsUnknown,push:mutatesSelfReturnsNumber,reduce:callsArgReturnsUnknown,reduceRight:callsArgReturnsUnknown,reverse:mutatesSelfReturnsArray,shift:mutatesSelfReturnsUnknown,slice:returnsArray,some:callsArgReturnsBoolean,sort:callsArgMutatesSelfReturnsArray,splice:mutatesSelfReturnsArray,unshift:mutatesSelfReturnsNumber},objectMembers);var literalBooleanMembers=assembleMemberDescriptions({valueOf:returnsBoolean},objectMembers);var literalNumberMembers=assembleMemberDescriptions({toExponential:returnsString,toFixed:returnsString,toLocaleString:returnsString,toPrecision:returnsString,valueOf:returnsNumber},objectMembers);var literalStringMembers=assembleMemberDescriptions({charAt:returnsString,charCodeAt:returnsNumber,codePointAt:returnsNumber,concat:returnsString,endsWith:returnsBoolean,includes:returnsBoolean,indexOf:returnsNumber,lastIndexOf:returnsNumber,localeCompare:returnsNumber,match:returnsBoolean,normalize:returnsString,padEnd:returnsString,padStart:returnsString,repeat:returnsString,replace:{value:{callsArgs:[1],mutatesSelf:false,returns:null,returnsPrimitive:UNKNOWN_LITERAL_STRING}},search:returnsNumber,slice:returnsString,split:returnsArray,startsWith:returnsBoolean,substr:returnsString,substring:returnsString,toLocaleLowerCase:returnsString,toLocaleUpperCase:returnsString,toLowerCase:returnsString,toUpperCase:returnsString,trim:returnsString,valueOf:returnsString},objectMembers);function getLiteralMembersForValue(value){switch(_typeof(value)){case'boolean':return literalBooleanMembers;case'number':return literalNumberMembers;case'string':return literalStringMembers;default:return Object.create(null);}}function hasMemberEffectWhenCalled(members,memberName,parentIncluded,callOptions,context){if(typeof memberName!=='string'||!members[memberName]||members[memberName].mutatesSelf&&parentIncluded)return true;if(!members[memberName].callsArgs)return false;var _iteratorNormalCompletion10=true;var _didIteratorError10=false;var _iteratorError10=undefined;try{for(var _iterator10=members[memberName].callsArgs[Symbol.iterator](),_step10;!(_iteratorNormalCompletion10=(_step10=_iterator10.next()).done);_iteratorNormalCompletion10=true){var argIndex=_step10.value;if(callOptions.args[argIndex]&&callOptions.args[argIndex].hasEffectsWhenCalledAtPath(EMPTY_PATH,{args:NO_ARGS,withNew:false},context))return true;}}catch(err){_didIteratorError10=true;_iteratorError10=err;}finally{try{if(!_iteratorNormalCompletion10&&_iterator10["return"]!=null){_iterator10["return"]();}}finally{if(_didIteratorError10){throw _iteratorError10;}}}return false;}function getMemberReturnExpressionWhenCalled(members,memberName){if(typeof memberName!=='string'||!members[memberName])return UNKNOWN_EXPRESSION;return members[memberName].returnsPrimitive!==null?members[memberName].returnsPrimitive:new members[memberName].returns();}var Variable=/*#__PURE__*/function(){function Variable(name){_classCallCheck(this,Variable);this.alwaysRendered=false;this.exportName=null;this.included=false;this.isId=false;this.isReassigned=false;this.renderBaseName=null;this.renderName=null;this.safeExportName=null;this.name=name;}/**
     * Binds identifiers that reference this variable to this variable.
     * Necessary to be able to change variable names.
     */_createClass(Variable,[{key:"addReference",value:function addReference(_identifier){}},{key:"deoptimizePath",value:function deoptimizePath(_path){}},{key:"getBaseVariableName",value:function getBaseVariableName(){return this.renderBaseName||this.renderName||this.name;}},{key:"getLiteralValueAtPath",value:function getLiteralValueAtPath(_path,_recursionTracker,_origin){return UnknownValue;}},{key:"getName",value:function getName(){var name=this.renderName||this.name;return this.renderBaseName?"".concat(this.renderBaseName).concat(getPropertyAccess(name)):name;}},{key:"getReturnExpressionWhenCalledAtPath",value:function getReturnExpressionWhenCalledAtPath(_path,_recursionTracker,_origin){return UNKNOWN_EXPRESSION;}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path,_context){return path.length>0;}},{key:"hasEffectsWhenAssignedAtPath",value:function hasEffectsWhenAssignedAtPath(_path,_context){return true;}},{key:"hasEffectsWhenCalledAtPath",value:function hasEffectsWhenCalledAtPath(_path,_callOptions,_context){return true;}/**
     * Marks this variable as being part of the bundle, which is usually the case when one of
     * its identifiers becomes part of the bundle. Returns true if it has not been included
     * previously.
     * Once a variable is included, it should take care all its declarations are included.
     */},{key:"include",value:function include(_context){this.included=true;}},{key:"includeCallArguments",value:function includeCallArguments(context,args){var _iteratorNormalCompletion11=true;var _didIteratorError11=false;var _iteratorError11=undefined;try{for(var _iterator11=args[Symbol.iterator](),_step11;!(_iteratorNormalCompletion11=(_step11=_iterator11.next()).done);_iteratorNormalCompletion11=true){var arg=_step11.value;arg.include(context,false);}}catch(err){_didIteratorError11=true;_iteratorError11=err;}finally{try{if(!_iteratorNormalCompletion11&&_iterator11["return"]!=null){_iterator11["return"]();}}finally{if(_didIteratorError11){throw _iteratorError11;}}}}},{key:"markCalledFromTryStatement",value:function markCalledFromTryStatement(){}},{key:"setRenderNames",value:function setRenderNames(baseName,name){this.renderBaseName=baseName;this.renderName=name;}},{key:"setSafeName",value:function setSafeName(name){this.renderName=name;}},{key:"toString",value:function toString(){return this.name;}}]);return Variable;}();var getPropertyAccess=function getPropertyAccess(name){return /^(?!\d)[\w$]+$/.test(name)?".".concat(name):"[".concat(JSON.stringify(name),"]");};var ExternalVariable=/*#__PURE__*/function(_Variable){_inherits(ExternalVariable,_Variable);function ExternalVariable(module,name){var _this;_classCallCheck(this,ExternalVariable);_this=_possibleConstructorReturn(this,_getPrototypeOf(ExternalVariable).call(this,name));_this.module=module;_this.isNamespace=name==='*';_this.referenced=false;return _this;}_createClass(ExternalVariable,[{key:"addReference",value:function addReference(identifier){this.referenced=true;if(this.name==='default'||this.name==='*'){this.module.suggestName(identifier.name);}}},{key:"include",value:function include(){if(!this.included){this.included=true;this.module.used=true;}}}]);return ExternalVariable;}(Variable);var reservedWords='break case class catch const continue debugger default delete do else export extends finally for function if import in instanceof let new return super switch this throw try typeof var void while with yield enum await implements package protected static interface private public'.split(' ');var builtins='Infinity NaN undefined null true false eval uneval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Symbol Error EvalError InternalError RangeError ReferenceError SyntaxError TypeError URIError Number Math Date String RegExp Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array Map Set WeakMap WeakSet SIMD ArrayBuffer DataView JSON Promise Generator GeneratorFunction Reflect Proxy Intl'.split(' ');var blacklisted=new Set(reservedWords.concat(builtins));var illegalCharacters=/[^$_a-zA-Z0-9]/g;var startsWithDigit=function startsWithDigit(str){return /\d/.test(str[0]);};function isLegal(str){if(startsWithDigit(str)||blacklisted.has(str)){return false;}return!illegalCharacters.test(str);}function makeLegal(str){str=str.replace(/-(\w)/g,function(_,letter){return letter.toUpperCase();}).replace(illegalCharacters,'_');if(startsWithDigit(str)||blacklisted.has(str))str="_".concat(str);return str||'_';}var absolutePath=/^(?:\/|(?:[A-Za-z]:)?[\\|/])/;var relativePath=/^\.?\.\//;function isAbsolute(path){return absolutePath.test(path);}function isRelative(path){return relativePath.test(path);}function normalize(path){if(path.indexOf('\\')==-1)return path;return path.replace(/\\/g,'/');}var ExternalModule=/*#__PURE__*/function(){function ExternalModule(graph,id,moduleSideEffects){_classCallCheck(this,ExternalModule);this.exportsNames=false;this.exportsNamespace=false;this.mostCommonSuggestion=0;this.reexported=false;this.renderPath=undefined;this.renormalizeRenderPath=false;this.used=false;this.graph=graph;this.id=id;this.execIndex=Infinity;this.moduleSideEffects=moduleSideEffects;var parts=id.split(/[\\/]/);this.variableName=makeLegal(parts.pop());this.nameSuggestions=Object.create(null);this.declarations=Object.create(null);this.exportedVariables=new Map();}_createClass(ExternalModule,[{key:"getVariableForExportName",value:function getVariableForExportName(name){if(name==='*'){this.exportsNamespace=true;}else if(name!=='default'){this.exportsNames=true;}var declaration=this.declarations[name];if(declaration)return declaration;this.declarations[name]=declaration=new ExternalVariable(this,name);this.exportedVariables.set(declaration,name);return declaration;}},{key:"setRenderPath",value:function setRenderPath(options,inputBase){this.renderPath='';if(options.paths){this.renderPath=typeof options.paths==='function'?options.paths(this.id):options.paths[this.id];}if(!this.renderPath){if(!isAbsolute(this.id)){this.renderPath=this.id;}else{this.renderPath=normalize(path.relative(inputBase,this.id));this.renormalizeRenderPath=true;}}return this.renderPath;}},{key:"suggestName",value:function suggestName(name){if(!this.nameSuggestions[name])this.nameSuggestions[name]=0;this.nameSuggestions[name]+=1;if(this.nameSuggestions[name]>this.mostCommonSuggestion){this.mostCommonSuggestion=this.nameSuggestions[name];this.variableName=name;}}},{key:"warnUnusedImports",value:function warnUnusedImports(){var _this2=this;var unused=Object.keys(this.declarations).filter(function(name){if(name==='*')return false;var declaration=_this2.declarations[name];return!declaration.included&&!_this2.reexported&&!declaration.referenced;});if(unused.length===0)return;var names=unused.length===1?"'".concat(unused[0],"' is"):"".concat(unused.slice(0,-1).map(function(name){return"'".concat(name,"'");}).join(', ')," and '").concat(unused.slice(-1),"' are");this.graph.warn({code:'UNUSED_EXTERNAL_IMPORT',message:"".concat(names," imported from external module '").concat(this.id,"' but never used"),names:unused,source:this.id});}}]);return ExternalModule;}();function markModuleAndImpureDependenciesAsExecuted(baseModule){baseModule.isExecuted=true;var modules=[baseModule];var visitedModules=new Set();for(var _i2=0,_modules=modules;_i2<_modules.length;_i2++){var module=_modules[_i2];var _iteratorNormalCompletion12=true;var _didIteratorError12=false;var _iteratorError12=undefined;try{for(var _iterator12=module.dependencies[Symbol.iterator](),_step12;!(_iteratorNormalCompletion12=(_step12=_iterator12.next()).done);_iteratorNormalCompletion12=true){var dependency=_step12.value;if(!(dependency instanceof ExternalModule)&&!dependency.isExecuted&&dependency.moduleSideEffects&&!visitedModules.has(dependency.id)){dependency.isExecuted=true;visitedModules.add(dependency.id);modules.push(dependency);}}}catch(err){_didIteratorError12=true;_iteratorError12=err;}finally{try{if(!_iteratorNormalCompletion12&&_iterator12["return"]!=null){_iterator12["return"]();}}finally{if(_didIteratorError12){throw _iteratorError12;}}}}}// To avoid infinite recursions
var MAX_PATH_DEPTH=7;var LocalVariable=/*#__PURE__*/function(_Variable2){_inherits(LocalVariable,_Variable2);function LocalVariable(name,declarator,init,context){var _this3;_classCallCheck(this,LocalVariable);_this3=_possibleConstructorReturn(this,_getPrototypeOf(LocalVariable).call(this,name));_this3.additionalInitializers=null;_this3.calledFromTryStatement=false;_this3.expressionsToBeDeoptimized=[];_this3.declarations=declarator?[declarator]:[];_this3.init=init;_this3.deoptimizationTracker=context.deoptimizationTracker;_this3.module=context.module;return _this3;}_createClass(LocalVariable,[{key:"addDeclaration",value:function addDeclaration(identifier,init){this.declarations.push(identifier);if(this.additionalInitializers===null){this.additionalInitializers=this.init===null?[]:[this.init];this.init=UNKNOWN_EXPRESSION;this.isReassigned=true;}if(init!==null){this.additionalInitializers.push(init);}}},{key:"consolidateInitializers",value:function consolidateInitializers(){if(this.additionalInitializers!==null){var _iteratorNormalCompletion13=true;var _didIteratorError13=false;var _iteratorError13=undefined;try{for(var _iterator13=this.additionalInitializers[Symbol.iterator](),_step13;!(_iteratorNormalCompletion13=(_step13=_iterator13.next()).done);_iteratorNormalCompletion13=true){var initializer=_step13.value;initializer.deoptimizePath(UNKNOWN_PATH);}}catch(err){_didIteratorError13=true;_iteratorError13=err;}finally{try{if(!_iteratorNormalCompletion13&&_iterator13["return"]!=null){_iterator13["return"]();}}finally{if(_didIteratorError13){throw _iteratorError13;}}}this.additionalInitializers=null;}}},{key:"deoptimizePath",value:function deoptimizePath(path){if(path.length>MAX_PATH_DEPTH||this.isReassigned)return;var trackedEntities=this.deoptimizationTracker.getEntities(path);if(trackedEntities.has(this))return;trackedEntities.add(this);if(path.length===0){if(!this.isReassigned){this.isReassigned=true;var expressionsToBeDeoptimized=this.expressionsToBeDeoptimized;this.expressionsToBeDeoptimized=[];var _iteratorNormalCompletion14=true;var _didIteratorError14=false;var _iteratorError14=undefined;try{for(var _iterator14=expressionsToBeDeoptimized[Symbol.iterator](),_step14;!(_iteratorNormalCompletion14=(_step14=_iterator14.next()).done);_iteratorNormalCompletion14=true){var expression=_step14.value;expression.deoptimizeCache();}}catch(err){_didIteratorError14=true;_iteratorError14=err;}finally{try{if(!_iteratorNormalCompletion14&&_iterator14["return"]!=null){_iterator14["return"]();}}finally{if(_didIteratorError14){throw _iteratorError14;}}}if(this.init){this.init.deoptimizePath(UNKNOWN_PATH);}}}else if(this.init){this.init.deoptimizePath(path);}}},{key:"getLiteralValueAtPath",value:function getLiteralValueAtPath(path,recursionTracker,origin){if(this.isReassigned||!this.init||path.length>MAX_PATH_DEPTH){return UnknownValue;}var trackedEntities=recursionTracker.getEntities(path);if(trackedEntities.has(this.init)){return UnknownValue;}this.expressionsToBeDeoptimized.push(origin);trackedEntities.add(this.init);var value=this.init.getLiteralValueAtPath(path,recursionTracker,origin);trackedEntities["delete"](this.init);return value;}},{key:"getReturnExpressionWhenCalledAtPath",value:function getReturnExpressionWhenCalledAtPath(path,recursionTracker,origin){if(this.isReassigned||!this.init||path.length>MAX_PATH_DEPTH){return UNKNOWN_EXPRESSION;}var trackedEntities=recursionTracker.getEntities(path);if(trackedEntities.has(this.init)){return UNKNOWN_EXPRESSION;}this.expressionsToBeDeoptimized.push(origin);trackedEntities.add(this.init);var value=this.init.getReturnExpressionWhenCalledAtPath(path,recursionTracker,origin);trackedEntities["delete"](this.init);return value;}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path,context){if(path.length===0)return false;if(this.isReassigned||path.length>MAX_PATH_DEPTH)return true;var trackedExpressions=context.accessed.getEntities(path);if(trackedExpressions.has(this))return false;trackedExpressions.add(this);return this.init&&this.init.hasEffectsWhenAccessedAtPath(path,context);}},{key:"hasEffectsWhenAssignedAtPath",value:function hasEffectsWhenAssignedAtPath(path,context){if(this.included||path.length>MAX_PATH_DEPTH)return true;if(path.length===0)return false;if(this.isReassigned)return true;var trackedExpressions=context.assigned.getEntities(path);if(trackedExpressions.has(this))return false;trackedExpressions.add(this);return this.init&&this.init.hasEffectsWhenAssignedAtPath(path,context);}},{key:"hasEffectsWhenCalledAtPath",value:function hasEffectsWhenCalledAtPath(path,callOptions,context){if(path.length>MAX_PATH_DEPTH||this.isReassigned)return true;var trackedExpressions=(callOptions.withNew?context.instantiated:context.called).getEntities(path);if(trackedExpressions.has(this))return false;trackedExpressions.add(this);return this.init&&this.init.hasEffectsWhenCalledAtPath(path,callOptions,context);}},{key:"include",value:function include(context){if(!this.included){this.included=true;if(!this.module.isExecuted){markModuleAndImpureDependenciesAsExecuted(this.module);}var _iteratorNormalCompletion15=true;var _didIteratorError15=false;var _iteratorError15=undefined;try{for(var _iterator15=this.declarations[Symbol.iterator](),_step15;!(_iteratorNormalCompletion15=(_step15=_iterator15.next()).done);_iteratorNormalCompletion15=true){var declaration=_step15.value;// If node is a default export, it can save a tree-shaking run to include the full declaration now
if(!declaration.included)declaration.include(context,false);var node=declaration.parent;while(!node.included){// We do not want to properly include parents in case they are part of a dead branch
// in which case .include() might pull in more dead code
node.included=true;if(node.type===Program)break;node=node.parent;}}}catch(err){_didIteratorError15=true;_iteratorError15=err;}finally{try{if(!_iteratorNormalCompletion15&&_iterator15["return"]!=null){_iterator15["return"]();}}finally{if(_didIteratorError15){throw _iteratorError15;}}}}}},{key:"includeCallArguments",value:function includeCallArguments(context,args){if(this.isReassigned){var _iteratorNormalCompletion16=true;var _didIteratorError16=false;var _iteratorError16=undefined;try{for(var _iterator16=args[Symbol.iterator](),_step16;!(_iteratorNormalCompletion16=(_step16=_iterator16.next()).done);_iteratorNormalCompletion16=true){var arg=_step16.value;arg.include(context,false);}}catch(err){_didIteratorError16=true;_iteratorError16=err;}finally{try{if(!_iteratorNormalCompletion16&&_iterator16["return"]!=null){_iterator16["return"]();}}finally{if(_didIteratorError16){throw _iteratorError16;}}}}else if(this.init){this.init.includeCallArguments(context,args);}}},{key:"markCalledFromTryStatement",value:function markCalledFromTryStatement(){this.calledFromTryStatement=true;}}]);return LocalVariable;}(Variable);var Scope=/*#__PURE__*/function(){function Scope(){_classCallCheck(this,Scope);this.children=[];this.variables=new Map();}_createClass(Scope,[{key:"addDeclaration",value:function addDeclaration(identifier,context){var init=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var _isHoisted=arguments.length>3?arguments[3]:undefined;var name=identifier.name;var variable=this.variables.get(name);if(variable){variable.addDeclaration(identifier,init);}else{variable=new LocalVariable(identifier.name,identifier,init||UNDEFINED_EXPRESSION,context);this.variables.set(name,variable);}return variable;}},{key:"contains",value:function contains(name){return this.variables.has(name);}},{key:"findVariable",value:function findVariable(_name){throw new Error('Internal Error: findVariable needs to be implemented by a subclass');}}]);return Scope;}();var ChildScope=/*#__PURE__*/function(_Scope){_inherits(ChildScope,_Scope);function ChildScope(parent){var _this4;_classCallCheck(this,ChildScope);_this4=_possibleConstructorReturn(this,_getPrototypeOf(ChildScope).call(this));_this4.accessedOutsideVariables=new Map();_this4.parent=parent;parent.children.push(_assertThisInitialized(_this4));return _this4;}_createClass(ChildScope,[{key:"addAccessedDynamicImport",value:function addAccessedDynamicImport(importExpression){(this.accessedDynamicImports||(this.accessedDynamicImports=new Set())).add(importExpression);if(this.parent instanceof ChildScope){this.parent.addAccessedDynamicImport(importExpression);}}},{key:"addAccessedGlobalsByFormat",value:function addAccessedGlobalsByFormat(globalsByFormat){var accessedGlobalVariablesByFormat=this.accessedGlobalVariablesByFormat||(this.accessedGlobalVariablesByFormat=new Map());for(var _i3=0,_Object$keys=Object.keys(globalsByFormat);_i3<_Object$keys.length;_i3++){var format=_Object$keys[_i3];var accessedGlobalVariables=accessedGlobalVariablesByFormat.get(format);if(!accessedGlobalVariables){accessedGlobalVariables=new Set();accessedGlobalVariablesByFormat.set(format,accessedGlobalVariables);}var _iteratorNormalCompletion17=true;var _didIteratorError17=false;var _iteratorError17=undefined;try{for(var _iterator17=globalsByFormat[format][Symbol.iterator](),_step17;!(_iteratorNormalCompletion17=(_step17=_iterator17.next()).done);_iteratorNormalCompletion17=true){var name=_step17.value;accessedGlobalVariables.add(name);}}catch(err){_didIteratorError17=true;_iteratorError17=err;}finally{try{if(!_iteratorNormalCompletion17&&_iterator17["return"]!=null){_iterator17["return"]();}}finally{if(_didIteratorError17){throw _iteratorError17;}}}}if(this.parent instanceof ChildScope){this.parent.addAccessedGlobalsByFormat(globalsByFormat);}}},{key:"addNamespaceMemberAccess",value:function addNamespaceMemberAccess(name,variable){this.accessedOutsideVariables.set(name,variable);this.parent.addNamespaceMemberAccess(name,variable);}},{key:"addReturnExpression",value:function addReturnExpression(expression){this.parent instanceof ChildScope&&this.parent.addReturnExpression(expression);}},{key:"addUsedOutsideNames",value:function addUsedOutsideNames(usedNames,format){var _iteratorNormalCompletion18=true;var _didIteratorError18=false;var _iteratorError18=undefined;try{for(var _iterator18=this.accessedOutsideVariables.values()[Symbol.iterator](),_step18;!(_iteratorNormalCompletion18=(_step18=_iterator18.next()).done);_iteratorNormalCompletion18=true){var variable=_step18.value;if(variable.included){usedNames.add(variable.getBaseVariableName());if(variable.exportName&&format==='system'){usedNames.add('exports');}}}}catch(err){_didIteratorError18=true;_iteratorError18=err;}finally{try{if(!_iteratorNormalCompletion18&&_iterator18["return"]!=null){_iterator18["return"]();}}finally{if(_didIteratorError18){throw _iteratorError18;}}}var accessedGlobalVariables=this.accessedGlobalVariablesByFormat&&this.accessedGlobalVariablesByFormat.get(format);if(accessedGlobalVariables){var _iteratorNormalCompletion19=true;var _didIteratorError19=false;var _iteratorError19=undefined;try{for(var _iterator19=accessedGlobalVariables[Symbol.iterator](),_step19;!(_iteratorNormalCompletion19=(_step19=_iterator19.next()).done);_iteratorNormalCompletion19=true){var name=_step19.value;usedNames.add(name);}}catch(err){_didIteratorError19=true;_iteratorError19=err;}finally{try{if(!_iteratorNormalCompletion19&&_iterator19["return"]!=null){_iterator19["return"]();}}finally{if(_didIteratorError19){throw _iteratorError19;}}}}}},{key:"contains",value:function contains(name){return this.variables.has(name)||this.parent.contains(name);}},{key:"deconflict",value:function deconflict(format){var usedNames=new Set();this.addUsedOutsideNames(usedNames,format);if(this.accessedDynamicImports){var _iteratorNormalCompletion20=true;var _didIteratorError20=false;var _iteratorError20=undefined;try{for(var _iterator20=this.accessedDynamicImports[Symbol.iterator](),_step20;!(_iteratorNormalCompletion20=(_step20=_iterator20.next()).done);_iteratorNormalCompletion20=true){var importExpression=_step20.value;if(importExpression.inlineNamespace){usedNames.add(importExpression.inlineNamespace.getBaseVariableName());}}}catch(err){_didIteratorError20=true;_iteratorError20=err;}finally{try{if(!_iteratorNormalCompletion20&&_iterator20["return"]!=null){_iterator20["return"]();}}finally{if(_didIteratorError20){throw _iteratorError20;}}}}var _iteratorNormalCompletion21=true;var _didIteratorError21=false;var _iteratorError21=undefined;try{for(var _iterator21=this.variables[Symbol.iterator](),_step21;!(_iteratorNormalCompletion21=(_step21=_iterator21.next()).done);_iteratorNormalCompletion21=true){var _step21$value=_slicedToArray(_step21.value,2),name=_step21$value[0],variable=_step21$value[1];if(variable.included||variable.alwaysRendered){variable.setSafeName(getSafeName(name,usedNames));}}}catch(err){_didIteratorError21=true;_iteratorError21=err;}finally{try{if(!_iteratorNormalCompletion21&&_iterator21["return"]!=null){_iterator21["return"]();}}finally{if(_didIteratorError21){throw _iteratorError21;}}}var _iteratorNormalCompletion22=true;var _didIteratorError22=false;var _iteratorError22=undefined;try{for(var _iterator22=this.children[Symbol.iterator](),_step22;!(_iteratorNormalCompletion22=(_step22=_iterator22.next()).done);_iteratorNormalCompletion22=true){var scope=_step22.value;scope.deconflict(format);}}catch(err){_didIteratorError22=true;_iteratorError22=err;}finally{try{if(!_iteratorNormalCompletion22&&_iterator22["return"]!=null){_iterator22["return"]();}}finally{if(_didIteratorError22){throw _iteratorError22;}}}}},{key:"findLexicalBoundary",value:function findLexicalBoundary(){return this.parent.findLexicalBoundary();}},{key:"findVariable",value:function findVariable(name){var knownVariable=this.variables.get(name)||this.accessedOutsideVariables.get(name);if(knownVariable){return knownVariable;}var variable=this.parent.findVariable(name);this.accessedOutsideVariables.set(name,variable);return variable;}}]);return ChildScope;}(Scope);function getLocator$1(source,options){if(options===void 0){options={};}var offsetLine=options.offsetLine||0;var offsetColumn=options.offsetColumn||0;var originalLines=source.split('\n');var start=0;var lineRanges=originalLines.map(function(line,i){var end=start+line.length+1;var range={start:start,end:end,line:i};start=end;return range;});var i=0;function rangeContains(range,index){return range.start<=index&&index<range.end;}function getLocation(range,index){return{line:offsetLine+range.line,column:offsetColumn+index-range.start,character:index};}function locate(search,startIndex){if(typeof search==='string'){search=source.indexOf(search,startIndex||0);}var range=lineRanges[i];var d=search>=range.end?1:-1;while(range){if(rangeContains(range,search))return getLocation(range,search);i+=d;range=lineRanges[i];}}return locate;}function _locate(source,search,options){if(typeof options==='number'){throw new Error('locate takes a { startIndex, offsetLine, offsetColumn } object as the third argument');}return getLocator$1(source,options)(search,options&&options.startIndex);}var keys={Literal:[],Program:['body']};function getAndCreateKeys(esTreeNode){keys[esTreeNode.type]=Object.keys(esTreeNode).filter(function(key){return _typeof(esTreeNode[key])==='object';});return keys[esTreeNode.type];}var INCLUDE_PARAMETERS='variables';var NodeBase=/*#__PURE__*/function(){function NodeBase(esTreeNode,parent,parentScope){_classCallCheck(this,NodeBase);this.included=false;this.keys=keys[esTreeNode.type]||getAndCreateKeys(esTreeNode);this.parent=parent;this.context=parent.context;this.createScope(parentScope);this.parseNode(esTreeNode);this.initialise();this.context.magicString.addSourcemapLocation(this.start);this.context.magicString.addSourcemapLocation(this.end);}/**
     * Override this to bind assignments to variables and do any initialisations that
     * require the scopes to be populated with variables.
     */_createClass(NodeBase,[{key:"bind",value:function bind(){var _iteratorNormalCompletion23=true;var _didIteratorError23=false;var _iteratorError23=undefined;try{for(var _iterator23=this.keys[Symbol.iterator](),_step23;!(_iteratorNormalCompletion23=(_step23=_iterator23.next()).done);_iteratorNormalCompletion23=true){var key=_step23.value;var value=this[key];if(value===null||key==='annotations')continue;if(Array.isArray(value)){var _iteratorNormalCompletion24=true;var _didIteratorError24=false;var _iteratorError24=undefined;try{for(var _iterator24=value[Symbol.iterator](),_step24;!(_iteratorNormalCompletion24=(_step24=_iterator24.next()).done);_iteratorNormalCompletion24=true){var child=_step24.value;if(child!==null)child.bind();}}catch(err){_didIteratorError24=true;_iteratorError24=err;}finally{try{if(!_iteratorNormalCompletion24&&_iterator24["return"]!=null){_iterator24["return"]();}}finally{if(_didIteratorError24){throw _iteratorError24;}}}}else{value.bind();}}}catch(err){_didIteratorError23=true;_iteratorError23=err;}finally{try{if(!_iteratorNormalCompletion23&&_iterator23["return"]!=null){_iterator23["return"]();}}finally{if(_didIteratorError23){throw _iteratorError23;}}}}/**
     * Override if this node should receive a different scope than the parent scope.
     */},{key:"createScope",value:function createScope(parentScope){this.scope=parentScope;}},{key:"declare",value:function declare(_kind,_init){return[];}},{key:"deoptimizePath",value:function deoptimizePath(_path){}},{key:"getLiteralValueAtPath",value:function getLiteralValueAtPath(_path,_recursionTracker,_origin){return UnknownValue;}},{key:"getReturnExpressionWhenCalledAtPath",value:function getReturnExpressionWhenCalledAtPath(_path,_recursionTracker,_origin){return UNKNOWN_EXPRESSION;}},{key:"hasEffects",value:function hasEffects(context){var _iteratorNormalCompletion25=true;var _didIteratorError25=false;var _iteratorError25=undefined;try{for(var _iterator25=this.keys[Symbol.iterator](),_step25;!(_iteratorNormalCompletion25=(_step25=_iterator25.next()).done);_iteratorNormalCompletion25=true){var key=_step25.value;var value=this[key];if(value===null||key==='annotations')continue;if(Array.isArray(value)){var _iteratorNormalCompletion26=true;var _didIteratorError26=false;var _iteratorError26=undefined;try{for(var _iterator26=value[Symbol.iterator](),_step26;!(_iteratorNormalCompletion26=(_step26=_iterator26.next()).done);_iteratorNormalCompletion26=true){var child=_step26.value;if(child!==null&&child.hasEffects(context))return true;}}catch(err){_didIteratorError26=true;_iteratorError26=err;}finally{try{if(!_iteratorNormalCompletion26&&_iterator26["return"]!=null){_iterator26["return"]();}}finally{if(_didIteratorError26){throw _iteratorError26;}}}}else if(value.hasEffects(context))return true;}}catch(err){_didIteratorError25=true;_iteratorError25=err;}finally{try{if(!_iteratorNormalCompletion25&&_iterator25["return"]!=null){_iterator25["return"]();}}finally{if(_didIteratorError25){throw _iteratorError25;}}}return false;}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path,_context){return path.length>0;}},{key:"hasEffectsWhenAssignedAtPath",value:function hasEffectsWhenAssignedAtPath(_path,_context){return true;}},{key:"hasEffectsWhenCalledAtPath",value:function hasEffectsWhenCalledAtPath(_path,_callOptions,_context){return true;}},{key:"include",value:function include(context,includeChildrenRecursively){this.included=true;var _iteratorNormalCompletion27=true;var _didIteratorError27=false;var _iteratorError27=undefined;try{for(var _iterator27=this.keys[Symbol.iterator](),_step27;!(_iteratorNormalCompletion27=(_step27=_iterator27.next()).done);_iteratorNormalCompletion27=true){var key=_step27.value;var value=this[key];if(value===null||key==='annotations')continue;if(Array.isArray(value)){var _iteratorNormalCompletion28=true;var _didIteratorError28=false;var _iteratorError28=undefined;try{for(var _iterator28=value[Symbol.iterator](),_step28;!(_iteratorNormalCompletion28=(_step28=_iterator28.next()).done);_iteratorNormalCompletion28=true){var child=_step28.value;if(child!==null)child.include(context,includeChildrenRecursively);}}catch(err){_didIteratorError28=true;_iteratorError28=err;}finally{try{if(!_iteratorNormalCompletion28&&_iterator28["return"]!=null){_iterator28["return"]();}}finally{if(_didIteratorError28){throw _iteratorError28;}}}}else{value.include(context,includeChildrenRecursively);}}}catch(err){_didIteratorError27=true;_iteratorError27=err;}finally{try{if(!_iteratorNormalCompletion27&&_iterator27["return"]!=null){_iterator27["return"]();}}finally{if(_didIteratorError27){throw _iteratorError27;}}}}},{key:"includeCallArguments",value:function includeCallArguments(context,args){var _iteratorNormalCompletion29=true;var _didIteratorError29=false;var _iteratorError29=undefined;try{for(var _iterator29=args[Symbol.iterator](),_step29;!(_iteratorNormalCompletion29=(_step29=_iterator29.next()).done);_iteratorNormalCompletion29=true){var arg=_step29.value;arg.include(context,false);}}catch(err){_didIteratorError29=true;_iteratorError29=err;}finally{try{if(!_iteratorNormalCompletion29&&_iterator29["return"]!=null){_iterator29["return"]();}}finally{if(_didIteratorError29){throw _iteratorError29;}}}}},{key:"includeWithAllDeclaredVariables",value:function includeWithAllDeclaredVariables(includeChildrenRecursively,context){this.include(context,includeChildrenRecursively);}/**
     * Override to perform special initialisation steps after the scope is initialised
     */},{key:"initialise",value:function initialise(){}},{key:"insertSemicolon",value:function insertSemicolon(code){if(code.original[this.end-1]!==';'){code.appendLeft(this.end,';');}}},{key:"locate",value:function locate(){// useful for debugging
var location=_locate(this.context.code,this.start,{offsetLine:1});location.file=this.context.fileName;location.toString=function(){return JSON.stringify(location);};return location;}},{key:"parseNode",value:function parseNode(esTreeNode){for(var _i4=0,_Object$keys2=Object.keys(esTreeNode);_i4<_Object$keys2.length;_i4++){var key=_Object$keys2[_i4];// That way, we can override this function to add custom initialisation and then call super.parseNode
if(this.hasOwnProperty(key))continue;var value=esTreeNode[key];if(_typeof(value)!=='object'||value===null||key==='annotations'){this[key]=value;}else if(Array.isArray(value)){this[key]=[];var _iteratorNormalCompletion30=true;var _didIteratorError30=false;var _iteratorError30=undefined;try{for(var _iterator30=value[Symbol.iterator](),_step30;!(_iteratorNormalCompletion30=(_step30=_iterator30.next()).done);_iteratorNormalCompletion30=true){var child=_step30.value;this[key].push(child===null?null:new(this.context.nodeConstructors[child.type]||this.context.nodeConstructors.UnknownNode)(child,this,this.scope));}}catch(err){_didIteratorError30=true;_iteratorError30=err;}finally{try{if(!_iteratorNormalCompletion30&&_iterator30["return"]!=null){_iterator30["return"]();}}finally{if(_didIteratorError30){throw _iteratorError30;}}}}else{this[key]=new(this.context.nodeConstructors[value.type]||this.context.nodeConstructors.UnknownNode)(value,this,this.scope);}}}},{key:"render",value:function render(code,options){var _iteratorNormalCompletion31=true;var _didIteratorError31=false;var _iteratorError31=undefined;try{for(var _iterator31=this.keys[Symbol.iterator](),_step31;!(_iteratorNormalCompletion31=(_step31=_iterator31.next()).done);_iteratorNormalCompletion31=true){var key=_step31.value;var value=this[key];if(value===null||key==='annotations')continue;if(Array.isArray(value)){var _iteratorNormalCompletion32=true;var _didIteratorError32=false;var _iteratorError32=undefined;try{for(var _iterator32=value[Symbol.iterator](),_step32;!(_iteratorNormalCompletion32=(_step32=_iterator32.next()).done);_iteratorNormalCompletion32=true){var child=_step32.value;if(child!==null)child.render(code,options);}}catch(err){_didIteratorError32=true;_iteratorError32=err;}finally{try{if(!_iteratorNormalCompletion32&&_iterator32["return"]!=null){_iterator32["return"]();}}finally{if(_didIteratorError32){throw _iteratorError32;}}}}else{value.render(code,options);}}}catch(err){_didIteratorError31=true;_iteratorError31=err;}finally{try{if(!_iteratorNormalCompletion31&&_iterator31["return"]!=null){_iterator31["return"]();}}finally{if(_didIteratorError31){throw _iteratorError31;}}}}},{key:"shouldBeIncluded",value:function shouldBeIncluded(context){return this.included||!context.brokenFlow&&this.hasEffects(createHasEffectsContext());}},{key:"toString",value:function toString(){return this.context.code.slice(this.start,this.end);}}]);return NodeBase;}();var ClassNode=/*#__PURE__*/function(_NodeBase){_inherits(ClassNode,_NodeBase);function ClassNode(){_classCallCheck(this,ClassNode);return _possibleConstructorReturn(this,_getPrototypeOf(ClassNode).apply(this,arguments));}_createClass(ClassNode,[{key:"createScope",value:function createScope(parentScope){this.scope=new ChildScope(parentScope);}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path){return path.length>1;}},{key:"hasEffectsWhenAssignedAtPath",value:function hasEffectsWhenAssignedAtPath(path){return path.length>1;}},{key:"hasEffectsWhenCalledAtPath",value:function hasEffectsWhenCalledAtPath(path,callOptions,context){if(!callOptions.withNew)return true;return this.body.hasEffectsWhenCalledAtPath(path,callOptions,context)||this.superClass!==null&&this.superClass.hasEffectsWhenCalledAtPath(path,callOptions,context);}},{key:"initialise",value:function initialise(){if(this.id!==null){this.id.declare('class',this);}}}]);return ClassNode;}(NodeBase);var ClassDeclaration=/*#__PURE__*/function(_ClassNode){_inherits(ClassDeclaration,_ClassNode);function ClassDeclaration(){_classCallCheck(this,ClassDeclaration);return _possibleConstructorReturn(this,_getPrototypeOf(ClassDeclaration).apply(this,arguments));}_createClass(ClassDeclaration,[{key:"initialise",value:function initialise(){_get(_getPrototypeOf(ClassDeclaration.prototype),"initialise",this).call(this);if(this.id!==null){this.id.variable.isId=true;}}},{key:"parseNode",value:function parseNode(esTreeNode){if(esTreeNode.id!==null){this.id=new this.context.nodeConstructors.Identifier(esTreeNode.id,this,this.scope.parent);}_get(_getPrototypeOf(ClassDeclaration.prototype),"parseNode",this).call(this,esTreeNode);}},{key:"render",value:function render(code,options){if(options.format==='system'&&this.id&&this.id.variable.exportName){code.appendLeft(this.end," exports('".concat(this.id.variable.exportName,"', ").concat(this.id.variable.getName(),");"));}_get(_getPrototypeOf(ClassDeclaration.prototype),"render",this).call(this,code,options);}}]);return ClassDeclaration;}(ClassNode);var ArgumentsVariable=/*#__PURE__*/function(_LocalVariable){_inherits(ArgumentsVariable,_LocalVariable);function ArgumentsVariable(context){_classCallCheck(this,ArgumentsVariable);return _possibleConstructorReturn(this,_getPrototypeOf(ArgumentsVariable).call(this,'arguments',null,UNKNOWN_EXPRESSION,context));}_createClass(ArgumentsVariable,[{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path){return path.length>1;}},{key:"hasEffectsWhenAssignedAtPath",value:function hasEffectsWhenAssignedAtPath(){return true;}},{key:"hasEffectsWhenCalledAtPath",value:function hasEffectsWhenCalledAtPath(){return true;}}]);return ArgumentsVariable;}(LocalVariable);var ThisVariable=/*#__PURE__*/function(_LocalVariable2){_inherits(ThisVariable,_LocalVariable2);function ThisVariable(context){_classCallCheck(this,ThisVariable);return _possibleConstructorReturn(this,_getPrototypeOf(ThisVariable).call(this,'this',null,null,context));}_createClass(ThisVariable,[{key:"getLiteralValueAtPath",value:function getLiteralValueAtPath(){return UnknownValue;}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path,context){return this.getInit(context).hasEffectsWhenAccessedAtPath(path,context)||_get(_getPrototypeOf(ThisVariable.prototype),"hasEffectsWhenAccessedAtPath",this).call(this,path,context);}},{key:"hasEffectsWhenAssignedAtPath",value:function hasEffectsWhenAssignedAtPath(path,context){return this.getInit(context).hasEffectsWhenAssignedAtPath(path,context)||_get(_getPrototypeOf(ThisVariable.prototype),"hasEffectsWhenAssignedAtPath",this).call(this,path,context);}},{key:"hasEffectsWhenCalledAtPath",value:function hasEffectsWhenCalledAtPath(path,callOptions,context){return this.getInit(context).hasEffectsWhenCalledAtPath(path,callOptions,context)||_get(_getPrototypeOf(ThisVariable.prototype),"hasEffectsWhenCalledAtPath",this).call(this,path,callOptions,context);}},{key:"getInit",value:function getInit(context){return context.replacedVariableInits.get(this)||UNKNOWN_EXPRESSION;}}]);return ThisVariable;}(LocalVariable);var ParameterScope=/*#__PURE__*/function(_ChildScope){_inherits(ParameterScope,_ChildScope);function ParameterScope(parent,context){var _this5;_classCallCheck(this,ParameterScope);_this5=_possibleConstructorReturn(this,_getPrototypeOf(ParameterScope).call(this,parent));_this5.parameters=[];_this5.hasRest=false;_this5.context=context;_this5.hoistedBodyVarScope=new ChildScope(_assertThisInitialized(_this5));return _this5;}/**
     * Adds a parameter to this scope. Parameters must be added in the correct
     * order, e.g. from left to right.
     */_createClass(ParameterScope,[{key:"addParameterDeclaration",value:function addParameterDeclaration(identifier){var name=identifier.name;var variable=this.hoistedBodyVarScope.variables.get(name);if(variable){variable.addDeclaration(identifier,null);}else{variable=new LocalVariable(name,identifier,UNKNOWN_EXPRESSION,this.context);}this.variables.set(name,variable);return variable;}},{key:"addParameterVariables",value:function addParameterVariables(parameters,hasRest){this.parameters=parameters;var _iteratorNormalCompletion33=true;var _didIteratorError33=false;var _iteratorError33=undefined;try{for(var _iterator33=parameters[Symbol.iterator](),_step33;!(_iteratorNormalCompletion33=(_step33=_iterator33.next()).done);_iteratorNormalCompletion33=true){var parameterList=_step33.value;var _iteratorNormalCompletion34=true;var _didIteratorError34=false;var _iteratorError34=undefined;try{for(var _iterator34=parameterList[Symbol.iterator](),_step34;!(_iteratorNormalCompletion34=(_step34=_iterator34.next()).done);_iteratorNormalCompletion34=true){var parameter=_step34.value;parameter.alwaysRendered=true;}}catch(err){_didIteratorError34=true;_iteratorError34=err;}finally{try{if(!_iteratorNormalCompletion34&&_iterator34["return"]!=null){_iterator34["return"]();}}finally{if(_didIteratorError34){throw _iteratorError34;}}}}}catch(err){_didIteratorError33=true;_iteratorError33=err;}finally{try{if(!_iteratorNormalCompletion33&&_iterator33["return"]!=null){_iterator33["return"]();}}finally{if(_didIteratorError33){throw _iteratorError33;}}}this.hasRest=hasRest;}},{key:"includeCallArguments",value:function includeCallArguments(context,args){var calledFromTryStatement=false;var argIncluded=false;var restParam=this.hasRest&&this.parameters[this.parameters.length-1];for(var index=args.length-1;index>=0;index--){var paramVars=this.parameters[index]||restParam;var arg=args[index];if(paramVars){calledFromTryStatement=false;var _iteratorNormalCompletion35=true;var _didIteratorError35=false;var _iteratorError35=undefined;try{for(var _iterator35=paramVars[Symbol.iterator](),_step35;!(_iteratorNormalCompletion35=(_step35=_iterator35.next()).done);_iteratorNormalCompletion35=true){var variable=_step35.value;if(variable.included){argIncluded=true;}if(variable.calledFromTryStatement){calledFromTryStatement=true;}}}catch(err){_didIteratorError35=true;_iteratorError35=err;}finally{try{if(!_iteratorNormalCompletion35&&_iterator35["return"]!=null){_iterator35["return"]();}}finally{if(_didIteratorError35){throw _iteratorError35;}}}}if(!argIncluded&&arg.shouldBeIncluded(context)){argIncluded=true;}if(argIncluded){arg.include(context,calledFromTryStatement);}}}}]);return ParameterScope;}(ChildScope);var ReturnValueScope=/*#__PURE__*/function(_ParameterScope){_inherits(ReturnValueScope,_ParameterScope);function ReturnValueScope(){var _this6;_classCallCheck(this,ReturnValueScope);_this6=_possibleConstructorReturn(this,_getPrototypeOf(ReturnValueScope).apply(this,arguments));_this6.returnExpression=null;_this6.returnExpressions=[];return _this6;}_createClass(ReturnValueScope,[{key:"addReturnExpression",value:function addReturnExpression(expression){this.returnExpressions.push(expression);}},{key:"getReturnExpression",value:function getReturnExpression(){if(this.returnExpression===null)this.updateReturnExpression();return this.returnExpression;}},{key:"updateReturnExpression",value:function updateReturnExpression(){if(this.returnExpressions.length===1){this.returnExpression=this.returnExpressions[0];}else{this.returnExpression=UNKNOWN_EXPRESSION;var _iteratorNormalCompletion36=true;var _didIteratorError36=false;var _iteratorError36=undefined;try{for(var _iterator36=this.returnExpressions[Symbol.iterator](),_step36;!(_iteratorNormalCompletion36=(_step36=_iterator36.next()).done);_iteratorNormalCompletion36=true){var expression=_step36.value;expression.deoptimizePath(UNKNOWN_PATH);}}catch(err){_didIteratorError36=true;_iteratorError36=err;}finally{try{if(!_iteratorNormalCompletion36&&_iterator36["return"]!=null){_iterator36["return"]();}}finally{if(_didIteratorError36){throw _iteratorError36;}}}}}}]);return ReturnValueScope;}(ParameterScope);var FunctionScope=/*#__PURE__*/function(_ReturnValueScope){_inherits(FunctionScope,_ReturnValueScope);function FunctionScope(parent,context){var _this7;_classCallCheck(this,FunctionScope);_this7=_possibleConstructorReturn(this,_getPrototypeOf(FunctionScope).call(this,parent,context));_this7.variables.set('arguments',_this7.argumentsVariable=new ArgumentsVariable(context));_this7.variables.set('this',_this7.thisVariable=new ThisVariable(context));return _this7;}_createClass(FunctionScope,[{key:"findLexicalBoundary",value:function findLexicalBoundary(){return this;}},{key:"includeCallArguments",value:function includeCallArguments(context,args){_get(_getPrototypeOf(FunctionScope.prototype),"includeCallArguments",this).call(this,context,args);if(this.argumentsVariable.included){var _iteratorNormalCompletion37=true;var _didIteratorError37=false;var _iteratorError37=undefined;try{for(var _iterator37=args[Symbol.iterator](),_step37;!(_iteratorNormalCompletion37=(_step37=_iterator37.next()).done);_iteratorNormalCompletion37=true){var arg=_step37.value;if(!arg.included){arg.include(context,false);}}}catch(err){_didIteratorError37=true;_iteratorError37=err;}finally{try{if(!_iteratorNormalCompletion37&&_iterator37["return"]!=null){_iterator37["return"]();}}finally{if(_didIteratorError37){throw _iteratorError37;}}}}}}]);return FunctionScope;}(ReturnValueScope);function isReference(node,parent){if(node.type==='MemberExpression'){return!node.computed&&isReference(node.object,node);}if(node.type==='Identifier'){if(!parent)return true;switch(parent.type){// disregard `bar` in `foo.bar`
case'MemberExpression':return parent.computed||node===parent.object;// disregard the `foo` in `class {foo(){}}` but keep it in `class {[foo](){}}`
case'MethodDefinition':return parent.computed;// disregard the `bar` in `{ bar: foo }`, but keep it in `{ [bar]: foo }`
case'Property':return parent.computed||node===parent.value;// disregard the `bar` in `export { foo as bar }` or
// the foo in `import { foo as bar }`
case'ExportSpecifier':case'ImportSpecifier':return node===parent.local;// disregard the `foo` in `foo: while (...) { ... break foo; ... continue foo;}`
case'LabeledStatement':case'BreakStatement':case'ContinueStatement':return false;default:return true;}}return false;}var BLANK=Object.create(null);var ValueProperties=Symbol('Value Properties');var PURE={pure:true};var IMPURE={pure:false};// We use shortened variables to reduce file size here
/* OBJECT */var O=_defineProperty({// @ts-ignore
__proto__:null},ValueProperties,IMPURE);/* PURE FUNCTION */var PF=_defineProperty({// @ts-ignore
__proto__:null},ValueProperties,PURE);/* CONSTRUCTOR */var C=(_C={// @ts-ignore
__proto__:null},_defineProperty(_C,ValueProperties,IMPURE),_defineProperty(_C,"prototype",O),_C);/* PURE CONSTRUCTOR */var PC=(_PC={// @ts-ignore
__proto__:null},_defineProperty(_PC,ValueProperties,PURE),_defineProperty(_PC,"prototype",O),_PC);var ARRAY_TYPE=(_ARRAY_TYPE={// @ts-ignore
__proto__:null},_defineProperty(_ARRAY_TYPE,ValueProperties,PURE),_defineProperty(_ARRAY_TYPE,"from",PF),_defineProperty(_ARRAY_TYPE,"of",PF),_defineProperty(_ARRAY_TYPE,"prototype",O),_ARRAY_TYPE);var INTL_MEMBER=(_INTL_MEMBER={// @ts-ignore
__proto__:null},_defineProperty(_INTL_MEMBER,ValueProperties,PURE),_defineProperty(_INTL_MEMBER,"supportedLocalesOf",PC),_INTL_MEMBER);var knownGlobals=(_knownGlobals={// Placeholders for global objects to avoid shape mutations
global:O,globalThis:O,self:O,window:O,// Common globals
// @ts-ignore
__proto__:null},_defineProperty(_knownGlobals,ValueProperties,IMPURE),_defineProperty(_knownGlobals,"Array",(_Array={// @ts-ignore
__proto__:null},_defineProperty(_Array,ValueProperties,IMPURE),_defineProperty(_Array,"from",PF),_defineProperty(_Array,"isArray",PF),_defineProperty(_Array,"of",PF),_defineProperty(_Array,"prototype",O),_Array)),_defineProperty(_knownGlobals,"ArrayBuffer",(_ArrayBuffer={// @ts-ignore
__proto__:null},_defineProperty(_ArrayBuffer,ValueProperties,PURE),_defineProperty(_ArrayBuffer,"isView",PF),_defineProperty(_ArrayBuffer,"prototype",O),_ArrayBuffer)),_defineProperty(_knownGlobals,"Atomics",O),_defineProperty(_knownGlobals,"BigInt",C),_defineProperty(_knownGlobals,"BigInt64Array",C),_defineProperty(_knownGlobals,"BigUint64Array",C),_defineProperty(_knownGlobals,"Boolean",PC),_defineProperty(_knownGlobals,"constructor",C),_defineProperty(_knownGlobals,"DataView",PC),_defineProperty(_knownGlobals,"Date",(_Date={// @ts-ignore
__proto__:null},_defineProperty(_Date,ValueProperties,PURE),_defineProperty(_Date,"now",PF),_defineProperty(_Date,"parse",PF),_defineProperty(_Date,"prototype",O),_defineProperty(_Date,"UTC",PF),_Date)),_defineProperty(_knownGlobals,"decodeURI",PF),_defineProperty(_knownGlobals,"decodeURIComponent",PF),_defineProperty(_knownGlobals,"encodeURI",PF),_defineProperty(_knownGlobals,"encodeURIComponent",PF),_defineProperty(_knownGlobals,"Error",PC),_defineProperty(_knownGlobals,"escape",PF),_defineProperty(_knownGlobals,"eval",O),_defineProperty(_knownGlobals,"EvalError",PC),_defineProperty(_knownGlobals,"Float32Array",ARRAY_TYPE),_defineProperty(_knownGlobals,"Float64Array",ARRAY_TYPE),_defineProperty(_knownGlobals,"Function",C),_defineProperty(_knownGlobals,"hasOwnProperty",O),_defineProperty(_knownGlobals,"Infinity",O),_defineProperty(_knownGlobals,"Int16Array",ARRAY_TYPE),_defineProperty(_knownGlobals,"Int32Array",ARRAY_TYPE),_defineProperty(_knownGlobals,"Int8Array",ARRAY_TYPE),_defineProperty(_knownGlobals,"isFinite",PF),_defineProperty(_knownGlobals,"isNaN",PF),_defineProperty(_knownGlobals,"isPrototypeOf",O),_defineProperty(_knownGlobals,"JSON",O),_defineProperty(_knownGlobals,"Map",PC),_defineProperty(_knownGlobals,"Math",(_Math={// @ts-ignore
__proto__:null},_defineProperty(_Math,ValueProperties,IMPURE),_defineProperty(_Math,"abs",PF),_defineProperty(_Math,"acos",PF),_defineProperty(_Math,"acosh",PF),_defineProperty(_Math,"asin",PF),_defineProperty(_Math,"asinh",PF),_defineProperty(_Math,"atan",PF),_defineProperty(_Math,"atan2",PF),_defineProperty(_Math,"atanh",PF),_defineProperty(_Math,"cbrt",PF),_defineProperty(_Math,"ceil",PF),_defineProperty(_Math,"clz32",PF),_defineProperty(_Math,"cos",PF),_defineProperty(_Math,"cosh",PF),_defineProperty(_Math,"exp",PF),_defineProperty(_Math,"expm1",PF),_defineProperty(_Math,"floor",PF),_defineProperty(_Math,"fround",PF),_defineProperty(_Math,"hypot",PF),_defineProperty(_Math,"imul",PF),_defineProperty(_Math,"log",PF),_defineProperty(_Math,"log10",PF),_defineProperty(_Math,"log1p",PF),_defineProperty(_Math,"log2",PF),_defineProperty(_Math,"max",PF),_defineProperty(_Math,"min",PF),_defineProperty(_Math,"pow",PF),_defineProperty(_Math,"random",PF),_defineProperty(_Math,"round",PF),_defineProperty(_Math,"sign",PF),_defineProperty(_Math,"sin",PF),_defineProperty(_Math,"sinh",PF),_defineProperty(_Math,"sqrt",PF),_defineProperty(_Math,"tan",PF),_defineProperty(_Math,"tanh",PF),_defineProperty(_Math,"trunc",PF),_Math)),_defineProperty(_knownGlobals,"NaN",O),_defineProperty(_knownGlobals,"Number",(_Number={// @ts-ignore
__proto__:null},_defineProperty(_Number,ValueProperties,PURE),_defineProperty(_Number,"isFinite",PF),_defineProperty(_Number,"isInteger",PF),_defineProperty(_Number,"isNaN",PF),_defineProperty(_Number,"isSafeInteger",PF),_defineProperty(_Number,"parseFloat",PF),_defineProperty(_Number,"parseInt",PF),_defineProperty(_Number,"prototype",O),_Number)),_defineProperty(_knownGlobals,"Object",(_Object={// @ts-ignore
__proto__:null},_defineProperty(_Object,ValueProperties,PURE),_defineProperty(_Object,"create",PF),_defineProperty(_Object,"getNotifier",PF),_defineProperty(_Object,"getOwn",PF),_defineProperty(_Object,"getOwnPropertyDescriptor",PF),_defineProperty(_Object,"getOwnPropertyNames",PF),_defineProperty(_Object,"getOwnPropertySymbols",PF),_defineProperty(_Object,"getPrototypeOf",PF),_defineProperty(_Object,"is",PF),_defineProperty(_Object,"isExtensible",PF),_defineProperty(_Object,"isFrozen",PF),_defineProperty(_Object,"isSealed",PF),_defineProperty(_Object,"keys",PF),_defineProperty(_Object,"prototype",O),_Object)),_defineProperty(_knownGlobals,"parseFloat",PF),_defineProperty(_knownGlobals,"parseInt",PF),_defineProperty(_knownGlobals,"Promise",(_Promise={// @ts-ignore
__proto__:null},_defineProperty(_Promise,ValueProperties,IMPURE),_defineProperty(_Promise,"all",PF),_defineProperty(_Promise,"prototype",O),_defineProperty(_Promise,"race",PF),_defineProperty(_Promise,"resolve",PF),_Promise)),_defineProperty(_knownGlobals,"propertyIsEnumerable",O),_defineProperty(_knownGlobals,"Proxy",O),_defineProperty(_knownGlobals,"RangeError",PC),_defineProperty(_knownGlobals,"ReferenceError",PC),_defineProperty(_knownGlobals,"Reflect",O),_defineProperty(_knownGlobals,"RegExp",PC),_defineProperty(_knownGlobals,"Set",PC),_defineProperty(_knownGlobals,"SharedArrayBuffer",C),_defineProperty(_knownGlobals,"String",(_String={// @ts-ignore
__proto__:null},_defineProperty(_String,ValueProperties,PURE),_defineProperty(_String,"fromCharCode",PF),_defineProperty(_String,"fromCodePoint",PF),_defineProperty(_String,"prototype",O),_defineProperty(_String,"raw",PF),_String)),_defineProperty(_knownGlobals,"Symbol",(_Symbol={// @ts-ignore
__proto__:null},_defineProperty(_Symbol,ValueProperties,PURE),_defineProperty(_Symbol,"for",PF),_defineProperty(_Symbol,"keyFor",PF),_defineProperty(_Symbol,"prototype",O),_Symbol)),_defineProperty(_knownGlobals,"SyntaxError",PC),_defineProperty(_knownGlobals,"toLocaleString",O),_defineProperty(_knownGlobals,"toString",O),_defineProperty(_knownGlobals,"TypeError",PC),_defineProperty(_knownGlobals,"Uint16Array",ARRAY_TYPE),_defineProperty(_knownGlobals,"Uint32Array",ARRAY_TYPE),_defineProperty(_knownGlobals,"Uint8Array",ARRAY_TYPE),_defineProperty(_knownGlobals,"Uint8ClampedArray",ARRAY_TYPE),_defineProperty(_knownGlobals,"unescape",PF),_defineProperty(_knownGlobals,"URIError",PC),_defineProperty(_knownGlobals,"valueOf",O),_defineProperty(_knownGlobals,"WeakMap",PC),_defineProperty(_knownGlobals,"WeakSet",PC),_defineProperty(_knownGlobals,"clearInterval",C),_defineProperty(_knownGlobals,"clearTimeout",C),_defineProperty(_knownGlobals,"console",O),_defineProperty(_knownGlobals,"Intl",(_Intl={// @ts-ignore
__proto__:null},_defineProperty(_Intl,ValueProperties,IMPURE),_defineProperty(_Intl,"Collator",INTL_MEMBER),_defineProperty(_Intl,"DateTimeFormat",INTL_MEMBER),_defineProperty(_Intl,"ListFormat",INTL_MEMBER),_defineProperty(_Intl,"NumberFormat",INTL_MEMBER),_defineProperty(_Intl,"PluralRules",INTL_MEMBER),_defineProperty(_Intl,"RelativeTimeFormat",INTL_MEMBER),_Intl)),_defineProperty(_knownGlobals,"setInterval",C),_defineProperty(_knownGlobals,"setTimeout",C),_defineProperty(_knownGlobals,"TextDecoder",C),_defineProperty(_knownGlobals,"TextEncoder",C),_defineProperty(_knownGlobals,"URL",C),_defineProperty(_knownGlobals,"URLSearchParams",C),_defineProperty(_knownGlobals,"AbortController",C),_defineProperty(_knownGlobals,"AbortSignal",C),_defineProperty(_knownGlobals,"addEventListener",O),_defineProperty(_knownGlobals,"alert",O),_defineProperty(_knownGlobals,"AnalyserNode",C),_defineProperty(_knownGlobals,"Animation",C),_defineProperty(_knownGlobals,"AnimationEvent",C),_defineProperty(_knownGlobals,"applicationCache",O),_defineProperty(_knownGlobals,"ApplicationCache",C),_defineProperty(_knownGlobals,"ApplicationCacheErrorEvent",C),_defineProperty(_knownGlobals,"atob",O),_defineProperty(_knownGlobals,"Attr",C),_defineProperty(_knownGlobals,"Audio",C),_defineProperty(_knownGlobals,"AudioBuffer",C),_defineProperty(_knownGlobals,"AudioBufferSourceNode",C),_defineProperty(_knownGlobals,"AudioContext",C),_defineProperty(_knownGlobals,"AudioDestinationNode",C),_defineProperty(_knownGlobals,"AudioListener",C),_defineProperty(_knownGlobals,"AudioNode",C),_defineProperty(_knownGlobals,"AudioParam",C),_defineProperty(_knownGlobals,"AudioProcessingEvent",C),_defineProperty(_knownGlobals,"AudioScheduledSourceNode",C),_defineProperty(_knownGlobals,"AudioWorkletNode",C),_defineProperty(_knownGlobals,"BarProp",C),_defineProperty(_knownGlobals,"BaseAudioContext",C),_defineProperty(_knownGlobals,"BatteryManager",C),_defineProperty(_knownGlobals,"BeforeUnloadEvent",C),_defineProperty(_knownGlobals,"BiquadFilterNode",C),_defineProperty(_knownGlobals,"Blob",C),_defineProperty(_knownGlobals,"BlobEvent",C),_defineProperty(_knownGlobals,"blur",O),_defineProperty(_knownGlobals,"BroadcastChannel",C),_defineProperty(_knownGlobals,"btoa",O),_defineProperty(_knownGlobals,"ByteLengthQueuingStrategy",C),_defineProperty(_knownGlobals,"Cache",C),_defineProperty(_knownGlobals,"caches",O),_defineProperty(_knownGlobals,"CacheStorage",C),_defineProperty(_knownGlobals,"cancelAnimationFrame",O),_defineProperty(_knownGlobals,"cancelIdleCallback",O),_defineProperty(_knownGlobals,"CanvasCaptureMediaStreamTrack",C),_defineProperty(_knownGlobals,"CanvasGradient",C),_defineProperty(_knownGlobals,"CanvasPattern",C),_defineProperty(_knownGlobals,"CanvasRenderingContext2D",C),_defineProperty(_knownGlobals,"ChannelMergerNode",C),_defineProperty(_knownGlobals,"ChannelSplitterNode",C),_defineProperty(_knownGlobals,"CharacterData",C),_defineProperty(_knownGlobals,"clientInformation",O),_defineProperty(_knownGlobals,"ClipboardEvent",C),_defineProperty(_knownGlobals,"close",O),_defineProperty(_knownGlobals,"closed",O),_defineProperty(_knownGlobals,"CloseEvent",C),_defineProperty(_knownGlobals,"Comment",C),_defineProperty(_knownGlobals,"CompositionEvent",C),_defineProperty(_knownGlobals,"confirm",O),_defineProperty(_knownGlobals,"ConstantSourceNode",C),_defineProperty(_knownGlobals,"ConvolverNode",C),_defineProperty(_knownGlobals,"CountQueuingStrategy",C),_defineProperty(_knownGlobals,"createImageBitmap",O),_defineProperty(_knownGlobals,"Credential",C),_defineProperty(_knownGlobals,"CredentialsContainer",C),_defineProperty(_knownGlobals,"crypto",O),_defineProperty(_knownGlobals,"Crypto",C),_defineProperty(_knownGlobals,"CryptoKey",C),_defineProperty(_knownGlobals,"CSS",C),_defineProperty(_knownGlobals,"CSSConditionRule",C),_defineProperty(_knownGlobals,"CSSFontFaceRule",C),_defineProperty(_knownGlobals,"CSSGroupingRule",C),_defineProperty(_knownGlobals,"CSSImportRule",C),_defineProperty(_knownGlobals,"CSSKeyframeRule",C),_defineProperty(_knownGlobals,"CSSKeyframesRule",C),_defineProperty(_knownGlobals,"CSSMediaRule",C),_defineProperty(_knownGlobals,"CSSNamespaceRule",C),_defineProperty(_knownGlobals,"CSSPageRule",C),_defineProperty(_knownGlobals,"CSSRule",C),_defineProperty(_knownGlobals,"CSSRuleList",C),_defineProperty(_knownGlobals,"CSSStyleDeclaration",C),_defineProperty(_knownGlobals,"CSSStyleRule",C),_defineProperty(_knownGlobals,"CSSStyleSheet",C),_defineProperty(_knownGlobals,"CSSSupportsRule",C),_defineProperty(_knownGlobals,"CustomElementRegistry",C),_defineProperty(_knownGlobals,"customElements",O),_defineProperty(_knownGlobals,"CustomEvent",C),_defineProperty(_knownGlobals,"DataTransfer",C),_defineProperty(_knownGlobals,"DataTransferItem",C),_defineProperty(_knownGlobals,"DataTransferItemList",C),_defineProperty(_knownGlobals,"defaultstatus",O),_defineProperty(_knownGlobals,"defaultStatus",O),_defineProperty(_knownGlobals,"DelayNode",C),_defineProperty(_knownGlobals,"DeviceMotionEvent",C),_defineProperty(_knownGlobals,"DeviceOrientationEvent",C),_defineProperty(_knownGlobals,"devicePixelRatio",O),_defineProperty(_knownGlobals,"dispatchEvent",O),_defineProperty(_knownGlobals,"document",O),_defineProperty(_knownGlobals,"Document",C),_defineProperty(_knownGlobals,"DocumentFragment",C),_defineProperty(_knownGlobals,"DocumentType",C),_defineProperty(_knownGlobals,"DOMError",C),_defineProperty(_knownGlobals,"DOMException",C),_defineProperty(_knownGlobals,"DOMImplementation",C),_defineProperty(_knownGlobals,"DOMMatrix",C),_defineProperty(_knownGlobals,"DOMMatrixReadOnly",C),_defineProperty(_knownGlobals,"DOMParser",C),_defineProperty(_knownGlobals,"DOMPoint",C),_defineProperty(_knownGlobals,"DOMPointReadOnly",C),_defineProperty(_knownGlobals,"DOMQuad",C),_defineProperty(_knownGlobals,"DOMRect",C),_defineProperty(_knownGlobals,"DOMRectReadOnly",C),_defineProperty(_knownGlobals,"DOMStringList",C),_defineProperty(_knownGlobals,"DOMStringMap",C),_defineProperty(_knownGlobals,"DOMTokenList",C),_defineProperty(_knownGlobals,"DragEvent",C),_defineProperty(_knownGlobals,"DynamicsCompressorNode",C),_defineProperty(_knownGlobals,"Element",C),_defineProperty(_knownGlobals,"ErrorEvent",C),_defineProperty(_knownGlobals,"Event",C),_defineProperty(_knownGlobals,"EventSource",C),_defineProperty(_knownGlobals,"EventTarget",C),_defineProperty(_knownGlobals,"external",O),_defineProperty(_knownGlobals,"fetch",O),_defineProperty(_knownGlobals,"File",C),_defineProperty(_knownGlobals,"FileList",C),_defineProperty(_knownGlobals,"FileReader",C),_defineProperty(_knownGlobals,"find",O),_defineProperty(_knownGlobals,"focus",O),_defineProperty(_knownGlobals,"FocusEvent",C),_defineProperty(_knownGlobals,"FontFace",C),_defineProperty(_knownGlobals,"FontFaceSetLoadEvent",C),_defineProperty(_knownGlobals,"FormData",C),_defineProperty(_knownGlobals,"frames",O),_defineProperty(_knownGlobals,"GainNode",C),_defineProperty(_knownGlobals,"Gamepad",C),_defineProperty(_knownGlobals,"GamepadButton",C),_defineProperty(_knownGlobals,"GamepadEvent",C),_defineProperty(_knownGlobals,"getComputedStyle",O),_defineProperty(_knownGlobals,"getSelection",O),_defineProperty(_knownGlobals,"HashChangeEvent",C),_defineProperty(_knownGlobals,"Headers",C),_defineProperty(_knownGlobals,"history",O),_defineProperty(_knownGlobals,"History",C),_defineProperty(_knownGlobals,"HTMLAllCollection",C),_defineProperty(_knownGlobals,"HTMLAnchorElement",C),_defineProperty(_knownGlobals,"HTMLAreaElement",C),_defineProperty(_knownGlobals,"HTMLAudioElement",C),_defineProperty(_knownGlobals,"HTMLBaseElement",C),_defineProperty(_knownGlobals,"HTMLBodyElement",C),_defineProperty(_knownGlobals,"HTMLBRElement",C),_defineProperty(_knownGlobals,"HTMLButtonElement",C),_defineProperty(_knownGlobals,"HTMLCanvasElement",C),_defineProperty(_knownGlobals,"HTMLCollection",C),_defineProperty(_knownGlobals,"HTMLContentElement",C),_defineProperty(_knownGlobals,"HTMLDataElement",C),_defineProperty(_knownGlobals,"HTMLDataListElement",C),_defineProperty(_knownGlobals,"HTMLDetailsElement",C),_defineProperty(_knownGlobals,"HTMLDialogElement",C),_defineProperty(_knownGlobals,"HTMLDirectoryElement",C),_defineProperty(_knownGlobals,"HTMLDivElement",C),_defineProperty(_knownGlobals,"HTMLDListElement",C),_defineProperty(_knownGlobals,"HTMLDocument",C),_defineProperty(_knownGlobals,"HTMLElement",C),_defineProperty(_knownGlobals,"HTMLEmbedElement",C),_defineProperty(_knownGlobals,"HTMLFieldSetElement",C),_defineProperty(_knownGlobals,"HTMLFontElement",C),_defineProperty(_knownGlobals,"HTMLFormControlsCollection",C),_defineProperty(_knownGlobals,"HTMLFormElement",C),_defineProperty(_knownGlobals,"HTMLFrameElement",C),_defineProperty(_knownGlobals,"HTMLFrameSetElement",C),_defineProperty(_knownGlobals,"HTMLHeadElement",C),_defineProperty(_knownGlobals,"HTMLHeadingElement",C),_defineProperty(_knownGlobals,"HTMLHRElement",C),_defineProperty(_knownGlobals,"HTMLHtmlElement",C),_defineProperty(_knownGlobals,"HTMLIFrameElement",C),_defineProperty(_knownGlobals,"HTMLImageElement",C),_defineProperty(_knownGlobals,"HTMLInputElement",C),_defineProperty(_knownGlobals,"HTMLLabelElement",C),_defineProperty(_knownGlobals,"HTMLLegendElement",C),_defineProperty(_knownGlobals,"HTMLLIElement",C),_defineProperty(_knownGlobals,"HTMLLinkElement",C),_defineProperty(_knownGlobals,"HTMLMapElement",C),_defineProperty(_knownGlobals,"HTMLMarqueeElement",C),_defineProperty(_knownGlobals,"HTMLMediaElement",C),_defineProperty(_knownGlobals,"HTMLMenuElement",C),_defineProperty(_knownGlobals,"HTMLMetaElement",C),_defineProperty(_knownGlobals,"HTMLMeterElement",C),_defineProperty(_knownGlobals,"HTMLModElement",C),_defineProperty(_knownGlobals,"HTMLObjectElement",C),_defineProperty(_knownGlobals,"HTMLOListElement",C),_defineProperty(_knownGlobals,"HTMLOptGroupElement",C),_defineProperty(_knownGlobals,"HTMLOptionElement",C),_defineProperty(_knownGlobals,"HTMLOptionsCollection",C),_defineProperty(_knownGlobals,"HTMLOutputElement",C),_defineProperty(_knownGlobals,"HTMLParagraphElement",C),_defineProperty(_knownGlobals,"HTMLParamElement",C),_defineProperty(_knownGlobals,"HTMLPictureElement",C),_defineProperty(_knownGlobals,"HTMLPreElement",C),_defineProperty(_knownGlobals,"HTMLProgressElement",C),_defineProperty(_knownGlobals,"HTMLQuoteElement",C),_defineProperty(_knownGlobals,"HTMLScriptElement",C),_defineProperty(_knownGlobals,"HTMLSelectElement",C),_defineProperty(_knownGlobals,"HTMLShadowElement",C),_defineProperty(_knownGlobals,"HTMLSlotElement",C),_defineProperty(_knownGlobals,"HTMLSourceElement",C),_defineProperty(_knownGlobals,"HTMLSpanElement",C),_defineProperty(_knownGlobals,"HTMLStyleElement",C),_defineProperty(_knownGlobals,"HTMLTableCaptionElement",C),_defineProperty(_knownGlobals,"HTMLTableCellElement",C),_defineProperty(_knownGlobals,"HTMLTableColElement",C),_defineProperty(_knownGlobals,"HTMLTableElement",C),_defineProperty(_knownGlobals,"HTMLTableRowElement",C),_defineProperty(_knownGlobals,"HTMLTableSectionElement",C),_defineProperty(_knownGlobals,"HTMLTemplateElement",C),_defineProperty(_knownGlobals,"HTMLTextAreaElement",C),_defineProperty(_knownGlobals,"HTMLTimeElement",C),_defineProperty(_knownGlobals,"HTMLTitleElement",C),_defineProperty(_knownGlobals,"HTMLTrackElement",C),_defineProperty(_knownGlobals,"HTMLUListElement",C),_defineProperty(_knownGlobals,"HTMLUnknownElement",C),_defineProperty(_knownGlobals,"HTMLVideoElement",C),_defineProperty(_knownGlobals,"IDBCursor",C),_defineProperty(_knownGlobals,"IDBCursorWithValue",C),_defineProperty(_knownGlobals,"IDBDatabase",C),_defineProperty(_knownGlobals,"IDBFactory",C),_defineProperty(_knownGlobals,"IDBIndex",C),_defineProperty(_knownGlobals,"IDBKeyRange",C),_defineProperty(_knownGlobals,"IDBObjectStore",C),_defineProperty(_knownGlobals,"IDBOpenDBRequest",C),_defineProperty(_knownGlobals,"IDBRequest",C),_defineProperty(_knownGlobals,"IDBTransaction",C),_defineProperty(_knownGlobals,"IDBVersionChangeEvent",C),_defineProperty(_knownGlobals,"IdleDeadline",C),_defineProperty(_knownGlobals,"IIRFilterNode",C),_defineProperty(_knownGlobals,"Image",C),_defineProperty(_knownGlobals,"ImageBitmap",C),_defineProperty(_knownGlobals,"ImageBitmapRenderingContext",C),_defineProperty(_knownGlobals,"ImageCapture",C),_defineProperty(_knownGlobals,"ImageData",C),_defineProperty(_knownGlobals,"indexedDB",O),_defineProperty(_knownGlobals,"innerHeight",O),_defineProperty(_knownGlobals,"innerWidth",O),_defineProperty(_knownGlobals,"InputEvent",C),_defineProperty(_knownGlobals,"IntersectionObserver",C),_defineProperty(_knownGlobals,"IntersectionObserverEntry",C),_defineProperty(_knownGlobals,"isSecureContext",O),_defineProperty(_knownGlobals,"KeyboardEvent",C),_defineProperty(_knownGlobals,"KeyframeEffect",C),_defineProperty(_knownGlobals,"length",O),_defineProperty(_knownGlobals,"localStorage",O),_defineProperty(_knownGlobals,"location",O),_defineProperty(_knownGlobals,"Location",C),_defineProperty(_knownGlobals,"locationbar",O),_defineProperty(_knownGlobals,"matchMedia",O),_defineProperty(_knownGlobals,"MediaDeviceInfo",C),_defineProperty(_knownGlobals,"MediaDevices",C),_defineProperty(_knownGlobals,"MediaElementAudioSourceNode",C),_defineProperty(_knownGlobals,"MediaEncryptedEvent",C),_defineProperty(_knownGlobals,"MediaError",C),_defineProperty(_knownGlobals,"MediaKeyMessageEvent",C),_defineProperty(_knownGlobals,"MediaKeySession",C),_defineProperty(_knownGlobals,"MediaKeyStatusMap",C),_defineProperty(_knownGlobals,"MediaKeySystemAccess",C),_defineProperty(_knownGlobals,"MediaList",C),_defineProperty(_knownGlobals,"MediaQueryList",C),_defineProperty(_knownGlobals,"MediaQueryListEvent",C),_defineProperty(_knownGlobals,"MediaRecorder",C),_defineProperty(_knownGlobals,"MediaSettingsRange",C),_defineProperty(_knownGlobals,"MediaSource",C),_defineProperty(_knownGlobals,"MediaStream",C),_defineProperty(_knownGlobals,"MediaStreamAudioDestinationNode",C),_defineProperty(_knownGlobals,"MediaStreamAudioSourceNode",C),_defineProperty(_knownGlobals,"MediaStreamEvent",C),_defineProperty(_knownGlobals,"MediaStreamTrack",C),_defineProperty(_knownGlobals,"MediaStreamTrackEvent",C),_defineProperty(_knownGlobals,"menubar",O),_defineProperty(_knownGlobals,"MessageChannel",C),_defineProperty(_knownGlobals,"MessageEvent",C),_defineProperty(_knownGlobals,"MessagePort",C),_defineProperty(_knownGlobals,"MIDIAccess",C),_defineProperty(_knownGlobals,"MIDIConnectionEvent",C),_defineProperty(_knownGlobals,"MIDIInput",C),_defineProperty(_knownGlobals,"MIDIInputMap",C),_defineProperty(_knownGlobals,"MIDIMessageEvent",C),_defineProperty(_knownGlobals,"MIDIOutput",C),_defineProperty(_knownGlobals,"MIDIOutputMap",C),_defineProperty(_knownGlobals,"MIDIPort",C),_defineProperty(_knownGlobals,"MimeType",C),_defineProperty(_knownGlobals,"MimeTypeArray",C),_defineProperty(_knownGlobals,"MouseEvent",C),_defineProperty(_knownGlobals,"moveBy",O),_defineProperty(_knownGlobals,"moveTo",O),_defineProperty(_knownGlobals,"MutationEvent",C),_defineProperty(_knownGlobals,"MutationObserver",C),_defineProperty(_knownGlobals,"MutationRecord",C),_defineProperty(_knownGlobals,"name",O),_defineProperty(_knownGlobals,"NamedNodeMap",C),_defineProperty(_knownGlobals,"NavigationPreloadManager",C),_defineProperty(_knownGlobals,"navigator",O),_defineProperty(_knownGlobals,"Navigator",C),_defineProperty(_knownGlobals,"NetworkInformation",C),_defineProperty(_knownGlobals,"Node",C),_defineProperty(_knownGlobals,"NodeFilter",O),_defineProperty(_knownGlobals,"NodeIterator",C),_defineProperty(_knownGlobals,"NodeList",C),_defineProperty(_knownGlobals,"Notification",C),_defineProperty(_knownGlobals,"OfflineAudioCompletionEvent",C),_defineProperty(_knownGlobals,"OfflineAudioContext",C),_defineProperty(_knownGlobals,"offscreenBuffering",O),_defineProperty(_knownGlobals,"OffscreenCanvas",C),_defineProperty(_knownGlobals,"open",O),_defineProperty(_knownGlobals,"openDatabase",O),_defineProperty(_knownGlobals,"Option",C),_defineProperty(_knownGlobals,"origin",O),_defineProperty(_knownGlobals,"OscillatorNode",C),_defineProperty(_knownGlobals,"outerHeight",O),_defineProperty(_knownGlobals,"outerWidth",O),_defineProperty(_knownGlobals,"PageTransitionEvent",C),_defineProperty(_knownGlobals,"pageXOffset",O),_defineProperty(_knownGlobals,"pageYOffset",O),_defineProperty(_knownGlobals,"PannerNode",C),_defineProperty(_knownGlobals,"parent",O),_defineProperty(_knownGlobals,"Path2D",C),_defineProperty(_knownGlobals,"PaymentAddress",C),_defineProperty(_knownGlobals,"PaymentRequest",C),_defineProperty(_knownGlobals,"PaymentRequestUpdateEvent",C),_defineProperty(_knownGlobals,"PaymentResponse",C),_defineProperty(_knownGlobals,"performance",O),_defineProperty(_knownGlobals,"Performance",C),_defineProperty(_knownGlobals,"PerformanceEntry",C),_defineProperty(_knownGlobals,"PerformanceLongTaskTiming",C),_defineProperty(_knownGlobals,"PerformanceMark",C),_defineProperty(_knownGlobals,"PerformanceMeasure",C),_defineProperty(_knownGlobals,"PerformanceNavigation",C),_defineProperty(_knownGlobals,"PerformanceNavigationTiming",C),_defineProperty(_knownGlobals,"PerformanceObserver",C),_defineProperty(_knownGlobals,"PerformanceObserverEntryList",C),_defineProperty(_knownGlobals,"PerformancePaintTiming",C),_defineProperty(_knownGlobals,"PerformanceResourceTiming",C),_defineProperty(_knownGlobals,"PerformanceTiming",C),_defineProperty(_knownGlobals,"PeriodicWave",C),_defineProperty(_knownGlobals,"Permissions",C),_defineProperty(_knownGlobals,"PermissionStatus",C),_defineProperty(_knownGlobals,"personalbar",O),_defineProperty(_knownGlobals,"PhotoCapabilities",C),_defineProperty(_knownGlobals,"Plugin",C),_defineProperty(_knownGlobals,"PluginArray",C),_defineProperty(_knownGlobals,"PointerEvent",C),_defineProperty(_knownGlobals,"PopStateEvent",C),_defineProperty(_knownGlobals,"postMessage",O),_defineProperty(_knownGlobals,"Presentation",C),_defineProperty(_knownGlobals,"PresentationAvailability",C),_defineProperty(_knownGlobals,"PresentationConnection",C),_defineProperty(_knownGlobals,"PresentationConnectionAvailableEvent",C),_defineProperty(_knownGlobals,"PresentationConnectionCloseEvent",C),_defineProperty(_knownGlobals,"PresentationConnectionList",C),_defineProperty(_knownGlobals,"PresentationReceiver",C),_defineProperty(_knownGlobals,"PresentationRequest",C),_defineProperty(_knownGlobals,"print",O),_defineProperty(_knownGlobals,"ProcessingInstruction",C),_defineProperty(_knownGlobals,"ProgressEvent",C),_defineProperty(_knownGlobals,"PromiseRejectionEvent",C),_defineProperty(_knownGlobals,"prompt",O),_defineProperty(_knownGlobals,"PushManager",C),_defineProperty(_knownGlobals,"PushSubscription",C),_defineProperty(_knownGlobals,"PushSubscriptionOptions",C),_defineProperty(_knownGlobals,"queueMicrotask",O),_defineProperty(_knownGlobals,"RadioNodeList",C),_defineProperty(_knownGlobals,"Range",C),_defineProperty(_knownGlobals,"ReadableStream",C),_defineProperty(_knownGlobals,"RemotePlayback",C),_defineProperty(_knownGlobals,"removeEventListener",O),_defineProperty(_knownGlobals,"Request",C),_defineProperty(_knownGlobals,"requestAnimationFrame",O),_defineProperty(_knownGlobals,"requestIdleCallback",O),_defineProperty(_knownGlobals,"resizeBy",O),_defineProperty(_knownGlobals,"ResizeObserver",C),_defineProperty(_knownGlobals,"ResizeObserverEntry",C),_defineProperty(_knownGlobals,"resizeTo",O),_defineProperty(_knownGlobals,"Response",C),_defineProperty(_knownGlobals,"RTCCertificate",C),_defineProperty(_knownGlobals,"RTCDataChannel",C),_defineProperty(_knownGlobals,"RTCDataChannelEvent",C),_defineProperty(_knownGlobals,"RTCDtlsTransport",C),_defineProperty(_knownGlobals,"RTCIceCandidate",C),_defineProperty(_knownGlobals,"RTCIceTransport",C),_defineProperty(_knownGlobals,"RTCPeerConnection",C),_defineProperty(_knownGlobals,"RTCPeerConnectionIceEvent",C),_defineProperty(_knownGlobals,"RTCRtpReceiver",C),_defineProperty(_knownGlobals,"RTCRtpSender",C),_defineProperty(_knownGlobals,"RTCSctpTransport",C),_defineProperty(_knownGlobals,"RTCSessionDescription",C),_defineProperty(_knownGlobals,"RTCStatsReport",C),_defineProperty(_knownGlobals,"RTCTrackEvent",C),_defineProperty(_knownGlobals,"screen",O),_defineProperty(_knownGlobals,"Screen",C),_defineProperty(_knownGlobals,"screenLeft",O),_defineProperty(_knownGlobals,"ScreenOrientation",C),_defineProperty(_knownGlobals,"screenTop",O),_defineProperty(_knownGlobals,"screenX",O),_defineProperty(_knownGlobals,"screenY",O),_defineProperty(_knownGlobals,"ScriptProcessorNode",C),_defineProperty(_knownGlobals,"scroll",O),_defineProperty(_knownGlobals,"scrollbars",O),_defineProperty(_knownGlobals,"scrollBy",O),_defineProperty(_knownGlobals,"scrollTo",O),_defineProperty(_knownGlobals,"scrollX",O),_defineProperty(_knownGlobals,"scrollY",O),_defineProperty(_knownGlobals,"SecurityPolicyViolationEvent",C),_defineProperty(_knownGlobals,"Selection",C),_defineProperty(_knownGlobals,"ServiceWorker",C),_defineProperty(_knownGlobals,"ServiceWorkerContainer",C),_defineProperty(_knownGlobals,"ServiceWorkerRegistration",C),_defineProperty(_knownGlobals,"sessionStorage",O),_defineProperty(_knownGlobals,"ShadowRoot",C),_defineProperty(_knownGlobals,"SharedWorker",C),_defineProperty(_knownGlobals,"SourceBuffer",C),_defineProperty(_knownGlobals,"SourceBufferList",C),_defineProperty(_knownGlobals,"speechSynthesis",O),_defineProperty(_knownGlobals,"SpeechSynthesisEvent",C),_defineProperty(_knownGlobals,"SpeechSynthesisUtterance",C),_defineProperty(_knownGlobals,"StaticRange",C),_defineProperty(_knownGlobals,"status",O),_defineProperty(_knownGlobals,"statusbar",O),_defineProperty(_knownGlobals,"StereoPannerNode",C),_defineProperty(_knownGlobals,"stop",O),_defineProperty(_knownGlobals,"Storage",C),_defineProperty(_knownGlobals,"StorageEvent",C),_defineProperty(_knownGlobals,"StorageManager",C),_defineProperty(_knownGlobals,"styleMedia",O),_defineProperty(_knownGlobals,"StyleSheet",C),_defineProperty(_knownGlobals,"StyleSheetList",C),_defineProperty(_knownGlobals,"SubtleCrypto",C),_defineProperty(_knownGlobals,"SVGAElement",C),_defineProperty(_knownGlobals,"SVGAngle",C),_defineProperty(_knownGlobals,"SVGAnimatedAngle",C),_defineProperty(_knownGlobals,"SVGAnimatedBoolean",C),_defineProperty(_knownGlobals,"SVGAnimatedEnumeration",C),_defineProperty(_knownGlobals,"SVGAnimatedInteger",C),_defineProperty(_knownGlobals,"SVGAnimatedLength",C),_defineProperty(_knownGlobals,"SVGAnimatedLengthList",C),_defineProperty(_knownGlobals,"SVGAnimatedNumber",C),_defineProperty(_knownGlobals,"SVGAnimatedNumberList",C),_defineProperty(_knownGlobals,"SVGAnimatedPreserveAspectRatio",C),_defineProperty(_knownGlobals,"SVGAnimatedRect",C),_defineProperty(_knownGlobals,"SVGAnimatedString",C),_defineProperty(_knownGlobals,"SVGAnimatedTransformList",C),_defineProperty(_knownGlobals,"SVGAnimateElement",C),_defineProperty(_knownGlobals,"SVGAnimateMotionElement",C),_defineProperty(_knownGlobals,"SVGAnimateTransformElement",C),_defineProperty(_knownGlobals,"SVGAnimationElement",C),_defineProperty(_knownGlobals,"SVGCircleElement",C),_defineProperty(_knownGlobals,"SVGClipPathElement",C),_defineProperty(_knownGlobals,"SVGComponentTransferFunctionElement",C),_defineProperty(_knownGlobals,"SVGDefsElement",C),_defineProperty(_knownGlobals,"SVGDescElement",C),_defineProperty(_knownGlobals,"SVGDiscardElement",C),_defineProperty(_knownGlobals,"SVGElement",C),_defineProperty(_knownGlobals,"SVGEllipseElement",C),_defineProperty(_knownGlobals,"SVGFEBlendElement",C),_defineProperty(_knownGlobals,"SVGFEColorMatrixElement",C),_defineProperty(_knownGlobals,"SVGFEComponentTransferElement",C),_defineProperty(_knownGlobals,"SVGFECompositeElement",C),_defineProperty(_knownGlobals,"SVGFEConvolveMatrixElement",C),_defineProperty(_knownGlobals,"SVGFEDiffuseLightingElement",C),_defineProperty(_knownGlobals,"SVGFEDisplacementMapElement",C),_defineProperty(_knownGlobals,"SVGFEDistantLightElement",C),_defineProperty(_knownGlobals,"SVGFEDropShadowElement",C),_defineProperty(_knownGlobals,"SVGFEFloodElement",C),_defineProperty(_knownGlobals,"SVGFEFuncAElement",C),_defineProperty(_knownGlobals,"SVGFEFuncBElement",C),_defineProperty(_knownGlobals,"SVGFEFuncGElement",C),_defineProperty(_knownGlobals,"SVGFEFuncRElement",C),_defineProperty(_knownGlobals,"SVGFEGaussianBlurElement",C),_defineProperty(_knownGlobals,"SVGFEImageElement",C),_defineProperty(_knownGlobals,"SVGFEMergeElement",C),_defineProperty(_knownGlobals,"SVGFEMergeNodeElement",C),_defineProperty(_knownGlobals,"SVGFEMorphologyElement",C),_defineProperty(_knownGlobals,"SVGFEOffsetElement",C),_defineProperty(_knownGlobals,"SVGFEPointLightElement",C),_defineProperty(_knownGlobals,"SVGFESpecularLightingElement",C),_defineProperty(_knownGlobals,"SVGFESpotLightElement",C),_defineProperty(_knownGlobals,"SVGFETileElement",C),_defineProperty(_knownGlobals,"SVGFETurbulenceElement",C),_defineProperty(_knownGlobals,"SVGFilterElement",C),_defineProperty(_knownGlobals,"SVGForeignObjectElement",C),_defineProperty(_knownGlobals,"SVGGElement",C),_defineProperty(_knownGlobals,"SVGGeometryElement",C),_defineProperty(_knownGlobals,"SVGGradientElement",C),_defineProperty(_knownGlobals,"SVGGraphicsElement",C),_defineProperty(_knownGlobals,"SVGImageElement",C),_defineProperty(_knownGlobals,"SVGLength",C),_defineProperty(_knownGlobals,"SVGLengthList",C),_defineProperty(_knownGlobals,"SVGLinearGradientElement",C),_defineProperty(_knownGlobals,"SVGLineElement",C),_defineProperty(_knownGlobals,"SVGMarkerElement",C),_defineProperty(_knownGlobals,"SVGMaskElement",C),_defineProperty(_knownGlobals,"SVGMatrix",C),_defineProperty(_knownGlobals,"SVGMetadataElement",C),_defineProperty(_knownGlobals,"SVGMPathElement",C),_defineProperty(_knownGlobals,"SVGNumber",C),_defineProperty(_knownGlobals,"SVGNumberList",C),_defineProperty(_knownGlobals,"SVGPathElement",C),_defineProperty(_knownGlobals,"SVGPatternElement",C),_defineProperty(_knownGlobals,"SVGPoint",C),_defineProperty(_knownGlobals,"SVGPointList",C),_defineProperty(_knownGlobals,"SVGPolygonElement",C),_defineProperty(_knownGlobals,"SVGPolylineElement",C),_defineProperty(_knownGlobals,"SVGPreserveAspectRatio",C),_defineProperty(_knownGlobals,"SVGRadialGradientElement",C),_defineProperty(_knownGlobals,"SVGRect",C),_defineProperty(_knownGlobals,"SVGRectElement",C),_defineProperty(_knownGlobals,"SVGScriptElement",C),_defineProperty(_knownGlobals,"SVGSetElement",C),_defineProperty(_knownGlobals,"SVGStopElement",C),_defineProperty(_knownGlobals,"SVGStringList",C),_defineProperty(_knownGlobals,"SVGStyleElement",C),_defineProperty(_knownGlobals,"SVGSVGElement",C),_defineProperty(_knownGlobals,"SVGSwitchElement",C),_defineProperty(_knownGlobals,"SVGSymbolElement",C),_defineProperty(_knownGlobals,"SVGTextContentElement",C),_defineProperty(_knownGlobals,"SVGTextElement",C),_defineProperty(_knownGlobals,"SVGTextPathElement",C),_defineProperty(_knownGlobals,"SVGTextPositioningElement",C),_defineProperty(_knownGlobals,"SVGTitleElement",C),_defineProperty(_knownGlobals,"SVGTransform",C),_defineProperty(_knownGlobals,"SVGTransformList",C),_defineProperty(_knownGlobals,"SVGTSpanElement",C),_defineProperty(_knownGlobals,"SVGUnitTypes",C),_defineProperty(_knownGlobals,"SVGUseElement",C),_defineProperty(_knownGlobals,"SVGViewElement",C),_defineProperty(_knownGlobals,"TaskAttributionTiming",C),_defineProperty(_knownGlobals,"Text",C),_defineProperty(_knownGlobals,"TextEvent",C),_defineProperty(_knownGlobals,"TextMetrics",C),_defineProperty(_knownGlobals,"TextTrack",C),_defineProperty(_knownGlobals,"TextTrackCue",C),_defineProperty(_knownGlobals,"TextTrackCueList",C),_defineProperty(_knownGlobals,"TextTrackList",C),_defineProperty(_knownGlobals,"TimeRanges",C),_defineProperty(_knownGlobals,"toolbar",O),_defineProperty(_knownGlobals,"top",O),_defineProperty(_knownGlobals,"Touch",C),_defineProperty(_knownGlobals,"TouchEvent",C),_defineProperty(_knownGlobals,"TouchList",C),_defineProperty(_knownGlobals,"TrackEvent",C),_defineProperty(_knownGlobals,"TransitionEvent",C),_defineProperty(_knownGlobals,"TreeWalker",C),_defineProperty(_knownGlobals,"UIEvent",C),_defineProperty(_knownGlobals,"ValidityState",C),_defineProperty(_knownGlobals,"visualViewport",O),_defineProperty(_knownGlobals,"VisualViewport",C),_defineProperty(_knownGlobals,"VTTCue",C),_defineProperty(_knownGlobals,"WaveShaperNode",C),_defineProperty(_knownGlobals,"WebAssembly",O),_defineProperty(_knownGlobals,"WebGL2RenderingContext",C),_defineProperty(_knownGlobals,"WebGLActiveInfo",C),_defineProperty(_knownGlobals,"WebGLBuffer",C),_defineProperty(_knownGlobals,"WebGLContextEvent",C),_defineProperty(_knownGlobals,"WebGLFramebuffer",C),_defineProperty(_knownGlobals,"WebGLProgram",C),_defineProperty(_knownGlobals,"WebGLQuery",C),_defineProperty(_knownGlobals,"WebGLRenderbuffer",C),_defineProperty(_knownGlobals,"WebGLRenderingContext",C),_defineProperty(_knownGlobals,"WebGLSampler",C),_defineProperty(_knownGlobals,"WebGLShader",C),_defineProperty(_knownGlobals,"WebGLShaderPrecisionFormat",C),_defineProperty(_knownGlobals,"WebGLSync",C),_defineProperty(_knownGlobals,"WebGLTexture",C),_defineProperty(_knownGlobals,"WebGLTransformFeedback",C),_defineProperty(_knownGlobals,"WebGLUniformLocation",C),_defineProperty(_knownGlobals,"WebGLVertexArrayObject",C),_defineProperty(_knownGlobals,"WebSocket",C),_defineProperty(_knownGlobals,"WheelEvent",C),_defineProperty(_knownGlobals,"Window",C),_defineProperty(_knownGlobals,"Worker",C),_defineProperty(_knownGlobals,"WritableStream",C),_defineProperty(_knownGlobals,"XMLDocument",C),_defineProperty(_knownGlobals,"XMLHttpRequest",C),_defineProperty(_knownGlobals,"XMLHttpRequestEventTarget",C),_defineProperty(_knownGlobals,"XMLHttpRequestUpload",C),_defineProperty(_knownGlobals,"XMLSerializer",C),_defineProperty(_knownGlobals,"XPathEvaluator",C),_defineProperty(_knownGlobals,"XPathExpression",C),_defineProperty(_knownGlobals,"XPathResult",C),_defineProperty(_knownGlobals,"XSLTProcessor",C),_knownGlobals);for(var _i5=0,_arr2=['window','global','self','globalThis'];_i5<_arr2.length;_i5++){var global=_arr2[_i5];knownGlobals[global]=knownGlobals;}function getGlobalAtPath(path){var currentGlobal=knownGlobals;var _iteratorNormalCompletion38=true;var _didIteratorError38=false;var _iteratorError38=undefined;try{for(var _iterator38=path[Symbol.iterator](),_step38;!(_iteratorNormalCompletion38=(_step38=_iterator38.next()).done);_iteratorNormalCompletion38=true){var pathSegment=_step38.value;if(typeof pathSegment!=='string'){return null;}currentGlobal=currentGlobal[pathSegment];if(!currentGlobal){return null;}}}catch(err){_didIteratorError38=true;_iteratorError38=err;}finally{try{if(!_iteratorNormalCompletion38&&_iterator38["return"]!=null){_iterator38["return"]();}}finally{if(_didIteratorError38){throw _iteratorError38;}}}return currentGlobal[ValueProperties];}function isPureGlobal(path){var globalAtPath=getGlobalAtPath(path);return globalAtPath!==null&&globalAtPath.pure;}function isGlobalMember(path){if(path.length===1){return path[0]==='undefined'||getGlobalAtPath(path)!==null;}return getGlobalAtPath(path.slice(0,-1))!==null;}var GlobalVariable=/*#__PURE__*/function(_Variable3){_inherits(GlobalVariable,_Variable3);function GlobalVariable(){_classCallCheck(this,GlobalVariable);return _possibleConstructorReturn(this,_getPrototypeOf(GlobalVariable).apply(this,arguments));}_createClass(GlobalVariable,[{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path){return!isGlobalMember([this.name].concat(_toConsumableArray(path)));}},{key:"hasEffectsWhenCalledAtPath",value:function hasEffectsWhenCalledAtPath(path){return!isPureGlobal([this.name].concat(_toConsumableArray(path)));}}]);return GlobalVariable;}(Variable);var Identifier$1=/*#__PURE__*/function(_NodeBase2){_inherits(Identifier$1,_NodeBase2);function Identifier$1(){var _this8;_classCallCheck(this,Identifier$1);_this8=_possibleConstructorReturn(this,_getPrototypeOf(Identifier$1).apply(this,arguments));_this8.variable=null;_this8.bound=false;return _this8;}_createClass(Identifier$1,[{key:"addExportedVariables",value:function addExportedVariables(variables){if(this.variable!==null&&this.variable.exportName){variables.push(this.variable);}}},{key:"bind",value:function bind(){if(this.bound)return;this.bound=true;if(this.variable===null&&isReference(this,this.parent)){this.variable=this.scope.findVariable(this.name);this.variable.addReference(this);}if(this.variable!==null&&this.variable instanceof LocalVariable&&this.variable.additionalInitializers!==null){this.variable.consolidateInitializers();}}},{key:"declare",value:function declare(kind,init){var variable;switch(kind){case'var':variable=this.scope.addDeclaration(this,this.context,init,true);break;case'function':variable=this.scope.addDeclaration(this,this.context,init,'function');break;case'let':case'const':case'class':variable=this.scope.addDeclaration(this,this.context,init,false);break;case'parameter':variable=this.scope.addParameterDeclaration(this);break;/* istanbul ignore next */default:/* istanbul ignore next */throw new Error("Internal Error: Unexpected identifier kind ".concat(kind,"."));}return[this.variable=variable];}},{key:"deoptimizePath",value:function deoptimizePath(path){if(!this.bound)this.bind();if(path.length===0&&!this.scope.contains(this.name)){this.disallowImportReassignment();}this.variable.deoptimizePath(path);}},{key:"getLiteralValueAtPath",value:function getLiteralValueAtPath(path,recursionTracker,origin){if(!this.bound)this.bind();return this.variable.getLiteralValueAtPath(path,recursionTracker,origin);}},{key:"getReturnExpressionWhenCalledAtPath",value:function getReturnExpressionWhenCalledAtPath(path,recursionTracker,origin){if(!this.bound)this.bind();return this.variable.getReturnExpressionWhenCalledAtPath(path,recursionTracker,origin);}},{key:"hasEffects",value:function hasEffects(){return this.context.unknownGlobalSideEffects&&this.variable instanceof GlobalVariable&&this.variable.hasEffectsWhenAccessedAtPath(EMPTY_PATH);}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path,context){return this.variable!==null&&this.variable.hasEffectsWhenAccessedAtPath(path,context);}},{key:"hasEffectsWhenAssignedAtPath",value:function hasEffectsWhenAssignedAtPath(path,context){return!this.variable||this.variable.hasEffectsWhenAssignedAtPath(path,context);}},{key:"hasEffectsWhenCalledAtPath",value:function hasEffectsWhenCalledAtPath(path,callOptions,context){return!this.variable||this.variable.hasEffectsWhenCalledAtPath(path,callOptions,context);}},{key:"include",value:function include(context){if(!this.included){this.included=true;if(this.variable!==null){this.context.includeVariable(context,this.variable);}}}},{key:"includeCallArguments",value:function includeCallArguments(context,args){this.variable.includeCallArguments(context,args);}},{key:"render",value:function render(code,_options){var _ref=arguments.length>2&&arguments[2]!==undefined?arguments[2]:BLANK,renderedParentType=_ref.renderedParentType,isCalleeOfRenderedParent=_ref.isCalleeOfRenderedParent,isShorthandProperty=_ref.isShorthandProperty;if(this.variable){var name=this.variable.getName();if(name!==this.name){code.overwrite(this.start,this.end,name,{contentOnly:true,storeName:true});if(isShorthandProperty){code.prependRight(this.start,"".concat(this.name,": "));}}// In strict mode, any variable named "eval" must be the actual "eval" function
if(name==='eval'&&renderedParentType===CallExpression&&isCalleeOfRenderedParent){code.appendRight(this.start,'0, ');}}}},{key:"disallowImportReassignment",value:function disallowImportReassignment(){return this.context.error({code:'ILLEGAL_REASSIGNMENT',message:"Illegal reassignment to import '".concat(this.name,"'")},this.start);}}]);return Identifier$1;}(NodeBase);var RestElement=/*#__PURE__*/function(_NodeBase3){_inherits(RestElement,_NodeBase3);function RestElement(){var _this9;_classCallCheck(this,RestElement);_this9=_possibleConstructorReturn(this,_getPrototypeOf(RestElement).apply(this,arguments));_this9.declarationInit=null;return _this9;}_createClass(RestElement,[{key:"addExportedVariables",value:function addExportedVariables(variables){this.argument.addExportedVariables(variables);}},{key:"bind",value:function bind(){_get(_getPrototypeOf(RestElement.prototype),"bind",this).call(this);if(this.declarationInit!==null){this.declarationInit.deoptimizePath([UnknownKey,UnknownKey]);}}},{key:"declare",value:function declare(kind,init){this.declarationInit=init;return this.argument.declare(kind,UNKNOWN_EXPRESSION);}},{key:"deoptimizePath",value:function deoptimizePath(path){path.length===0&&this.argument.deoptimizePath(EMPTY_PATH);}},{key:"hasEffectsWhenAssignedAtPath",value:function hasEffectsWhenAssignedAtPath(path,context){return path.length>0||this.argument.hasEffectsWhenAssignedAtPath(EMPTY_PATH,context);}}]);return RestElement;}(NodeBase);var FunctionNode=/*#__PURE__*/function(_NodeBase4){_inherits(FunctionNode,_NodeBase4);function FunctionNode(){var _this10;_classCallCheck(this,FunctionNode);_this10=_possibleConstructorReturn(this,_getPrototypeOf(FunctionNode).apply(this,arguments));_this10.isPrototypeDeoptimized=false;return _this10;}_createClass(FunctionNode,[{key:"createScope",value:function createScope(parentScope){this.scope=new FunctionScope(parentScope,this.context);}},{key:"deoptimizePath",value:function deoptimizePath(path){if(path.length===1){if(path[0]==='prototype'){this.isPrototypeDeoptimized=true;}else if(path[0]===UnknownKey){this.isPrototypeDeoptimized=true;// A reassignment of UNKNOWN_PATH is considered equivalent to having lost track
// which means the return expression needs to be reassigned as well
this.scope.getReturnExpression().deoptimizePath(UNKNOWN_PATH);}}}},{key:"getReturnExpressionWhenCalledAtPath",value:function getReturnExpressionWhenCalledAtPath(path){return path.length===0?this.scope.getReturnExpression():UNKNOWN_EXPRESSION;}},{key:"hasEffects",value:function hasEffects(){return this.id!==null&&this.id.hasEffects();}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path){if(path.length<=1)return false;return path.length>2||path[0]!=='prototype'||this.isPrototypeDeoptimized;}},{key:"hasEffectsWhenAssignedAtPath",value:function hasEffectsWhenAssignedAtPath(path){if(path.length<=1){return false;}return path.length>2||path[0]!=='prototype'||this.isPrototypeDeoptimized;}},{key:"hasEffectsWhenCalledAtPath",value:function hasEffectsWhenCalledAtPath(path,callOptions,context){if(path.length>0)return true;var _iteratorNormalCompletion39=true;var _didIteratorError39=false;var _iteratorError39=undefined;try{for(var _iterator39=this.params[Symbol.iterator](),_step39;!(_iteratorNormalCompletion39=(_step39=_iterator39.next()).done);_iteratorNormalCompletion39=true){var param=_step39.value;if(param.hasEffects(context))return true;}}catch(err){_didIteratorError39=true;_iteratorError39=err;}finally{try{if(!_iteratorNormalCompletion39&&_iterator39["return"]!=null){_iterator39["return"]();}}finally{if(_didIteratorError39){throw _iteratorError39;}}}var thisInit=context.replacedVariableInits.get(this.scope.thisVariable);context.replacedVariableInits.set(this.scope.thisVariable,callOptions.withNew?new UnknownObjectExpression():UNKNOWN_EXPRESSION);var brokenFlow=context.brokenFlow,ignore=context.ignore;context.ignore={breaks:false,continues:false,labels:new Set(),returnAwaitYield:true};if(this.body.hasEffects(context))return true;context.brokenFlow=brokenFlow;if(thisInit){context.replacedVariableInits.set(this.scope.thisVariable,thisInit);}else{context.replacedVariableInits["delete"](this.scope.thisVariable);}context.ignore=ignore;return false;}},{key:"include",value:function include(context,includeChildrenRecursively){this.included=true;if(this.id)this.id.include(context);var hasArguments=this.scope.argumentsVariable.included;var _iteratorNormalCompletion40=true;var _didIteratorError40=false;var _iteratorError40=undefined;try{for(var _iterator40=this.params[Symbol.iterator](),_step40;!(_iteratorNormalCompletion40=(_step40=_iterator40.next()).done);_iteratorNormalCompletion40=true){var param=_step40.value;if(!(param instanceof Identifier$1)||hasArguments){param.include(context,includeChildrenRecursively);}}}catch(err){_didIteratorError40=true;_iteratorError40=err;}finally{try{if(!_iteratorNormalCompletion40&&_iterator40["return"]!=null){_iterator40["return"]();}}finally{if(_didIteratorError40){throw _iteratorError40;}}}var brokenFlow=context.brokenFlow;context.brokenFlow=BROKEN_FLOW_NONE;this.body.include(context,includeChildrenRecursively);context.brokenFlow=brokenFlow;}},{key:"includeCallArguments",value:function includeCallArguments(context,args){this.scope.includeCallArguments(context,args);}},{key:"initialise",value:function initialise(){if(this.id!==null){this.id.declare('function',this);}this.scope.addParameterVariables(this.params.map(function(param){return param.declare('parameter',UNKNOWN_EXPRESSION);}),this.params[this.params.length-1]instanceof RestElement);this.body.addImplicitReturnExpressionToScope();}},{key:"parseNode",value:function parseNode(esTreeNode){this.body=new this.context.nodeConstructors.BlockStatement(esTreeNode.body,this,this.scope.hoistedBodyVarScope);_get(_getPrototypeOf(FunctionNode.prototype),"parseNode",this).call(this,esTreeNode);}}]);return FunctionNode;}(NodeBase);FunctionNode.prototype.preventChildBlockScope=true;var FunctionDeclaration=/*#__PURE__*/function(_FunctionNode){_inherits(FunctionDeclaration,_FunctionNode);function FunctionDeclaration(){_classCallCheck(this,FunctionDeclaration);return _possibleConstructorReturn(this,_getPrototypeOf(FunctionDeclaration).apply(this,arguments));}_createClass(FunctionDeclaration,[{key:"initialise",value:function initialise(){_get(_getPrototypeOf(FunctionDeclaration.prototype),"initialise",this).call(this);if(this.id!==null){this.id.variable.isId=true;}}},{key:"parseNode",value:function parseNode(esTreeNode){if(esTreeNode.id!==null){this.id=new this.context.nodeConstructors.Identifier(esTreeNode.id,this,this.scope.parent);}_get(_getPrototypeOf(FunctionDeclaration.prototype),"parseNode",this).call(this,esTreeNode);}}]);return FunctionDeclaration;}(FunctionNode);var WHITESPACE=/\s/;// The header ends at the first non-white-space after "default"
function getDeclarationStart(code){var start=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;start=findFirstOccurrenceOutsideComment(code,'default',start)+7;while(WHITESPACE.test(code[start])){start++;}return start;}function getIdInsertPosition(code,declarationKeyword){var start=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var declarationEnd=findFirstOccurrenceOutsideComment(code,declarationKeyword,start)+declarationKeyword.length;code=code.slice(declarationEnd,findFirstOccurrenceOutsideComment(code,'{',declarationEnd));var generatorStarPos=findFirstOccurrenceOutsideComment(code,'*');if(generatorStarPos===-1){return declarationEnd;}return declarationEnd+generatorStarPos+1;}var ExportDefaultDeclaration=/*#__PURE__*/function(_NodeBase5){_inherits(ExportDefaultDeclaration,_NodeBase5);function ExportDefaultDeclaration(){_classCallCheck(this,ExportDefaultDeclaration);return _possibleConstructorReturn(this,_getPrototypeOf(ExportDefaultDeclaration).apply(this,arguments));}_createClass(ExportDefaultDeclaration,[{key:"include",value:function include(context,includeChildrenRecursively){_get(_getPrototypeOf(ExportDefaultDeclaration.prototype),"include",this).call(this,context,includeChildrenRecursively);if(includeChildrenRecursively){this.context.includeVariable(context,this.variable);}}},{key:"initialise",value:function initialise(){var declaration=this.declaration;this.declarationName=declaration.id&&declaration.id.name||this.declaration.name;this.variable=this.scope.addExportDefaultDeclaration(this.declarationName||this.context.getModuleName(),this,this.context);this.context.addExport(this);}},{key:"render",value:function render(code,options,nodeRenderOptions){var start=nodeRenderOptions.start,end=nodeRenderOptions.end;var declarationStart=getDeclarationStart(code.original,this.start);if(this.declaration instanceof FunctionDeclaration){this.renderNamedDeclaration(code,declarationStart,'function',this.declaration.id===null,options);}else if(this.declaration instanceof ClassDeclaration){this.renderNamedDeclaration(code,declarationStart,'class',this.declaration.id===null,options);}else if(this.variable.getOriginalVariable()!==this.variable){// Remove altogether to prevent re-declaring the same variable
if(options.format==='system'&&this.variable.exportName){code.overwrite(start,end,"exports('".concat(this.variable.exportName,"', ").concat(this.variable.getName(),");"));}else{treeshakeNode(this,code,start,end);}return;}else if(this.variable.included){this.renderVariableDeclaration(code,declarationStart,options);}else{code.remove(this.start,declarationStart);this.declaration.render(code,options,{isCalleeOfRenderedParent:false,renderedParentType:ExpressionStatement});if(code.original[this.end-1]!==';'){code.appendLeft(this.end,';');}return;}this.declaration.render(code,options);}},{key:"renderNamedDeclaration",value:function renderNamedDeclaration(code,declarationStart,declarationKeyword,needsId,options){var name=this.variable.getName();// Remove `export default`
code.remove(this.start,declarationStart);if(needsId){code.appendLeft(getIdInsertPosition(code.original,declarationKeyword,declarationStart)," ".concat(name));}if(options.format==='system'&&this.declaration instanceof ClassDeclaration&&this.variable.exportName){code.appendLeft(this.end," exports('".concat(this.variable.exportName,"', ").concat(name,");"));}}},{key:"renderVariableDeclaration",value:function renderVariableDeclaration(code,declarationStart,options){var systemBinding=options.format==='system'&&this.variable.exportName?"exports('".concat(this.variable.exportName,"', "):'';code.overwrite(this.start,declarationStart,"".concat(options.varOrConst," ").concat(this.variable.getName()," = ").concat(systemBinding));var hasTrailingSemicolon=code.original.charCodeAt(this.end-1)===59;/*";"*/if(systemBinding){code.appendRight(hasTrailingSemicolon?this.end-1:this.end,')'+(hasTrailingSemicolon?'':';'));}else if(!hasTrailingSemicolon){code.appendLeft(this.end,';');}}}]);return ExportDefaultDeclaration;}(NodeBase);ExportDefaultDeclaration.prototype.needsBoundaries=true;var ExportDefaultVariable=/*#__PURE__*/function(_LocalVariable3){_inherits(ExportDefaultVariable,_LocalVariable3);function ExportDefaultVariable(name,exportDefaultDeclaration,context){var _this11;_classCallCheck(this,ExportDefaultVariable);_this11=_possibleConstructorReturn(this,_getPrototypeOf(ExportDefaultVariable).call(this,name,exportDefaultDeclaration,exportDefaultDeclaration.declaration,context));_this11.hasId=false;// Not initialised during construction
_this11.originalId=null;_this11.originalVariable=null;var declaration=exportDefaultDeclaration.declaration;if((declaration instanceof FunctionDeclaration||declaration instanceof ClassDeclaration)&&declaration.id){_this11.hasId=true;_this11.originalId=declaration.id;}else if(declaration instanceof Identifier$1){_this11.originalId=declaration;}return _this11;}_createClass(ExportDefaultVariable,[{key:"addReference",value:function addReference(identifier){if(!this.hasId){this.name=identifier.name;}}},{key:"getAssignedVariableName",value:function getAssignedVariableName(){return this.originalId&&this.originalId.name||null;}},{key:"getBaseVariableName",value:function getBaseVariableName(){var original=this.getOriginalVariable();if(original===this){return _get(_getPrototypeOf(ExportDefaultVariable.prototype),"getBaseVariableName",this).call(this);}else{return original.getBaseVariableName();}}},{key:"getName",value:function getName(){var original=this.getOriginalVariable();if(original===this){return _get(_getPrototypeOf(ExportDefaultVariable.prototype),"getName",this).call(this);}else{return original.getName();}}},{key:"getOriginalVariable",value:function getOriginalVariable(){if(this.originalVariable===null){if(!this.originalId||!this.hasId&&this.originalId.variable.isReassigned){this.originalVariable=this;}else{var assignedOriginal=this.originalId.variable;this.originalVariable=assignedOriginal instanceof ExportDefaultVariable?assignedOriginal.getOriginalVariable():assignedOriginal;}}return this.originalVariable;}},{key:"setRenderNames",value:function setRenderNames(baseName,name){var original=this.getOriginalVariable();if(original===this){_get(_getPrototypeOf(ExportDefaultVariable.prototype),"setRenderNames",this).call(this,baseName,name);}else{original.setRenderNames(baseName,name);}}},{key:"setSafeName",value:function setSafeName(name){var original=this.getOriginalVariable();if(original===this){_get(_getPrototypeOf(ExportDefaultVariable.prototype),"setSafeName",this).call(this,name);}else{original.setSafeName(name);}}}]);return ExportDefaultVariable;}(LocalVariable);var MISSING_EXPORT_SHIM_VARIABLE='_missingExportShim';var INTEROP_DEFAULT_VARIABLE='_interopDefault';var INTEROP_NAMESPACE_VARIABLE='_interopNamespace';var ExportShimVariable=/*#__PURE__*/function(_Variable4){_inherits(ExportShimVariable,_Variable4);function ExportShimVariable(module){var _this12;_classCallCheck(this,ExportShimVariable);_this12=_possibleConstructorReturn(this,_getPrototypeOf(ExportShimVariable).call(this,MISSING_EXPORT_SHIM_VARIABLE));_this12.module=module;return _this12;}return ExportShimVariable;}(Variable);var NamespaceVariable=/*#__PURE__*/function(_Variable5){_inherits(NamespaceVariable,_Variable5);function NamespaceVariable(context,syntheticNamedExports){var _this13;_classCallCheck(this,NamespaceVariable);_this13=_possibleConstructorReturn(this,_getPrototypeOf(NamespaceVariable).call(this,context.getModuleName()));_this13.memberVariables=Object.create(null);_this13.containsExternalNamespace=false;_this13.referencedEarly=false;_this13.references=[];_this13.context=context;_this13.module=context.module;_this13.syntheticNamedExports=syntheticNamedExports;return _this13;}_createClass(NamespaceVariable,[{key:"addReference",value:function addReference(identifier){this.references.push(identifier);this.name=identifier.name;}// This is only called if "UNKNOWN_PATH" is reassigned as in all other situations, either the
// build fails due to an illegal namespace reassignment or MemberExpression already forwards
// the reassignment to the right variable. This means we lost track of this variable and thus
// need to reassign all exports.
},{key:"deoptimizePath",value:function deoptimizePath(){for(var key in this.memberVariables){this.memberVariables[key].deoptimizePath(UNKNOWN_PATH);}}},{key:"include",value:function include(context){if(!this.included){if(this.containsExternalNamespace){return this.context.error({code:'NAMESPACE_CANNOT_CONTAIN_EXTERNAL',id:this.module.id,message:"Cannot create an explicit namespace object for module \"".concat(this.context.getModuleName(),"\" because it contains a reexported external namespace")});}this.included=true;var _iteratorNormalCompletion41=true;var _didIteratorError41=false;var _iteratorError41=undefined;try{for(var _iterator41=this.references[Symbol.iterator](),_step41;!(_iteratorNormalCompletion41=(_step41=_iterator41.next()).done);_iteratorNormalCompletion41=true){var identifier=_step41.value;if(identifier.context.getModuleExecIndex()<=this.context.getModuleExecIndex()){this.referencedEarly=true;break;}}}catch(err){_didIteratorError41=true;_iteratorError41=err;}finally{try{if(!_iteratorNormalCompletion41&&_iterator41["return"]!=null){_iterator41["return"]();}}finally{if(_didIteratorError41){throw _iteratorError41;}}}if(this.context.preserveModules){for(var _i6=0,_Object$keys3=Object.keys(this.memberVariables);_i6<_Object$keys3.length;_i6++){var memberName=_Object$keys3[_i6];this.memberVariables[memberName].include(context);}}else{for(var _i7=0,_Object$keys4=Object.keys(this.memberVariables);_i7<_Object$keys4.length;_i7++){var _memberName=_Object$keys4[_i7];this.context.includeVariable(context,this.memberVariables[_memberName]);}}}}},{key:"initialise",value:function initialise(){var _iteratorNormalCompletion42=true;var _didIteratorError42=false;var _iteratorError42=undefined;try{for(var _iterator42=this.context.getExports().concat(this.context.getReexports())[Symbol.iterator](),_step42;!(_iteratorNormalCompletion42=(_step42=_iterator42.next()).done);_iteratorNormalCompletion42=true){var name=_step42.value;if(name[0]==='*'&&name.length>1)this.containsExternalNamespace=true;this.memberVariables[name]=this.context.traceExport(name);}}catch(err){_didIteratorError42=true;_iteratorError42=err;}finally{try{if(!_iteratorNormalCompletion42&&_iterator42["return"]!=null){_iterator42["return"]();}}finally{if(_didIteratorError42){throw _iteratorError42;}}}}},{key:"renderBlock",value:function renderBlock(options){var _this14=this;var _=options.compact?'':' ';var n=options.compact?'':'\n';var t=options.indent;var members=Object.keys(this.memberVariables).map(function(name){var original=_this14.memberVariables[name];if(_this14.referencedEarly||original.isReassigned){return"".concat(t,"get ").concat(name).concat(_,"()").concat(_,"{").concat(_,"return ").concat(original.getName()).concat(options.compact?'':';').concat(_,"}");}var safeName=RESERVED_NAMES[name]?"'".concat(name,"'"):name;return"".concat(t).concat(safeName,": ").concat(original.getName());});members.unshift("".concat(t,"__proto__:").concat(_,"null"));if(options.namespaceToStringTag){members.unshift("".concat(t,"[Symbol.toStringTag]:").concat(_,"'Module'"));}var name=this.getName();var output="{".concat(n).concat(members.join(",".concat(n))).concat(n,"}");if(this.syntheticNamedExports){output="/*#__PURE__*/Object.assign(".concat(output,", ").concat(this.module.getDefaultExport().getName(),")");}if(options.freeze){output="/*#__PURE__*/Object.freeze(".concat(output,")");}output="".concat(options.varOrConst," ").concat(name).concat(_,"=").concat(_).concat(output,";");if(options.format==='system'&&this.exportName){output+="".concat(n,"exports('").concat(this.exportName,"',").concat(_).concat(name,");");}return output;}},{key:"renderFirst",value:function renderFirst(){return this.referencedEarly;}}]);return NamespaceVariable;}(Variable);NamespaceVariable.prototype.isNamespace=true;var esModuleExport="Object.defineProperty(exports, '__esModule', { value: true });";var compactEsModuleExport="Object.defineProperty(exports,'__esModule',{value:true});";function getExportBlock(exports,dependencies,namedExportsMode,interop,compact,t){var mechanism=arguments.length>6&&arguments[6]!==undefined?arguments[6]:'return ';var _=compact?'':' ';var n=compact?'':'\n';if(!namedExportsMode){var local;if(exports.length>0){local=exports[0].local;}else{var _iteratorNormalCompletion43=true;var _didIteratorError43=false;var _iteratorError43=undefined;try{for(var _iterator43=dependencies[Symbol.iterator](),_step43;!(_iteratorNormalCompletion43=(_step43=_iterator43.next()).done);_iteratorNormalCompletion43=true){var dep=_step43.value;if(dep.reexports){var expt=dep.reexports[0];local=dep.namedExportsMode&&expt.imported!=='*'&&expt.imported!=='default'?"".concat(dep.name,".").concat(expt.imported):dep.name;break;}}}catch(err){_didIteratorError43=true;_iteratorError43=err;}finally{try{if(!_iteratorNormalCompletion43&&_iterator43["return"]!=null){_iterator43["return"]();}}finally{if(_didIteratorError43){throw _iteratorError43;}}}}return"".concat(mechanism).concat(local,";");}var exportBlock='';// star exports must always output first for precedence
var _iteratorNormalCompletion44=true;var _didIteratorError44=false;var _iteratorError44=undefined;try{for(var _iterator44=dependencies[Symbol.iterator](),_step44;!(_iteratorNormalCompletion44=(_step44=_iterator44.next()).done);_iteratorNormalCompletion44=true){var _step44$value=_step44.value,name=_step44$value.name,reexports=_step44$value.reexports;if(reexports&&namedExportsMode){var _iteratorNormalCompletion47=true;var _didIteratorError47=false;var _iteratorError47=undefined;try{for(var _iterator47=reexports[Symbol.iterator](),_step47;!(_iteratorNormalCompletion47=(_step47=_iterator47.next()).done);_iteratorNormalCompletion47=true){var specifier=_step47.value;if(specifier.reexported==='*'){if(exportBlock)exportBlock+=n;if(specifier.needsLiveBinding){exportBlock+="Object.keys(".concat(name,").forEach(function").concat(_,"(k)").concat(_,"{").concat(n)+"".concat(t,"if").concat(_,"(k").concat(_,"!==").concat(_,"'default')").concat(_,"Object.defineProperty(exports,").concat(_,"k,").concat(_,"{").concat(n)+"".concat(t).concat(t,"enumerable:").concat(_,"true,").concat(n)+"".concat(t).concat(t,"get:").concat(_,"function").concat(_,"()").concat(_,"{").concat(n)+"".concat(t).concat(t).concat(t,"return ").concat(name,"[k];").concat(n)+"".concat(t).concat(t,"}").concat(n).concat(t,"});").concat(n,"});");}else{exportBlock+="Object.keys(".concat(name,").forEach(function").concat(_,"(k)").concat(_,"{").concat(n)+"".concat(t,"if").concat(_,"(k").concat(_,"!==").concat(_,"'default')").concat(_,"exports[k]").concat(_,"=").concat(_).concat(name,"[k];").concat(n,"});");}}}}catch(err){_didIteratorError47=true;_iteratorError47=err;}finally{try{if(!_iteratorNormalCompletion47&&_iterator47["return"]!=null){_iterator47["return"]();}}finally{if(_didIteratorError47){throw _iteratorError47;}}}}}}catch(err){_didIteratorError44=true;_iteratorError44=err;}finally{try{if(!_iteratorNormalCompletion44&&_iterator44["return"]!=null){_iterator44["return"]();}}finally{if(_didIteratorError44){throw _iteratorError44;}}}var _iteratorNormalCompletion45=true;var _didIteratorError45=false;var _iteratorError45=undefined;try{for(var _iterator45=dependencies[Symbol.iterator](),_step45;!(_iteratorNormalCompletion45=(_step45=_iterator45.next()).done);_iteratorNormalCompletion45=true){var _step45$value=_step45.value,_name2=_step45$value.name,imports=_step45$value.imports,_reexports=_step45$value.reexports,isChunk=_step45$value.isChunk,depNamedExportsMode=_step45$value.namedExportsMode,exportsNames=_step45$value.exportsNames;if(_reexports&&namedExportsMode){var _iteratorNormalCompletion48=true;var _didIteratorError48=false;var _iteratorError48=undefined;try{for(var _iterator48=_reexports[Symbol.iterator](),_step48;!(_iteratorNormalCompletion48=(_step48=_iterator48.next()).done);_iteratorNormalCompletion48=true){var _specifier=_step48.value;if(_specifier.imported==='default'&&!isChunk){if(exportBlock)exportBlock+=n;if(exportsNames&&(_reexports.some(function(specifier){return specifier.imported==='default'?specifier.reexported==='default':specifier.imported!=='*';})||imports&&imports.some(function(specifier){return specifier.imported!=='default';}))){exportBlock+="exports.".concat(_specifier.reexported).concat(_,"=").concat(_).concat(_name2).concat(interop!==false?'__default':'.default',";");}else{exportBlock+="exports.".concat(_specifier.reexported).concat(_,"=").concat(_).concat(_name2,";");}}else if(_specifier.imported!=='*'){if(exportBlock)exportBlock+=n;var importName=_specifier.imported==='default'&&!depNamedExportsMode?_name2:"".concat(_name2,".").concat(_specifier.imported);exportBlock+=_specifier.needsLiveBinding?"Object.defineProperty(exports,".concat(_,"'").concat(_specifier.reexported,"',").concat(_,"{").concat(n)+"".concat(t,"enumerable:").concat(_,"true,").concat(n)+"".concat(t,"get:").concat(_,"function").concat(_,"()").concat(_,"{").concat(n)+"".concat(t).concat(t,"return ").concat(importName,";").concat(n).concat(t,"}").concat(n,"});"):"exports.".concat(_specifier.reexported).concat(_,"=").concat(_).concat(importName,";");}else if(_specifier.reexported!=='*'){if(exportBlock)exportBlock+=n;exportBlock+="exports.".concat(_specifier.reexported).concat(_,"=").concat(_).concat(_name2,";");}}}catch(err){_didIteratorError48=true;_iteratorError48=err;}finally{try{if(!_iteratorNormalCompletion48&&_iterator48["return"]!=null){_iterator48["return"]();}}finally{if(_didIteratorError48){throw _iteratorError48;}}}}}}catch(err){_didIteratorError45=true;_iteratorError45=err;}finally{try{if(!_iteratorNormalCompletion45&&_iterator45["return"]!=null){_iterator45["return"]();}}finally{if(_didIteratorError45){throw _iteratorError45;}}}var _iteratorNormalCompletion46=true;var _didIteratorError46=false;var _iteratorError46=undefined;try{for(var _iterator46=exports[Symbol.iterator](),_step46;!(_iteratorNormalCompletion46=(_step46=_iterator46.next()).done);_iteratorNormalCompletion46=true){var _expt=_step46.value;var lhs="exports.".concat(_expt.exported);var rhs=_expt.local;if(lhs!==rhs){if(exportBlock)exportBlock+=n;exportBlock+="".concat(lhs).concat(_,"=").concat(_).concat(rhs,";");}}}catch(err){_didIteratorError46=true;_iteratorError46=err;}finally{try{if(!_iteratorNormalCompletion46&&_iterator46["return"]!=null){_iterator46["return"]();}}finally{if(_didIteratorError46){throw _iteratorError46;}}}return exportBlock;}function getInteropBlock(dependencies,options,varOrConst){var _=options.compact?'':' ';return dependencies.map(function(_ref2){var name=_ref2.name,exportsNames=_ref2.exportsNames,exportsDefault=_ref2.exportsDefault,namedExportsMode=_ref2.namedExportsMode;if(!namedExportsMode||!exportsDefault||options.interop===false)return null;if(exportsNames){return"".concat(varOrConst," ").concat(name,"__default").concat(_,"=").concat(_,"'default'").concat(_,"in ").concat(name).concat(_,"?")+"".concat(_).concat(name,"['default']").concat(_,":").concat(_).concat(name,";");}return"".concat(name).concat(_,"=").concat(_).concat(name).concat(_,"&&").concat(_,"Object.prototype.hasOwnProperty.call(").concat(name,",").concat(_,"'default')").concat(_,"?")+"".concat(_).concat(name,"['default']").concat(_,":").concat(_).concat(name,";");}).filter(Boolean).join(options.compact?'':'\n');}function copyPropertyLiveBinding(_,n,t,i){return"".concat(i,"var d").concat(_,"=").concat(_,"Object.getOwnPropertyDescriptor(e,").concat(_,"k);").concat(n)+"".concat(i,"Object.defineProperty(n,").concat(_,"k,").concat(_,"d.get").concat(_,"?").concat(_,"d").concat(_,":").concat(_,"{").concat(n)+"".concat(i).concat(t,"enumerable:").concat(_,"true,").concat(n)+"".concat(i).concat(t,"get:").concat(_,"function").concat(_,"()").concat(_,"{").concat(n)+"".concat(i).concat(t).concat(t,"return e[k];").concat(n)+"".concat(i).concat(t,"}").concat(n)+"".concat(i,"});").concat(n);}function copyPropertyStatic(_,n,_t,i){return"".concat(i,"n[k]").concat(_,"=e").concat(_,"[k];").concat(n);}function getInteropNamespace(_,n,t,liveBindings){return"function ".concat(INTEROP_NAMESPACE_VARIABLE,"(e)").concat(_,"{").concat(n)+"".concat(t,"if").concat(_,"(e").concat(_,"&&").concat(_,"e.__esModule)").concat(_,"{").concat(_,"return e;").concat(_,"}").concat(_,"else").concat(_,"{").concat(n)+"".concat(t).concat(t,"var n").concat(_,"=").concat(_,"{};").concat(n)+"".concat(t).concat(t,"if").concat(_,"(e)").concat(_,"{").concat(n)+"".concat(t).concat(t).concat(t,"Object.keys(e).forEach(function").concat(_,"(k)").concat(_,"{").concat(n)+(liveBindings?copyPropertyLiveBinding:copyPropertyStatic)(_,n,t,t+t+t+t)+"".concat(t).concat(t).concat(t,"});").concat(n)+"".concat(t).concat(t,"}").concat(n)+"".concat(t).concat(t,"n['default']").concat(_,"=").concat(_,"e;").concat(n)+"".concat(t).concat(t,"return n;").concat(n)+"".concat(t,"}").concat(n)+"}".concat(n).concat(n);}var builtins$1={assert:true,buffer:true,console:true,constants:true,domain:true,events:true,http:true,https:true,os:true,path:true,process:true,punycode:true,querystring:true,stream:true,string_decoder:true,timers:true,tty:true,url:true,util:true,vm:true,zlib:true};// Creating a browser chunk that depends on Node.js built-in modules ('util'). You might need to include https://www.npmjs.com/package/rollup-plugin-node-builtins
function warnOnBuiltins(warn,dependencies){var externalBuiltins=dependencies.map(function(_ref3){var id=_ref3.id;return id;}).filter(function(id){return id in builtins$1;});if(!externalBuiltins.length)return;var detail=externalBuiltins.length===1?"module ('".concat(externalBuiltins[0],"')"):"modules (".concat(externalBuiltins.slice(0,-1).map(function(name){return"'".concat(name,"'");}).join(', ')," and '").concat(externalBuiltins.slice(-1),"')");warn({code:'MISSING_NODE_BUILTINS',message:"Creating a browser bundle that depends on Node.js built-in ".concat(detail,". You might need to include https://www.npmjs.com/package/rollup-plugin-node-builtins"),modules:externalBuiltins});}// AMD resolution will only respect the AMD baseUrl if the .js extension is omitted.
// The assumption is that this makes sense for all relative ids:
// https://requirejs.org/docs/api.html#jsfiles
function removeExtensionFromRelativeAmdId(id){if(id[0]==='.'&&id.endsWith('.js')){return id.slice(0,-3);}return id;}function amd(magicString,_ref4,options){var accessedGlobals=_ref4.accessedGlobals,dependencies=_ref4.dependencies,exports=_ref4.exports,hasExports=_ref4.hasExports,t=_ref4.indentString,intro=_ref4.intro,isEntryModuleFacade=_ref4.isEntryModuleFacade,namedExportsMode=_ref4.namedExportsMode,outro=_ref4.outro,varOrConst=_ref4.varOrConst,warn=_ref4.warn;warnOnBuiltins(warn,dependencies);var deps=dependencies.map(function(m){return"'".concat(removeExtensionFromRelativeAmdId(m.id),"'");});var args=dependencies.map(function(m){return m.name;});var n=options.compact?'':'\n';var _=options.compact?'':' ';if(namedExportsMode&&hasExports){args.unshift("exports");deps.unshift("'exports'");}if(accessedGlobals.has('require')){args.unshift('require');deps.unshift("'require'");}if(accessedGlobals.has('module')){args.unshift('module');deps.unshift("'module'");}var amdOptions=options.amd||{};var params=(amdOptions.id?"'".concat(amdOptions.id,"',").concat(_):"")+(deps.length?"[".concat(deps.join(",".concat(_)),"],").concat(_):"");var useStrict=options.strict!==false?"".concat(_,"'use strict';"):"";var define=amdOptions.define||'define';var wrapperStart="".concat(define,"(").concat(params,"function").concat(_,"(").concat(args.join(",".concat(_)),")").concat(_,"{").concat(useStrict).concat(n).concat(n);// var foo__default = 'default' in foo ? foo['default'] : foo;
var interopBlock=getInteropBlock(dependencies,options,varOrConst);if(interopBlock){magicString.prepend(interopBlock+n+n);}if(accessedGlobals.has(INTEROP_NAMESPACE_VARIABLE)){magicString.prepend(getInteropNamespace(_,n,t,options.externalLiveBindings!==false));}if(intro)magicString.prepend(intro);var exportBlock=getExportBlock(exports,dependencies,namedExportsMode,options.interop,options.compact,t);if(exportBlock)magicString.append(n+n+exportBlock);if(namedExportsMode&&hasExports&&isEntryModuleFacade&&options.esModule)magicString.append("".concat(n).concat(n).concat(options.compact?compactEsModuleExport:esModuleExport));if(outro)magicString.append(outro);return magicString.indent(t).append(n+n+'});').prepend(wrapperStart);}function cjs(magicString,_ref5,options){var accessedGlobals=_ref5.accessedGlobals,dependencies=_ref5.dependencies,exports=_ref5.exports,hasExports=_ref5.hasExports,t=_ref5.indentString,intro=_ref5.intro,isEntryModuleFacade=_ref5.isEntryModuleFacade,namedExportsMode=_ref5.namedExportsMode,outro=_ref5.outro,varOrConst=_ref5.varOrConst;var n=options.compact?'':'\n';var _=options.compact?'':' ';intro=(options.strict===false?intro:"'use strict';".concat(n).concat(n).concat(intro))+(namedExportsMode&&hasExports&&isEntryModuleFacade&&options.esModule?"".concat(options.compact?compactEsModuleExport:esModuleExport).concat(n).concat(n):'');var needsInterop=false;var interop=options.interop!==false;var importBlock;var definingVariable=false;importBlock='';var _iteratorNormalCompletion49=true;var _didIteratorError49=false;var _iteratorError49=undefined;try{for(var _iterator49=dependencies[Symbol.iterator](),_step49;!(_iteratorNormalCompletion49=(_step49=_iterator49.next()).done);_iteratorNormalCompletion49=true){var _step49$value=_step49.value,id=_step49$value.id,_namedExportsMode=_step49$value.namedExportsMode,isChunk=_step49$value.isChunk,name=_step49$value.name,reexports=_step49$value.reexports,imports=_step49$value.imports,exportsNames=_step49$value.exportsNames,exportsDefault=_step49$value.exportsDefault;if(!reexports&&!imports){if(importBlock){importBlock+=!options.compact||definingVariable?";".concat(n):',';}definingVariable=false;importBlock+="require('".concat(id,"')");}else{importBlock+=options.compact&&definingVariable?',':"".concat(importBlock?";".concat(n):'').concat(varOrConst," ");definingVariable=true;if(!interop||isChunk||!exportsDefault||!_namedExportsMode){importBlock+="".concat(name).concat(_,"=").concat(_,"require('").concat(id,"')");}else{needsInterop=true;if(exportsNames)importBlock+="".concat(name).concat(_,"=").concat(_,"require('").concat(id,"')").concat(options.compact?',':";\n".concat(varOrConst," ")).concat(name,"__default").concat(_,"=").concat(_).concat(INTEROP_DEFAULT_VARIABLE,"(").concat(name,")");else importBlock+="".concat(name).concat(_,"=").concat(_).concat(INTEROP_DEFAULT_VARIABLE,"(require('").concat(id,"'))");}}}}catch(err){_didIteratorError49=true;_iteratorError49=err;}finally{try{if(!_iteratorNormalCompletion49&&_iterator49["return"]!=null){_iterator49["return"]();}}finally{if(_didIteratorError49){throw _iteratorError49;}}}if(importBlock)importBlock+=';';if(needsInterop){var ex=options.compact?'e':'ex';intro+="function ".concat(INTEROP_DEFAULT_VARIABLE).concat(_,"(").concat(ex,")").concat(_,"{").concat(_,"return").concat(_)+"(".concat(ex).concat(_,"&&").concat(_,"(typeof ").concat(ex).concat(_,"===").concat(_,"'object')").concat(_,"&&").concat(_,"'default'").concat(_,"in ").concat(ex,")").concat(_)+"?".concat(_).concat(ex,"['default']").concat(_,":").concat(_).concat(ex).concat(options.compact?'':'; ',"}").concat(n).concat(n);}if(accessedGlobals.has(INTEROP_NAMESPACE_VARIABLE)){intro+=getInteropNamespace(_,n,t,options.externalLiveBindings!==false);}if(importBlock)intro+=importBlock+n+n;var exportBlock=getExportBlock(exports,dependencies,namedExportsMode,options.interop,options.compact,t,"module.exports".concat(_,"=").concat(_));magicString.prepend(intro);if(exportBlock)magicString.append(n+n+exportBlock);if(outro)magicString.append(outro);return magicString;}function esm(magicString,_ref6,options){var intro=_ref6.intro,outro=_ref6.outro,dependencies=_ref6.dependencies,exports=_ref6.exports;var _=options.compact?'':' ';var n=options.compact?'':'\n';var importBlock=getImportBlock(dependencies,_);if(importBlock.length>0)intro+=importBlock.join(n)+n+n;if(intro)magicString.prepend(intro);var exportBlock=getExportBlock$1(exports,_);if(exportBlock.length)magicString.append(n+n+exportBlock.join(n).trim());if(outro)magicString.append(outro);return magicString.trim();}function getImportBlock(dependencies,_){var importBlock=[];var _iteratorNormalCompletion50=true;var _didIteratorError50=false;var _iteratorError50=undefined;try{var _loop=function _loop(){var _step50$value=_step50.value,id=_step50$value.id,reexports=_step50$value.reexports,imports=_step50$value.imports,name=_step50$value.name;if(!reexports&&!imports){importBlock.push("import".concat(_,"'").concat(id,"';"));return"continue";}if(imports){var defaultImport=null;var starImport=null;var importedNames=[];var _iteratorNormalCompletion51=true;var _didIteratorError51=false;var _iteratorError51=undefined;try{for(var _iterator51=imports[Symbol.iterator](),_step51;!(_iteratorNormalCompletion51=(_step51=_iterator51.next()).done);_iteratorNormalCompletion51=true){var specifier=_step51.value;if(specifier.imported==='default'){defaultImport=specifier;}else if(specifier.imported==='*'){starImport=specifier;}else{importedNames.push(specifier);}}}catch(err){_didIteratorError51=true;_iteratorError51=err;}finally{try{if(!_iteratorNormalCompletion51&&_iterator51["return"]!=null){_iterator51["return"]();}}finally{if(_didIteratorError51){throw _iteratorError51;}}}if(starImport){importBlock.push("import".concat(_,"*").concat(_,"as ").concat(starImport.local," from").concat(_,"'").concat(id,"';"));}if(defaultImport&&importedNames.length===0){importBlock.push("import ".concat(defaultImport.local," from").concat(_,"'").concat(id,"';"));}else if(importedNames.length>0){importBlock.push("import ".concat(defaultImport?"".concat(defaultImport.local,",").concat(_):'',"{").concat(_).concat(importedNames.map(function(specifier){if(specifier.imported===specifier.local){return specifier.imported;}else{return"".concat(specifier.imported," as ").concat(specifier.local);}}).join(",".concat(_))).concat(_,"}").concat(_,"from").concat(_,"'").concat(id,"';"));}}if(reexports){var starExport=null;var namespaceReexports=[];var namedReexports=[];var _iteratorNormalCompletion52=true;var _didIteratorError52=false;var _iteratorError52=undefined;try{for(var _iterator52=reexports[Symbol.iterator](),_step52;!(_iteratorNormalCompletion52=(_step52=_iterator52.next()).done);_iteratorNormalCompletion52=true){var _specifier3=_step52.value;if(_specifier3.reexported==='*'){starExport=_specifier3;}else if(_specifier3.imported==='*'){namespaceReexports.push(_specifier3);}else{namedReexports.push(_specifier3);}}}catch(err){_didIteratorError52=true;_iteratorError52=err;}finally{try{if(!_iteratorNormalCompletion52&&_iterator52["return"]!=null){_iterator52["return"]();}}finally{if(_didIteratorError52){throw _iteratorError52;}}}if(starExport){importBlock.push("export".concat(_,"*").concat(_,"from").concat(_,"'").concat(id,"';"));}if(namespaceReexports.length>0){if(!imports||!imports.some(function(specifier){return specifier.imported==='*'&&specifier.local===name;})){importBlock.push("import".concat(_,"*").concat(_,"as ").concat(name," from").concat(_,"'").concat(id,"';"));}var _iteratorNormalCompletion53=true;var _didIteratorError53=false;var _iteratorError53=undefined;try{for(var _iterator53=namespaceReexports[Symbol.iterator](),_step53;!(_iteratorNormalCompletion53=(_step53=_iterator53.next()).done);_iteratorNormalCompletion53=true){var _specifier2=_step53.value;importBlock.push("export".concat(_,"{").concat(_).concat(name===_specifier2.reexported?name:"".concat(name," as ").concat(_specifier2.reexported)," };"));}}catch(err){_didIteratorError53=true;_iteratorError53=err;}finally{try{if(!_iteratorNormalCompletion53&&_iterator53["return"]!=null){_iterator53["return"]();}}finally{if(_didIteratorError53){throw _iteratorError53;}}}}if(namedReexports.length>0){importBlock.push("export".concat(_,"{").concat(_).concat(namedReexports.map(function(specifier){if(specifier.imported===specifier.reexported){return specifier.imported;}else{return"".concat(specifier.imported," as ").concat(specifier.reexported);}}).join(",".concat(_))).concat(_,"}").concat(_,"from").concat(_,"'").concat(id,"';"));}}};for(var _iterator50=dependencies[Symbol.iterator](),_step50;!(_iteratorNormalCompletion50=(_step50=_iterator50.next()).done);_iteratorNormalCompletion50=true){var _ret=_loop();if(_ret==="continue")continue;}}catch(err){_didIteratorError50=true;_iteratorError50=err;}finally{try{if(!_iteratorNormalCompletion50&&_iterator50["return"]!=null){_iterator50["return"]();}}finally{if(_didIteratorError50){throw _iteratorError50;}}}return importBlock;}function getExportBlock$1(exports,_){var exportBlock=[];var exportDeclaration=[];var _iteratorNormalCompletion54=true;var _didIteratorError54=false;var _iteratorError54=undefined;try{for(var _iterator54=exports[Symbol.iterator](),_step54;!(_iteratorNormalCompletion54=(_step54=_iterator54.next()).done);_iteratorNormalCompletion54=true){var specifier=_step54.value;if(specifier.exported==='default'){exportBlock.push("export default ".concat(specifier.local,";"));}else{exportDeclaration.push(specifier.exported===specifier.local?specifier.local:"".concat(specifier.local," as ").concat(specifier.exported));}}}catch(err){_didIteratorError54=true;_iteratorError54=err;}finally{try{if(!_iteratorNormalCompletion54&&_iterator54["return"]!=null){_iterator54["return"]();}}finally{if(_didIteratorError54){throw _iteratorError54;}}}if(exportDeclaration.length){exportBlock.push("export".concat(_,"{").concat(_).concat(exportDeclaration.join(",".concat(_))).concat(_,"};"));}return exportBlock;}function spaces(i){var result='';while(i--){result+=' ';}return result;}function tabsToSpaces(str){return str.replace(/^\t+/,function(match){return match.split('\t').join('  ');});}function getCodeFrame(source,line,column){var lines=source.split('\n');var frameStart=Math.max(0,line-3);var frameEnd=Math.min(line+2,lines.length);lines=lines.slice(frameStart,frameEnd);while(!/\S/.test(lines[lines.length-1])){lines.pop();frameEnd-=1;}var digits=String(frameEnd).length;return lines.map(function(str,i){var isErrorLine=frameStart+i+1===line;var lineNum=String(i+frameStart+1);while(lineNum.length<digits){lineNum=" ".concat(lineNum);}if(isErrorLine){var indicator=spaces(digits+2+tabsToSpaces(str.slice(0,column)).length)+'^';return"".concat(lineNum,": ").concat(tabsToSpaces(str),"\n").concat(indicator);}return"".concat(lineNum,": ").concat(tabsToSpaces(str));}).join('\n');}function sanitizeFileName(name){return name.replace(/[\0?*]/g,'_');}function getAliasName(id){var base=path.basename(id);return base.substr(0,base.length-path.extname(id).length);}function relativeId(id){if(typeof process==='undefined'||!isAbsolute(id))return id;return path.relative(process.cwd(),id);}function isPlainPathFragment(name){// not starting with "/", "./", "../"
return name[0]!=='/'&&!(name[0]==='.'&&(name[1]==='/'||name[1]==='.'))&&sanitizeFileName(name)===name;}function _error(base,props){if(!(base instanceof Error))base=Object.assign(new Error(base.message),base);if(props)Object.assign(base,props);throw base;}function augmentCodeLocation(object,pos,source,id){if(_typeof(pos)==='object'){var line=pos.line,column=pos.column;object.loc={file:id,line:line,column:column};}else{object.pos=pos;var _locate2=_locate(source,pos,{offsetLine:1}),_line=_locate2.line,_column=_locate2.column;object.loc={file:id,line:_line,column:_column};}if(object.frame===undefined){var _object$loc=object.loc,_line2=_object$loc.line,_column2=_object$loc.column;object.frame=getCodeFrame(source,_line2,_column2);}}var Errors;(function(Errors){Errors["ASSET_NOT_FINALISED"]="ASSET_NOT_FINALISED";Errors["ASSET_NOT_FOUND"]="ASSET_NOT_FOUND";Errors["ASSET_SOURCE_ALREADY_SET"]="ASSET_SOURCE_ALREADY_SET";Errors["ASSET_SOURCE_MISSING"]="ASSET_SOURCE_MISSING";Errors["BAD_LOADER"]="BAD_LOADER";Errors["CANNOT_EMIT_FROM_OPTIONS_HOOK"]="CANNOT_EMIT_FROM_OPTIONS_HOOK";Errors["CHUNK_NOT_GENERATED"]="CHUNK_NOT_GENERATED";Errors["DEPRECATED_FEATURE"]="DEPRECATED_FEATURE";Errors["FILE_NOT_FOUND"]="FILE_NOT_FOUND";Errors["FILE_NAME_CONFLICT"]="FILE_NAME_CONFLICT";Errors["INPUT_HOOK_IN_OUTPUT_PLUGIN"]="INPUT_HOOK_IN_OUTPUT_PLUGIN";Errors["INVALID_CHUNK"]="INVALID_CHUNK";Errors["INVALID_EXPORT_OPTION"]="INVALID_EXPORT_OPTION";Errors["INVALID_EXTERNAL_ID"]="INVALID_EXTERNAL_ID";Errors["INVALID_OPTION"]="INVALID_OPTION";Errors["INVALID_PLUGIN_HOOK"]="INVALID_PLUGIN_HOOK";Errors["INVALID_ROLLUP_PHASE"]="INVALID_ROLLUP_PHASE";Errors["MIXED_EXPORTS"]="MIXED_EXPORTS";Errors["NAMESPACE_CONFLICT"]="NAMESPACE_CONFLICT";Errors["PLUGIN_ERROR"]="PLUGIN_ERROR";Errors["UNRESOLVED_ENTRY"]="UNRESOLVED_ENTRY";Errors["UNRESOLVED_IMPORT"]="UNRESOLVED_IMPORT";Errors["VALIDATION_ERROR"]="VALIDATION_ERROR";Errors["EXTERNAL_SYNTHETIC_EXPORTS"]="EXTERNAL_SYNTHETIC_EXPORTS";Errors["SYNTHETIC_NAMED_EXPORTS_NEED_DEFAULT"]="SYNTHETIC_NAMED_EXPORTS_NEED_DEFAULT";})(Errors||(Errors={}));function errAssetNotFinalisedForFileName(name){return{code:Errors.ASSET_NOT_FINALISED,message:"Plugin error - Unable to get file name for asset \"".concat(name,"\". Ensure that the source is set and that generate is called first.")};}function errCannotEmitFromOptionsHook(){return{code:Errors.CANNOT_EMIT_FROM_OPTIONS_HOOK,message:"Cannot emit files or set asset sources in the \"outputOptions\" hook, use the \"renderStart\" hook instead."};}function errChunkNotGeneratedForFileName(name){return{code:Errors.CHUNK_NOT_GENERATED,message:"Plugin error - Unable to get file name for chunk \"".concat(name,"\". Ensure that generate is called first.")};}function errAssetReferenceIdNotFoundForSetSource(assetReferenceId){return{code:Errors.ASSET_NOT_FOUND,message:"Plugin error - Unable to set the source for unknown asset \"".concat(assetReferenceId,"\".")};}function errAssetSourceAlreadySet(name){return{code:Errors.ASSET_SOURCE_ALREADY_SET,message:"Unable to set the source for asset \"".concat(name,"\", source already set.")};}function errNoAssetSourceSet(assetName){return{code:Errors.ASSET_SOURCE_MISSING,message:"Plugin error creating asset \"".concat(assetName,"\" - no asset source set.")};}function errBadLoader(id){return{code:Errors.BAD_LOADER,message:"Error loading ".concat(relativeId(id),": plugin load hook should return a string, a { code, map } object, or nothing/null")};}function errDeprecation(deprecation){return Object.assign({code:Errors.DEPRECATED_FEATURE},typeof deprecation==='string'?{message:deprecation}:deprecation);}function errFileReferenceIdNotFoundForFilename(assetReferenceId){return{code:Errors.FILE_NOT_FOUND,message:"Plugin error - Unable to get file name for unknown file \"".concat(assetReferenceId,"\".")};}function errFileNameConflict(fileName){return{code:Errors.FILE_NAME_CONFLICT,message:"The emitted file \"".concat(fileName,"\" overwrites a previously emitted file of the same name.")};}function errInputHookInOutputPlugin(pluginName,hookName){return{code:Errors.INPUT_HOOK_IN_OUTPUT_PLUGIN,message:"The \"".concat(hookName,"\" hook used by the output plugin ").concat(pluginName," is a build time hook and will not be run for that plugin. Either this plugin cannot be used as an output plugin, or it should have an option to configure it as an output plugin.")};}function errCannotAssignModuleToChunk(moduleId,assignToAlias,currentAlias){return{code:Errors.INVALID_CHUNK,message:"Cannot assign ".concat(relativeId(moduleId)," to the \"").concat(assignToAlias,"\" chunk as it is already in the \"").concat(currentAlias,"\" chunk.")};}function errInvalidExportOptionValue(optionValue){return{code:Errors.INVALID_EXPORT_OPTION,message:"\"output.exports\" must be \"default\", \"named\", \"none\", \"auto\", or left unspecified (defaults to \"auto\"), received \"".concat(optionValue,"\""),url:"https://rollupjs.org/guide/en/#output-exports"};}function errIncompatibleExportOptionValue(optionValue,keys,entryModule){return{code:'INVALID_EXPORT_OPTION',message:"\"".concat(optionValue,"\" was specified for \"output.exports\", but entry module \"").concat(relativeId(entryModule),"\" has the following exports: ").concat(keys.join(', '))};}function errInternalIdCannotBeExternal(source,importer){return{code:Errors.INVALID_EXTERNAL_ID,message:"'".concat(source,"' is imported as an external by ").concat(relativeId(importer),", but is already an existing non-external module id.")};}function errInvalidOption(option,explanation){return{code:Errors.INVALID_OPTION,message:"Invalid value for option \"".concat(option,"\" - ").concat(explanation,".")};}function errInvalidRollupPhaseForAddWatchFile(){return{code:Errors.INVALID_ROLLUP_PHASE,message:"Cannot call addWatchFile after the build has finished."};}function errInvalidRollupPhaseForChunkEmission(){return{code:Errors.INVALID_ROLLUP_PHASE,message:"Cannot emit chunks after module loading has finished."};}function errMixedExport(facadeModuleId,name){return{code:Errors.MIXED_EXPORTS,id:facadeModuleId,message:"Entry module \"".concat(relativeId(facadeModuleId),"\" is using named and default exports together. Consumers of your bundle will have to use `").concat(name||'chunk',"[\"default\"]` to access the default export, which may not be what you want. Use `output.exports: \"named\"` to disable this warning"),url:"https://rollupjs.org/guide/en/#output-exports"};}function errNamespaceConflict(name,reexportingModule,additionalExportAllModule){return{code:Errors.NAMESPACE_CONFLICT,message:"Conflicting namespaces: ".concat(relativeId(reexportingModule.id)," re-exports '").concat(name,"' from both ").concat(relativeId(reexportingModule.exportsAll[name])," and ").concat(relativeId(additionalExportAllModule.exportsAll[name])," (will be ignored)"),name:name,reexporter:reexportingModule.id,sources:[reexportingModule.exportsAll[name],additionalExportAllModule.exportsAll[name]]};}function errEntryCannotBeExternal(unresolvedId){return{code:Errors.UNRESOLVED_ENTRY,message:"Entry module cannot be external (".concat(relativeId(unresolvedId),").")};}function errUnresolvedEntry(unresolvedId){return{code:Errors.UNRESOLVED_ENTRY,message:"Could not resolve entry module (".concat(relativeId(unresolvedId),").")};}function errUnresolvedImport(source,importer){return{code:Errors.UNRESOLVED_IMPORT,message:"Could not resolve '".concat(source,"' from ").concat(relativeId(importer))};}function errUnresolvedImportTreatedAsExternal(source,importer){return{code:Errors.UNRESOLVED_IMPORT,importer:relativeId(importer),message:"'".concat(source,"' is imported by ").concat(relativeId(importer),", but could not be resolved \u2013 treating it as an external dependency"),source:source,url:'https://rollupjs.org/guide/en/#warning-treating-module-as-external-dependency'};}function errExternalSyntheticExports(source,importer){return{code:Errors.EXTERNAL_SYNTHETIC_EXPORTS,importer:relativeId(importer),message:"External '".concat(source,"' can not have 'syntheticNamedExports' enabled."),source:source};}function errFailedValidation(message){return{code:Errors.VALIDATION_ERROR,message:message};}// Generate strings which dereference dotted properties, but use array notation `['prop-deref']`
// if the property name isn't trivial
var shouldUseDot=/^[a-zA-Z$_][a-zA-Z0-9$_]*$/;function property(prop){return shouldUseDot.test(prop)?".".concat(prop):"['".concat(prop,"']");}function keypath(keypath){return keypath.split('.').map(property).join('');}function setupNamespace(name,root,globals,compact){var parts=name.split('.');if(globals){parts[0]=(typeof globals==='function'?globals(parts[0]):globals[parts[0]])||parts[0];}var _=compact?'':' ';parts.pop();var acc=root;return parts.map(function(part){return acc+=property(part),"".concat(acc).concat(_,"=").concat(_).concat(acc).concat(_,"||").concat(_,"{}").concat(compact?'':';');}).join(compact?',':'\n')+(compact&&parts.length?';':'\n');}function assignToDeepVariable(deepName,root,globals,compact,assignment){var _=compact?'':' ';var parts=deepName.split('.');if(globals){parts[0]=(typeof globals==='function'?globals(parts[0]):globals[parts[0]])||parts[0];}var last=parts.pop();var acc=root;var deepAssignment=parts.map(function(part){return acc+=property(part),"".concat(acc).concat(_,"=").concat(_).concat(acc).concat(_,"||").concat(_,"{}");}).concat("".concat(acc).concat(property(last))).join(",".concat(_)).concat("".concat(_,"=").concat(_).concat(assignment));if(parts.length>0){deepAssignment="(".concat(deepAssignment,")");}return deepAssignment;}function trimEmptyImports(dependencies){var i=dependencies.length;while(i--){var dependency=dependencies[i];if(dependency.exportsDefault||dependency.exportsNames){return dependencies.slice(0,i+1);}}return[];}var thisProp=function thisProp(name){return"this".concat(keypath(name));};function iife(magicString,_ref7,options){var dependencies=_ref7.dependencies,exports=_ref7.exports,hasExports=_ref7.hasExports,t=_ref7.indentString,intro=_ref7.intro,namedExportsMode=_ref7.namedExportsMode,outro=_ref7.outro,varOrConst=_ref7.varOrConst,warn=_ref7.warn;var _=options.compact?'':' ';var n=options.compact?'':'\n';var extend=options.extend,name=options.name;var isNamespaced=name&&name.indexOf('.')!==-1;var useVariableAssignment=!extend&&!isNamespaced;if(name&&useVariableAssignment&&!isLegal(name)){return _error({code:'ILLEGAL_IDENTIFIER_AS_NAME',message:"Given name \"".concat(name,"\" is not a legal JS identifier. If you need this, you can try \"output.extend: true\".")});}warnOnBuiltins(warn,dependencies);var external=trimEmptyImports(dependencies);var deps=external.map(function(dep){return dep.globalName||'null';});var args=external.map(function(m){return m.name;});if(hasExports&&!name){warn({code:'MISSING_NAME_OPTION_FOR_IIFE_EXPORT',message:"If you do not supply \"output.name\", you may not be able to access the exports of an IIFE bundle."});}if(namedExportsMode&&hasExports){if(extend){deps.unshift("".concat(thisProp(name)).concat(_,"=").concat(_).concat(thisProp(name)).concat(_,"||").concat(_,"{}"));args.unshift('exports');}else{deps.unshift('{}');args.unshift('exports');}}var useStrict=options.strict!==false?"".concat(t,"'use strict';").concat(n).concat(n):"";var wrapperIntro="(function".concat(_,"(").concat(args.join(",".concat(_)),")").concat(_,"{").concat(n).concat(useStrict);if(hasExports&&(!extend||!namedExportsMode)&&name){wrapperIntro=(useVariableAssignment?"".concat(varOrConst," ").concat(name):thisProp(name))+"".concat(_,"=").concat(_).concat(wrapperIntro);}if(isNamespaced&&hasExports){wrapperIntro=setupNamespace(name,'this',options.globals,options.compact)+wrapperIntro;}var wrapperOutro="".concat(n).concat(n,"}(").concat(deps.join(",".concat(_)),"));");if(!extend&&namedExportsMode&&hasExports){wrapperOutro="".concat(n).concat(n).concat(t,"return exports;").concat(wrapperOutro);}// var foo__default = 'default' in foo ? foo['default'] : foo;
var interopBlock=getInteropBlock(dependencies,options,varOrConst);if(interopBlock)magicString.prepend(interopBlock+n+n);if(intro)magicString.prepend(intro);var exportBlock=getExportBlock(exports,dependencies,namedExportsMode,options.interop,options.compact,t);if(exportBlock)magicString.append(n+n+exportBlock);if(outro)magicString.append(outro);return magicString.indent(t).prepend(wrapperIntro).append(wrapperOutro);}function getStarExcludes(_ref8){var dependencies=_ref8.dependencies,exports=_ref8.exports;var starExcludes=new Set(exports.map(function(expt){return expt.exported;}));if(!starExcludes.has('default'))starExcludes.add('default');// also include reexport names
var _iteratorNormalCompletion55=true;var _didIteratorError55=false;var _iteratorError55=undefined;try{for(var _iterator55=dependencies[Symbol.iterator](),_step55;!(_iteratorNormalCompletion55=(_step55=_iterator55.next()).done);_iteratorNormalCompletion55=true){var reexports=_step55.value.reexports;if(reexports){var _iteratorNormalCompletion56=true;var _didIteratorError56=false;var _iteratorError56=undefined;try{for(var _iterator56=reexports[Symbol.iterator](),_step56;!(_iteratorNormalCompletion56=(_step56=_iterator56.next()).done);_iteratorNormalCompletion56=true){var reexport=_step56.value;if(reexport.imported!=='*'&&!starExcludes.has(reexport.reexported))starExcludes.add(reexport.reexported);}}catch(err){_didIteratorError56=true;_iteratorError56=err;}finally{try{if(!_iteratorNormalCompletion56&&_iterator56["return"]!=null){_iterator56["return"]();}}finally{if(_didIteratorError56){throw _iteratorError56;}}}}}}catch(err){_didIteratorError55=true;_iteratorError55=err;}finally{try{if(!_iteratorNormalCompletion55&&_iterator55["return"]!=null){_iterator55["return"]();}}finally{if(_didIteratorError55){throw _iteratorError55;}}}return starExcludes;}var getStarExcludesBlock=function getStarExcludesBlock(starExcludes,varOrConst,_,t,n){return starExcludes?"".concat(n).concat(t).concat(varOrConst," _starExcludes").concat(_,"=").concat(_,"{").concat(_).concat(Array.from(starExcludes).join(":".concat(_,"1,").concat(_))).concat(starExcludes.size?":".concat(_,"1"):'').concat(_,"};"):'';};var getImportBindingsBlock=function getImportBindingsBlock(importBindings,_,t,n){return importBindings.length?"".concat(n).concat(t,"var ").concat(importBindings.join(",".concat(_)),";"):'';};function getExportsBlock(exports,_,t,n){if(exports.length===0){return'';}if(exports.length===1){return"".concat(t).concat(t).concat(t,"exports('").concat(exports[0].name,"',").concat(_).concat(exports[0].value,");").concat(n).concat(n);}return"".concat(t).concat(t).concat(t,"exports({").concat(n)+exports.map(function(_ref9){var name=_ref9.name,value=_ref9.value;return"".concat(t).concat(t).concat(t).concat(t).concat(name,":").concat(_).concat(value);}).join(",".concat(n))+"".concat(n).concat(t).concat(t).concat(t,"});").concat(n).concat(n);}var getHoistedExportsBlock=function getHoistedExportsBlock(exports,_,t,n){return getExportsBlock(exports.filter(function(expt){return expt.hoisted||expt.uninitialized;}).map(function(expt){return{name:expt.exported,value:expt.uninitialized?'void 0':expt.local};}),_,t,n);};var getMissingExportsBlock=function getMissingExportsBlock(exports,_,t,n){return getExportsBlock(exports.filter(function(expt){return expt.local===MISSING_EXPORT_SHIM_VARIABLE;}).map(function(expt){return{name:expt.exported,value:MISSING_EXPORT_SHIM_VARIABLE};}),_,t,n);};function system(magicString,_ref10,options){var accessedGlobals=_ref10.accessedGlobals,dependencies=_ref10.dependencies,exports=_ref10.exports,hasExports=_ref10.hasExports,t=_ref10.indentString,intro=_ref10.intro,outro=_ref10.outro,usesTopLevelAwait=_ref10.usesTopLevelAwait,varOrConst=_ref10.varOrConst;var n=options.compact?'':'\n';var _=options.compact?'':' ';var dependencyIds=dependencies.map(function(m){return"'".concat(m.id,"'");});var importBindings=[];var starExcludes;var setters=[];var _iteratorNormalCompletion57=true;var _didIteratorError57=false;var _iteratorError57=undefined;try{for(var _iterator57=dependencies[Symbol.iterator](),_step57;!(_iteratorNormalCompletion57=(_step57=_iterator57.next()).done);_iteratorNormalCompletion57=true){var _step57$value=_step57.value,imports=_step57$value.imports,reexports=_step57$value.reexports;var setter=[];if(imports){var _iteratorNormalCompletion58=true;var _didIteratorError58=false;var _iteratorError58=undefined;try{for(var _iterator58=imports[Symbol.iterator](),_step58;!(_iteratorNormalCompletion58=(_step58=_iterator58.next()).done);_iteratorNormalCompletion58=true){var specifier=_step58.value;importBindings.push(specifier.local);if(specifier.imported==='*'){setter.push("".concat(specifier.local).concat(_,"=").concat(_,"module;"));}else{setter.push("".concat(specifier.local).concat(_,"=").concat(_,"module.").concat(specifier.imported,";"));}}}catch(err){_didIteratorError58=true;_iteratorError58=err;}finally{try{if(!_iteratorNormalCompletion58&&_iterator58["return"]!=null){_iterator58["return"]();}}finally{if(_didIteratorError58){throw _iteratorError58;}}}}if(reexports){var createdSetter=false;// bulk-reexport form
if(reexports.length>1||reexports.length===1&&(reexports[0].reexported==='*'||reexports[0].imported==='*')){// star reexports
var _iteratorNormalCompletion59=true;var _didIteratorError59=false;var _iteratorError59=undefined;try{for(var _iterator59=reexports[Symbol.iterator](),_step59;!(_iteratorNormalCompletion59=(_step59=_iterator59.next()).done);_iteratorNormalCompletion59=true){var _specifier4=_step59.value;if(_specifier4.reexported!=='*')continue;// need own exports list for deduping in star export case
if(!starExcludes){starExcludes=getStarExcludes({dependencies:dependencies,exports:exports});}if(!createdSetter){setter.push("".concat(varOrConst," _setter").concat(_,"=").concat(_,"{};"));createdSetter=true;}setter.push("for".concat(_,"(var _$p").concat(_,"in").concat(_,"module)").concat(_,"{"));setter.push("".concat(t,"if").concat(_,"(!_starExcludes[_$p])").concat(_,"_setter[_$p]").concat(_,"=").concat(_,"module[_$p];"));setter.push('}');}// star import reexport
}catch(err){_didIteratorError59=true;_iteratorError59=err;}finally{try{if(!_iteratorNormalCompletion59&&_iterator59["return"]!=null){_iterator59["return"]();}}finally{if(_didIteratorError59){throw _iteratorError59;}}}var _iteratorNormalCompletion60=true;var _didIteratorError60=false;var _iteratorError60=undefined;try{for(var _iterator60=reexports[Symbol.iterator](),_step60;!(_iteratorNormalCompletion60=(_step60=_iterator60.next()).done);_iteratorNormalCompletion60=true){var _specifier5=_step60.value;if(_specifier5.imported!=='*'||_specifier5.reexported==='*')continue;setter.push("exports('".concat(_specifier5.reexported,"',").concat(_,"module);"));}// reexports
}catch(err){_didIteratorError60=true;_iteratorError60=err;}finally{try{if(!_iteratorNormalCompletion60&&_iterator60["return"]!=null){_iterator60["return"]();}}finally{if(_didIteratorError60){throw _iteratorError60;}}}var _iteratorNormalCompletion61=true;var _didIteratorError61=false;var _iteratorError61=undefined;try{for(var _iterator61=reexports[Symbol.iterator](),_step61;!(_iteratorNormalCompletion61=(_step61=_iterator61.next()).done);_iteratorNormalCompletion61=true){var _specifier6=_step61.value;if(_specifier6.reexported==='*'||_specifier6.imported==='*')continue;if(!createdSetter){setter.push("".concat(varOrConst," _setter").concat(_,"=").concat(_,"{};"));createdSetter=true;}setter.push("_setter.".concat(_specifier6.reexported).concat(_,"=").concat(_,"module.").concat(_specifier6.imported,";"));}}catch(err){_didIteratorError61=true;_iteratorError61=err;}finally{try{if(!_iteratorNormalCompletion61&&_iterator61["return"]!=null){_iterator61["return"]();}}finally{if(_didIteratorError61){throw _iteratorError61;}}}if(createdSetter){setter.push('exports(_setter);');}}else{// single reexport
var _iteratorNormalCompletion62=true;var _didIteratorError62=false;var _iteratorError62=undefined;try{for(var _iterator62=reexports[Symbol.iterator](),_step62;!(_iteratorNormalCompletion62=(_step62=_iterator62.next()).done);_iteratorNormalCompletion62=true){var _specifier7=_step62.value;setter.push("exports('".concat(_specifier7.reexported,"',").concat(_,"module.").concat(_specifier7.imported,");"));}}catch(err){_didIteratorError62=true;_iteratorError62=err;}finally{try{if(!_iteratorNormalCompletion62&&_iterator62["return"]!=null){_iterator62["return"]();}}finally{if(_didIteratorError62){throw _iteratorError62;}}}}}setters.push(setter.join("".concat(n).concat(t).concat(t).concat(t)));}}catch(err){_didIteratorError57=true;_iteratorError57=err;}finally{try{if(!_iteratorNormalCompletion57&&_iterator57["return"]!=null){_iterator57["return"]();}}finally{if(_didIteratorError57){throw _iteratorError57;}}}var registeredName=options.name?"'".concat(options.name,"',").concat(_):'';var wrapperParams=accessedGlobals.has('module')?"exports,".concat(_,"module"):hasExports?'exports':'';var wrapperStart="System.register(".concat(registeredName,"[")+dependencyIds.join(",".concat(_))+"],".concat(_,"function").concat(_,"(").concat(wrapperParams,")").concat(_,"{").concat(n).concat(t).concat(options.strict?"'use strict';":'')+getStarExcludesBlock(starExcludes,varOrConst,_,t,n)+getImportBindingsBlock(importBindings,_,t,n)+"".concat(n).concat(t,"return").concat(_,"{").concat(setters.length?"".concat(n).concat(t).concat(t,"setters:").concat(_,"[").concat(setters.map(function(s){return s?"function".concat(_,"(module)").concat(_,"{").concat(n).concat(t).concat(t).concat(t).concat(s).concat(n).concat(t).concat(t,"}"):"function".concat(_,"()").concat(_,"{}");}).join(",".concat(_)),"],"):'').concat(n);wrapperStart+="".concat(t).concat(t,"execute:").concat(_).concat(usesTopLevelAwait?"async".concat(_):'',"function").concat(_,"()").concat(_,"{").concat(n).concat(n)+getHoistedExportsBlock(exports,_,t,n);var wrapperEnd="".concat(n).concat(n)+getMissingExportsBlock(exports,_,t,n)+"".concat(t).concat(t,"}").concat(n).concat(t,"}").concat(options.compact?'':';').concat(n,"});");if(intro)magicString.prepend(intro);if(outro)magicString.append(outro);return magicString.indent("".concat(t).concat(t).concat(t)).append(wrapperEnd).prepend(wrapperStart);}function globalProp(name,globalVar){if(!name)return'null';return"".concat(globalVar).concat(keypath(name));}function safeAccess(name,globalVar,_){var parts=name.split('.');var acc=globalVar;return parts.map(function(part){return acc+=property(part),acc;}).join("".concat(_,"&&").concat(_));}function umd(magicString,_ref11,options){var dependencies=_ref11.dependencies,exports=_ref11.exports,hasExports=_ref11.hasExports,t=_ref11.indentString,intro=_ref11.intro,namedExportsMode=_ref11.namedExportsMode,outro=_ref11.outro,varOrConst=_ref11.varOrConst,warn=_ref11.warn;var _=options.compact?'':' ';var n=options.compact?'':'\n';var factoryVar=options.compact?'f':'factory';var globalVar=options.compact?'g':'global';if(hasExports&&!options.name){return _error({code:'INVALID_OPTION',message:'You must supply "output.name" for UMD bundles.'});}warnOnBuiltins(warn,dependencies);var amdDeps=dependencies.map(function(m){return"'".concat(m.id,"'");});var cjsDeps=dependencies.map(function(m){return"require('".concat(m.id,"')");});var trimmedImports=trimEmptyImports(dependencies);var globalDeps=trimmedImports.map(function(module){return globalProp(module.globalName,globalVar);});var factoryArgs=trimmedImports.map(function(m){return m.name;});if(namedExportsMode&&(hasExports||options.noConflict===true)){amdDeps.unshift("'exports'");cjsDeps.unshift("exports");globalDeps.unshift(assignToDeepVariable(options.name,globalVar,options.globals,options.compact,"".concat(options.extend?"".concat(globalProp(options.name,globalVar)).concat(_,"||").concat(_):'',"{}")));factoryArgs.unshift('exports');}var amdOptions=options.amd||{};var amdParams=(amdOptions.id?"'".concat(amdOptions.id,"',").concat(_):"")+(amdDeps.length?"[".concat(amdDeps.join(",".concat(_)),"],").concat(_):"");var define=amdOptions.define||'define';var cjsExport=!namedExportsMode&&hasExports?"module.exports".concat(_,"=").concat(_):"";var useStrict=options.strict!==false?"".concat(_,"'use strict';").concat(n):"";var iifeExport;if(options.noConflict===true){var noConflictExportsVar=options.compact?'e':'exports';var factory;if(!namedExportsMode&&hasExports){factory="var ".concat(noConflictExportsVar).concat(_,"=").concat(_).concat(assignToDeepVariable(options.name,globalVar,options.globals,options.compact,"".concat(factoryVar,"(").concat(globalDeps.join(",".concat(_)),")")),";");}else if(namedExportsMode){var module=globalDeps.shift();factory="var ".concat(noConflictExportsVar).concat(_,"=").concat(_).concat(module,";").concat(n)+"".concat(t).concat(t).concat(factoryVar,"(").concat([noConflictExportsVar].concat(globalDeps).join(",".concat(_)),");");}iifeExport="(function".concat(_,"()").concat(_,"{").concat(n)+"".concat(t).concat(t,"var current").concat(_,"=").concat(_).concat(safeAccess(options.name,globalVar,_),";").concat(n)+"".concat(t).concat(t).concat(factory).concat(n)+"".concat(t).concat(t).concat(noConflictExportsVar,".noConflict").concat(_,"=").concat(_,"function").concat(_,"()").concat(_,"{").concat(_)+"".concat(globalProp(options.name,globalVar)).concat(_,"=").concat(_,"current;").concat(_,"return ").concat(noConflictExportsVar).concat(options.compact?'':'; ',"};").concat(n)+"".concat(t,"}())");}else{iifeExport="".concat(factoryVar,"(").concat(globalDeps.join(",".concat(_)),")");if(!namedExportsMode&&hasExports){iifeExport=assignToDeepVariable(options.name,globalVar,options.globals,options.compact,iifeExport);}}var iifeNeedsGlobal=hasExports||options.noConflict===true&&namedExportsMode||globalDeps.length>0;var globalParam=iifeNeedsGlobal?"".concat(globalVar,",").concat(_):'';var globalArg=iifeNeedsGlobal?"this,".concat(_):'';var iifeStart=iifeNeedsGlobal?"(".concat(globalVar).concat(_,"=").concat(_).concat(globalVar).concat(_,"||").concat(_,"self,").concat(_):'';var iifeEnd=iifeNeedsGlobal?')':'';var cjsIntro=iifeNeedsGlobal?"".concat(t,"typeof exports").concat(_,"===").concat(_,"'object'").concat(_,"&&").concat(_,"typeof module").concat(_,"!==").concat(_,"'undefined'").concat(_,"?")+"".concat(_).concat(cjsExport).concat(factoryVar,"(").concat(cjsDeps.join(",".concat(_)),")").concat(_,":").concat(n):'';// factory function should be wrapped by parentheses to avoid lazy parsing
var wrapperIntro="(function".concat(_,"(").concat(globalParam).concat(factoryVar,")").concat(_,"{").concat(n)+cjsIntro+"".concat(t,"typeof ").concat(define).concat(_,"===").concat(_,"'function'").concat(_,"&&").concat(_).concat(define,".amd").concat(_,"?").concat(_).concat(define,"(").concat(amdParams).concat(factoryVar,")").concat(_,":").concat(n)+"".concat(t).concat(iifeStart).concat(iifeExport).concat(iifeEnd,";").concat(n)+"}(".concat(globalArg,"(function").concat(_,"(").concat(factoryArgs.join(', '),")").concat(_,"{").concat(useStrict).concat(n);var wrapperOutro=n+n+'})));';// var foo__default = 'default' in foo ? foo['default'] : foo;
var interopBlock=getInteropBlock(dependencies,options,varOrConst);if(interopBlock)magicString.prepend(interopBlock+n+n);if(intro)magicString.prepend(intro);var exportBlock=getExportBlock(exports,dependencies,namedExportsMode,options.interop,options.compact,t);if(exportBlock)magicString.append(n+n+exportBlock);if(namedExportsMode&&hasExports&&options.esModule)magicString.append(n+n+(options.compact?compactEsModuleExport:esModuleExport));if(outro)magicString.append(outro);return magicString.trim().indent(t).append(wrapperOutro).prepend(wrapperIntro);}var finalisers={system:system,amd:amd,cjs:cjs,es:esm,iife:iife,umd:umd};var extractors={ArrayPattern:function ArrayPattern(names,param){var _iteratorNormalCompletion63=true;var _didIteratorError63=false;var _iteratorError63=undefined;try{for(var _iterator63=param.elements[Symbol.iterator](),_step63;!(_iteratorNormalCompletion63=(_step63=_iterator63.next()).done);_iteratorNormalCompletion63=true){var element=_step63.value;if(element)extractors[element.type](names,element);}}catch(err){_didIteratorError63=true;_iteratorError63=err;}finally{try{if(!_iteratorNormalCompletion63&&_iterator63["return"]!=null){_iterator63["return"]();}}finally{if(_didIteratorError63){throw _iteratorError63;}}}},AssignmentPattern:function AssignmentPattern(names,param){extractors[param.left.type](names,param.left);},Identifier:function Identifier(names,param){names.push(param.name);},MemberExpression:function MemberExpression(){},ObjectPattern:function ObjectPattern(names,param){var _iteratorNormalCompletion64=true;var _didIteratorError64=false;var _iteratorError64=undefined;try{for(var _iterator64=param.properties[Symbol.iterator](),_step64;!(_iteratorNormalCompletion64=(_step64=_iterator64.next()).done);_iteratorNormalCompletion64=true){var prop=_step64.value;if(prop.type==='RestElement'){extractors.RestElement(names,prop);}else{extractors[prop.value.type](names,prop.value);}}}catch(err){_didIteratorError64=true;_iteratorError64=err;}finally{try{if(!_iteratorNormalCompletion64&&_iterator64["return"]!=null){_iterator64["return"]();}}finally{if(_didIteratorError64){throw _iteratorError64;}}}},RestElement:function RestElement(names,param){extractors[param.argument.type](names,param.argument);}};var extractAssignedNames=function extractAssignedNames(param){var names=[];extractors[param.type](names,param);return names;};var ExportAllDeclaration=/*#__PURE__*/function(_NodeBase6){_inherits(ExportAllDeclaration,_NodeBase6);function ExportAllDeclaration(){_classCallCheck(this,ExportAllDeclaration);return _possibleConstructorReturn(this,_getPrototypeOf(ExportAllDeclaration).apply(this,arguments));}_createClass(ExportAllDeclaration,[{key:"hasEffects",value:function hasEffects(){return false;}},{key:"initialise",value:function initialise(){this.context.addExport(this);}},{key:"render",value:function render(code,_options,nodeRenderOptions){code.remove(nodeRenderOptions.start,nodeRenderOptions.end);}}]);return ExportAllDeclaration;}(NodeBase);ExportAllDeclaration.prototype.needsBoundaries=true;var ArrayExpression=/*#__PURE__*/function(_NodeBase7){_inherits(ArrayExpression,_NodeBase7);function ArrayExpression(){_classCallCheck(this,ArrayExpression);return _possibleConstructorReturn(this,_getPrototypeOf(ArrayExpression).apply(this,arguments));}_createClass(ArrayExpression,[{key:"bind",value:function bind(){_get(_getPrototypeOf(ArrayExpression.prototype),"bind",this).call(this);var _iteratorNormalCompletion65=true;var _didIteratorError65=false;var _iteratorError65=undefined;try{for(var _iterator65=this.elements[Symbol.iterator](),_step65;!(_iteratorNormalCompletion65=(_step65=_iterator65.next()).done);_iteratorNormalCompletion65=true){var element=_step65.value;if(element!==null)element.deoptimizePath(UNKNOWN_PATH);}}catch(err){_didIteratorError65=true;_iteratorError65=err;}finally{try{if(!_iteratorNormalCompletion65&&_iterator65["return"]!=null){_iterator65["return"]();}}finally{if(_didIteratorError65){throw _iteratorError65;}}}}},{key:"getReturnExpressionWhenCalledAtPath",value:function getReturnExpressionWhenCalledAtPath(path){if(path.length!==1)return UNKNOWN_EXPRESSION;return getMemberReturnExpressionWhenCalled(arrayMembers,path[0]);}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path){return path.length>1;}},{key:"hasEffectsWhenCalledAtPath",value:function hasEffectsWhenCalledAtPath(path,callOptions,context){if(path.length===1){return hasMemberEffectWhenCalled(arrayMembers,path[0],this.included,callOptions,context);}return true;}}]);return ArrayExpression;}(NodeBase);var ArrayPattern=/*#__PURE__*/function(_NodeBase8){_inherits(ArrayPattern,_NodeBase8);function ArrayPattern(){_classCallCheck(this,ArrayPattern);return _possibleConstructorReturn(this,_getPrototypeOf(ArrayPattern).apply(this,arguments));}_createClass(ArrayPattern,[{key:"addExportedVariables",value:function addExportedVariables(variables){var _iteratorNormalCompletion66=true;var _didIteratorError66=false;var _iteratorError66=undefined;try{for(var _iterator66=this.elements[Symbol.iterator](),_step66;!(_iteratorNormalCompletion66=(_step66=_iterator66.next()).done);_iteratorNormalCompletion66=true){var element=_step66.value;if(element!==null){element.addExportedVariables(variables);}}}catch(err){_didIteratorError66=true;_iteratorError66=err;}finally{try{if(!_iteratorNormalCompletion66&&_iterator66["return"]!=null){_iterator66["return"]();}}finally{if(_didIteratorError66){throw _iteratorError66;}}}}},{key:"declare",value:function declare(kind){var variables=[];var _iteratorNormalCompletion67=true;var _didIteratorError67=false;var _iteratorError67=undefined;try{for(var _iterator67=this.elements[Symbol.iterator](),_step67;!(_iteratorNormalCompletion67=(_step67=_iterator67.next()).done);_iteratorNormalCompletion67=true){var element=_step67.value;if(element!==null){variables.push.apply(variables,_toConsumableArray(element.declare(kind,UNKNOWN_EXPRESSION)));}}}catch(err){_didIteratorError67=true;_iteratorError67=err;}finally{try{if(!_iteratorNormalCompletion67&&_iterator67["return"]!=null){_iterator67["return"]();}}finally{if(_didIteratorError67){throw _iteratorError67;}}}return variables;}},{key:"deoptimizePath",value:function deoptimizePath(path){if(path.length===0){var _iteratorNormalCompletion68=true;var _didIteratorError68=false;var _iteratorError68=undefined;try{for(var _iterator68=this.elements[Symbol.iterator](),_step68;!(_iteratorNormalCompletion68=(_step68=_iterator68.next()).done);_iteratorNormalCompletion68=true){var element=_step68.value;if(element!==null){element.deoptimizePath(path);}}}catch(err){_didIteratorError68=true;_iteratorError68=err;}finally{try{if(!_iteratorNormalCompletion68&&_iterator68["return"]!=null){_iterator68["return"]();}}finally{if(_didIteratorError68){throw _iteratorError68;}}}}}},{key:"hasEffectsWhenAssignedAtPath",value:function hasEffectsWhenAssignedAtPath(path,context){if(path.length>0)return true;var _iteratorNormalCompletion69=true;var _didIteratorError69=false;var _iteratorError69=undefined;try{for(var _iterator69=this.elements[Symbol.iterator](),_step69;!(_iteratorNormalCompletion69=(_step69=_iterator69.next()).done);_iteratorNormalCompletion69=true){var element=_step69.value;if(element!==null&&element.hasEffectsWhenAssignedAtPath(EMPTY_PATH,context))return true;}}catch(err){_didIteratorError69=true;_iteratorError69=err;}finally{try{if(!_iteratorNormalCompletion69&&_iterator69["return"]!=null){_iterator69["return"]();}}finally{if(_didIteratorError69){throw _iteratorError69;}}}return false;}}]);return ArrayPattern;}(NodeBase);var BlockScope=/*#__PURE__*/function(_ChildScope2){_inherits(BlockScope,_ChildScope2);function BlockScope(){_classCallCheck(this,BlockScope);return _possibleConstructorReturn(this,_getPrototypeOf(BlockScope).apply(this,arguments));}_createClass(BlockScope,[{key:"addDeclaration",value:function addDeclaration(identifier,context){var init=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var isHoisted=arguments.length>3?arguments[3]:undefined;if(isHoisted){return this.parent.addDeclaration(identifier,context,isHoisted==='function'?init:UNKNOWN_EXPRESSION,isHoisted);}else{return _get(_getPrototypeOf(BlockScope.prototype),"addDeclaration",this).call(this,identifier,context,init,false);}}}]);return BlockScope;}(ChildScope);var ExpressionStatement$1=/*#__PURE__*/function(_NodeBase9){_inherits(ExpressionStatement$1,_NodeBase9);function ExpressionStatement$1(){_classCallCheck(this,ExpressionStatement$1);return _possibleConstructorReturn(this,_getPrototypeOf(ExpressionStatement$1).apply(this,arguments));}_createClass(ExpressionStatement$1,[{key:"initialise",value:function initialise(){if(this.directive&&this.directive!=='use strict'&&this.parent.type===Program){this.context.warn(// This is necessary, because either way (deleting or not) can lead to errors.
{code:'MODULE_LEVEL_DIRECTIVE',message:"Module level directives cause errors when bundled, '".concat(this.directive,"' was ignored.")},this.start);}}},{key:"render",value:function render(code,options){_get(_getPrototypeOf(ExpressionStatement$1.prototype),"render",this).call(this,code,options);if(this.included)this.insertSemicolon(code);}},{key:"shouldBeIncluded",value:function shouldBeIncluded(context){if(this.directive&&this.directive!=='use strict')return this.parent.type!==Program;return _get(_getPrototypeOf(ExpressionStatement$1.prototype),"shouldBeIncluded",this).call(this,context);}}]);return ExpressionStatement$1;}(NodeBase);var BlockStatement$1=/*#__PURE__*/function(_NodeBase10){_inherits(BlockStatement$1,_NodeBase10);function BlockStatement$1(){var _this15;_classCallCheck(this,BlockStatement$1);_this15=_possibleConstructorReturn(this,_getPrototypeOf(BlockStatement$1).apply(this,arguments));_this15.directlyIncluded=false;return _this15;}_createClass(BlockStatement$1,[{key:"addImplicitReturnExpressionToScope",value:function addImplicitReturnExpressionToScope(){var lastStatement=this.body[this.body.length-1];if(!lastStatement||lastStatement.type!==ReturnStatement){this.scope.addReturnExpression(UNKNOWN_EXPRESSION);}}},{key:"createScope",value:function createScope(parentScope){this.scope=this.parent.preventChildBlockScope?parentScope:new BlockScope(parentScope);}},{key:"hasEffects",value:function hasEffects(context){if(this.deoptimizeBody)return true;var _iteratorNormalCompletion70=true;var _didIteratorError70=false;var _iteratorError70=undefined;try{for(var _iterator70=this.body[Symbol.iterator](),_step70;!(_iteratorNormalCompletion70=(_step70=_iterator70.next()).done);_iteratorNormalCompletion70=true){var node=_step70.value;if(node.hasEffects(context))return true;if(context.brokenFlow)break;}}catch(err){_didIteratorError70=true;_iteratorError70=err;}finally{try{if(!_iteratorNormalCompletion70&&_iterator70["return"]!=null){_iterator70["return"]();}}finally{if(_didIteratorError70){throw _iteratorError70;}}}return false;}},{key:"include",value:function include(context,includeChildrenRecursively){if(!this.deoptimizeBody||!this.directlyIncluded){this.included=true;this.directlyIncluded=true;if(this.deoptimizeBody)includeChildrenRecursively=true;var _iteratorNormalCompletion71=true;var _didIteratorError71=false;var _iteratorError71=undefined;try{for(var _iterator71=this.body[Symbol.iterator](),_step71;!(_iteratorNormalCompletion71=(_step71=_iterator71.next()).done);_iteratorNormalCompletion71=true){var node=_step71.value;if(includeChildrenRecursively||node.shouldBeIncluded(context))node.include(context,includeChildrenRecursively);}}catch(err){_didIteratorError71=true;_iteratorError71=err;}finally{try{if(!_iteratorNormalCompletion71&&_iterator71["return"]!=null){_iterator71["return"]();}}finally{if(_didIteratorError71){throw _iteratorError71;}}}}}},{key:"initialise",value:function initialise(){var firstBodyStatement=this.body[0];this.deoptimizeBody=firstBodyStatement instanceof ExpressionStatement$1&&firstBodyStatement.directive==='use asm';}},{key:"render",value:function render(code,options){if(this.body.length){renderStatementList(this.body,code,this.start+1,this.end-1,options);}else{_get(_getPrototypeOf(BlockStatement$1.prototype),"render",this).call(this,code,options);}}}]);return BlockStatement$1;}(NodeBase);var ArrowFunctionExpression=/*#__PURE__*/function(_NodeBase11){_inherits(ArrowFunctionExpression,_NodeBase11);function ArrowFunctionExpression(){_classCallCheck(this,ArrowFunctionExpression);return _possibleConstructorReturn(this,_getPrototypeOf(ArrowFunctionExpression).apply(this,arguments));}_createClass(ArrowFunctionExpression,[{key:"createScope",value:function createScope(parentScope){this.scope=new ReturnValueScope(parentScope,this.context);}},{key:"deoptimizePath",value:function deoptimizePath(path){// A reassignment of UNKNOWN_PATH is considered equivalent to having lost track
// which means the return expression needs to be reassigned
if(path.length===1&&path[0]===UnknownKey){this.scope.getReturnExpression().deoptimizePath(UNKNOWN_PATH);}}},{key:"getReturnExpressionWhenCalledAtPath",value:function getReturnExpressionWhenCalledAtPath(path){return path.length===0?this.scope.getReturnExpression():UNKNOWN_EXPRESSION;}},{key:"hasEffects",value:function hasEffects(){return false;}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path){return path.length>1;}},{key:"hasEffectsWhenAssignedAtPath",value:function hasEffectsWhenAssignedAtPath(path){return path.length>1;}},{key:"hasEffectsWhenCalledAtPath",value:function hasEffectsWhenCalledAtPath(path,_callOptions,context){if(path.length>0)return true;var _iteratorNormalCompletion72=true;var _didIteratorError72=false;var _iteratorError72=undefined;try{for(var _iterator72=this.params[Symbol.iterator](),_step72;!(_iteratorNormalCompletion72=(_step72=_iterator72.next()).done);_iteratorNormalCompletion72=true){var param=_step72.value;if(param.hasEffects(context))return true;}}catch(err){_didIteratorError72=true;_iteratorError72=err;}finally{try{if(!_iteratorNormalCompletion72&&_iterator72["return"]!=null){_iterator72["return"]();}}finally{if(_didIteratorError72){throw _iteratorError72;}}}var ignore=context.ignore,brokenFlow=context.brokenFlow;context.ignore={breaks:false,continues:false,labels:new Set(),returnAwaitYield:true};if(this.body.hasEffects(context))return true;context.ignore=ignore;context.brokenFlow=brokenFlow;return false;}},{key:"include",value:function include(context,includeChildrenRecursively){this.included=true;var _iteratorNormalCompletion73=true;var _didIteratorError73=false;var _iteratorError73=undefined;try{for(var _iterator73=this.params[Symbol.iterator](),_step73;!(_iteratorNormalCompletion73=(_step73=_iterator73.next()).done);_iteratorNormalCompletion73=true){var param=_step73.value;if(!(param instanceof Identifier$1)){param.include(context,includeChildrenRecursively);}}}catch(err){_didIteratorError73=true;_iteratorError73=err;}finally{try{if(!_iteratorNormalCompletion73&&_iterator73["return"]!=null){_iterator73["return"]();}}finally{if(_didIteratorError73){throw _iteratorError73;}}}var brokenFlow=context.brokenFlow;context.brokenFlow=BROKEN_FLOW_NONE;this.body.include(context,includeChildrenRecursively);context.brokenFlow=brokenFlow;}},{key:"includeCallArguments",value:function includeCallArguments(context,args){this.scope.includeCallArguments(context,args);}},{key:"initialise",value:function initialise(){this.scope.addParameterVariables(this.params.map(function(param){return param.declare('parameter',UNKNOWN_EXPRESSION);}),this.params[this.params.length-1]instanceof RestElement);if(this.body instanceof BlockStatement$1){this.body.addImplicitReturnExpressionToScope();}else{this.scope.addReturnExpression(this.body);}}},{key:"parseNode",value:function parseNode(esTreeNode){if(esTreeNode.body.type===BlockStatement){this.body=new this.context.nodeConstructors.BlockStatement(esTreeNode.body,this,this.scope.hoistedBodyVarScope);}_get(_getPrototypeOf(ArrowFunctionExpression.prototype),"parseNode",this).call(this,esTreeNode);}}]);return ArrowFunctionExpression;}(NodeBase);ArrowFunctionExpression.prototype.preventChildBlockScope=true;function getSystemExportStatement(exportedVariables){if(exportedVariables.length===1){return"exports('".concat(exportedVariables[0].safeExportName||exportedVariables[0].exportName,"', ").concat(exportedVariables[0].getName(),");");}else{return"exports({".concat(exportedVariables.map(function(variable){return"".concat(variable.safeExportName||variable.exportName,": ").concat(variable.getName());}).join(', '),"});");}}var AssignmentExpression=/*#__PURE__*/function(_NodeBase12){_inherits(AssignmentExpression,_NodeBase12);function AssignmentExpression(){var _this16;_classCallCheck(this,AssignmentExpression);_this16=_possibleConstructorReturn(this,_getPrototypeOf(AssignmentExpression).apply(this,arguments));_this16.deoptimized=false;return _this16;}_createClass(AssignmentExpression,[{key:"hasEffects",value:function hasEffects(context){if(!this.deoptimized)this.applyDeoptimizations();return this.right.hasEffects(context)||this.left.hasEffects(context)||this.left.hasEffectsWhenAssignedAtPath(EMPTY_PATH,context);}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path,context){return path.length>0&&this.right.hasEffectsWhenAccessedAtPath(path,context);}},{key:"include",value:function include(context,includeChildrenRecursively){if(!this.deoptimized)this.applyDeoptimizations();this.included=true;this.left.include(context,includeChildrenRecursively);this.right.include(context,includeChildrenRecursively);}},{key:"render",value:function render(code,options){this.left.render(code,options);this.right.render(code,options);if(options.format==='system'){if(this.left.variable&&this.left.variable.exportName){var operatorPos=findFirstOccurrenceOutsideComment(code.original,this.operator,this.left.end);var operation=this.operator.length>1?" ".concat(this.left.variable.exportName," ").concat(this.operator.slice(0,-1)):'';code.overwrite(operatorPos,operatorPos+this.operator.length,"= exports('".concat(this.left.variable.exportName,"',").concat(operation));code.appendLeft(this.right.end,")");}else if('addExportedVariables'in this.left){var systemPatternExports=[];this.left.addExportedVariables(systemPatternExports);if(systemPatternExports.length>0){code.prependRight(this.start,"function (v) {".concat(getSystemExportStatement(systemPatternExports)," return v;} ("));code.appendLeft(this.end,')');}}}}},{key:"applyDeoptimizations",value:function applyDeoptimizations(){this.deoptimized=true;this.left.deoptimizePath(EMPTY_PATH);this.right.deoptimizePath(UNKNOWN_PATH);}}]);return AssignmentExpression;}(NodeBase);var AssignmentPattern=/*#__PURE__*/function(_NodeBase13){_inherits(AssignmentPattern,_NodeBase13);function AssignmentPattern(){_classCallCheck(this,AssignmentPattern);return _possibleConstructorReturn(this,_getPrototypeOf(AssignmentPattern).apply(this,arguments));}_createClass(AssignmentPattern,[{key:"addExportedVariables",value:function addExportedVariables(variables){this.left.addExportedVariables(variables);}},{key:"bind",value:function bind(){_get(_getPrototypeOf(AssignmentPattern.prototype),"bind",this).call(this);this.left.deoptimizePath(EMPTY_PATH);this.right.deoptimizePath(UNKNOWN_PATH);}},{key:"declare",value:function declare(kind,init){return this.left.declare(kind,init);}},{key:"deoptimizePath",value:function deoptimizePath(path){path.length===0&&this.left.deoptimizePath(path);}},{key:"hasEffectsWhenAssignedAtPath",value:function hasEffectsWhenAssignedAtPath(path,context){return path.length>0||this.left.hasEffectsWhenAssignedAtPath(EMPTY_PATH,context);}},{key:"render",value:function render(code,options){var _ref12=arguments.length>2&&arguments[2]!==undefined?arguments[2]:BLANK,isShorthandProperty=_ref12.isShorthandProperty;this.left.render(code,options,{isShorthandProperty:isShorthandProperty});this.right.render(code,options);}}]);return AssignmentPattern;}(NodeBase);var AwaitExpression=/*#__PURE__*/function(_NodeBase14){_inherits(AwaitExpression,_NodeBase14);function AwaitExpression(){_classCallCheck(this,AwaitExpression);return _possibleConstructorReturn(this,_getPrototypeOf(AwaitExpression).apply(this,arguments));}_createClass(AwaitExpression,[{key:"hasEffects",value:function hasEffects(context){return!context.ignore.returnAwaitYield||this.argument.hasEffects(context);}},{key:"include",value:function include(context,includeChildrenRecursively){if(!this.included){this.included=true;checkTopLevelAwait:if(!this.context.usesTopLevelAwait){var parent=this.parent;do{if(parent instanceof FunctionNode||parent instanceof ArrowFunctionExpression)break checkTopLevelAwait;}while(parent=parent.parent);this.context.usesTopLevelAwait=true;}}this.argument.include(context,includeChildrenRecursively);}}]);return AwaitExpression;}(NodeBase);var binaryOperators={'!=':function _(left,right){return left!=right;},'!==':function _(left,right){return left!==right;},'%':function _(left,right){return left%right;},'&':function _(left,right){return left&right;},'*':function _(left,right){return left*right;},// At the moment, "**" will be transpiled to Math.pow
'**':function _(left,right){return Math.pow(left,right);},'+':function _(left,right){return left+right;},'-':function _(left,right){return left-right;},'/':function _(left,right){return left/right;},'<':function _(left,right){return left<right;},'<<':function _(left,right){return left<<right;},'<=':function _(left,right){return left<=right;},'==':function _(left,right){return left==right;},'===':function _(left,right){return left===right;},'>':function _(left,right){return left>right;},'>=':function _(left,right){return left>=right;},'>>':function _(left,right){return left>>right;},'>>>':function _(left,right){return left>>>right;},'^':function _(left,right){return left^right;},"in":function _in(){return UnknownValue;},"instanceof":function _instanceof(){return UnknownValue;},'|':function _(left,right){return left|right;}};var BinaryExpression=/*#__PURE__*/function(_NodeBase15){_inherits(BinaryExpression,_NodeBase15);function BinaryExpression(){_classCallCheck(this,BinaryExpression);return _possibleConstructorReturn(this,_getPrototypeOf(BinaryExpression).apply(this,arguments));}_createClass(BinaryExpression,[{key:"deoptimizeCache",value:function deoptimizeCache(){}},{key:"getLiteralValueAtPath",value:function getLiteralValueAtPath(path,recursionTracker,origin){if(path.length>0)return UnknownValue;var leftValue=this.left.getLiteralValueAtPath(EMPTY_PATH,recursionTracker,origin);if(leftValue===UnknownValue)return UnknownValue;var rightValue=this.right.getLiteralValueAtPath(EMPTY_PATH,recursionTracker,origin);if(rightValue===UnknownValue)return UnknownValue;var operatorFn=binaryOperators[this.operator];if(!operatorFn)return UnknownValue;return operatorFn(leftValue,rightValue);}},{key:"hasEffects",value:function hasEffects(context){// support some implicit type coercion runtime errors
if(this.operator==='+'&&this.parent instanceof ExpressionStatement$1&&this.left.getLiteralValueAtPath(EMPTY_PATH,SHARED_RECURSION_TRACKER,this)==='')return true;return _get(_getPrototypeOf(BinaryExpression.prototype),"hasEffects",this).call(this,context);}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path){return path.length>1;}}]);return BinaryExpression;}(NodeBase);var BreakStatement=/*#__PURE__*/function(_NodeBase16){_inherits(BreakStatement,_NodeBase16);function BreakStatement(){_classCallCheck(this,BreakStatement);return _possibleConstructorReturn(this,_getPrototypeOf(BreakStatement).apply(this,arguments));}_createClass(BreakStatement,[{key:"hasEffects",value:function hasEffects(context){if(this.label){if(!context.ignore.labels.has(this.label.name))return true;context.includedLabels.add(this.label.name);context.brokenFlow=BROKEN_FLOW_ERROR_RETURN_LABEL;}else{if(!context.ignore.breaks)return true;context.brokenFlow=BROKEN_FLOW_BREAK_CONTINUE;}return false;}},{key:"include",value:function include(context){this.included=true;if(this.label){this.label.include(context);context.includedLabels.add(this.label.name);}context.brokenFlow=this.label?BROKEN_FLOW_ERROR_RETURN_LABEL:BROKEN_FLOW_BREAK_CONTINUE;}}]);return BreakStatement;}(NodeBase);var Literal=/*#__PURE__*/function(_NodeBase17){_inherits(Literal,_NodeBase17);function Literal(){_classCallCheck(this,Literal);return _possibleConstructorReturn(this,_getPrototypeOf(Literal).apply(this,arguments));}_createClass(Literal,[{key:"getLiteralValueAtPath",value:function getLiteralValueAtPath(path){if(path.length>0||// unknown literals can also be null but do not start with an "n"
this.value===null&&this.context.code.charCodeAt(this.start)!==110||typeof this.value==='bigint'||// to support shims for regular expressions
this.context.code.charCodeAt(this.start)===47){return UnknownValue;}return this.value;}},{key:"getReturnExpressionWhenCalledAtPath",value:function getReturnExpressionWhenCalledAtPath(path){if(path.length!==1)return UNKNOWN_EXPRESSION;return getMemberReturnExpressionWhenCalled(this.members,path[0]);}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path){if(this.value===null){return path.length>0;}return path.length>1;}},{key:"hasEffectsWhenAssignedAtPath",value:function hasEffectsWhenAssignedAtPath(path){return path.length>0;}},{key:"hasEffectsWhenCalledAtPath",value:function hasEffectsWhenCalledAtPath(path,callOptions,context){if(path.length===1){return hasMemberEffectWhenCalled(this.members,path[0],this.included,callOptions,context);}return true;}},{key:"initialise",value:function initialise(){this.members=getLiteralMembersForValue(this.value);}},{key:"render",value:function render(code){if(typeof this.value==='string'){code.indentExclusionRanges.push([this.start+1,this.end-1]);}}}]);return Literal;}(NodeBase);function getResolvablePropertyKey(memberExpression){return memberExpression.computed?getResolvableComputedPropertyKey(memberExpression.property):memberExpression.property.name;}function getResolvableComputedPropertyKey(propertyKey){if(propertyKey instanceof Literal){return String(propertyKey.value);}return null;}function getPathIfNotComputed(memberExpression){var nextPathKey=memberExpression.propertyKey;var object=memberExpression.object;if(typeof nextPathKey==='string'){if(object instanceof Identifier$1){return[{key:object.name,pos:object.start},{key:nextPathKey,pos:memberExpression.property.start}];}if(object instanceof MemberExpression){var parentPath=getPathIfNotComputed(object);return parentPath&&[].concat(_toConsumableArray(parentPath),[{key:nextPathKey,pos:memberExpression.property.start}]);}}return null;}function getStringFromPath(path){var pathString=path[0].key;for(var index=1;index<path.length;index++){pathString+='.'+path[index].key;}return pathString;}var MemberExpression=/*#__PURE__*/function(_NodeBase18){_inherits(MemberExpression,_NodeBase18);function MemberExpression(){var _this17;_classCallCheck(this,MemberExpression);_this17=_possibleConstructorReturn(this,_getPrototypeOf(MemberExpression).apply(this,arguments));_this17.variable=null;_this17.bound=false;_this17.expressionsToBeDeoptimized=[];_this17.replacement=null;_this17.wasPathDeoptimizedWhileOptimized=false;return _this17;}_createClass(MemberExpression,[{key:"addExportedVariables",value:function addExportedVariables(){}},{key:"bind",value:function bind(){if(this.bound)return;this.bound=true;var path=getPathIfNotComputed(this);var baseVariable=path&&this.scope.findVariable(path[0].key);if(baseVariable&&baseVariable.isNamespace){var resolvedVariable=this.resolveNamespaceVariables(baseVariable,path.slice(1));if(!resolvedVariable){_get(_getPrototypeOf(MemberExpression.prototype),"bind",this).call(this);}else if(typeof resolvedVariable==='string'){this.replacement=resolvedVariable;}else{if(resolvedVariable instanceof ExternalVariable&&resolvedVariable.module){resolvedVariable.module.suggestName(path[0].key);}this.variable=resolvedVariable;this.scope.addNamespaceMemberAccess(getStringFromPath(path),resolvedVariable);}}else{_get(_getPrototypeOf(MemberExpression.prototype),"bind",this).call(this);// ensure the propertyKey is set for the tree-shaking passes
this.getPropertyKey();}}},{key:"deoptimizeCache",value:function deoptimizeCache(){var expressionsToBeDeoptimized=this.expressionsToBeDeoptimized;this.expressionsToBeDeoptimized=[];this.propertyKey=UnknownKey;if(this.wasPathDeoptimizedWhileOptimized){this.object.deoptimizePath(UNKNOWN_PATH);}var _iteratorNormalCompletion74=true;var _didIteratorError74=false;var _iteratorError74=undefined;try{for(var _iterator74=expressionsToBeDeoptimized[Symbol.iterator](),_step74;!(_iteratorNormalCompletion74=(_step74=_iterator74.next()).done);_iteratorNormalCompletion74=true){var expression=_step74.value;expression.deoptimizeCache();}}catch(err){_didIteratorError74=true;_iteratorError74=err;}finally{try{if(!_iteratorNormalCompletion74&&_iterator74["return"]!=null){_iterator74["return"]();}}finally{if(_didIteratorError74){throw _iteratorError74;}}}}},{key:"deoptimizePath",value:function deoptimizePath(path){if(!this.bound)this.bind();if(path.length===0)this.disallowNamespaceReassignment();if(this.variable){this.variable.deoptimizePath(path);}else{var propertyKey=this.getPropertyKey();if(propertyKey===UnknownKey){this.object.deoptimizePath(UNKNOWN_PATH);}else{this.wasPathDeoptimizedWhileOptimized=true;this.object.deoptimizePath([propertyKey].concat(_toConsumableArray(path)));}}}},{key:"getLiteralValueAtPath",value:function getLiteralValueAtPath(path,recursionTracker,origin){if(!this.bound)this.bind();if(this.variable!==null){return this.variable.getLiteralValueAtPath(path,recursionTracker,origin);}this.expressionsToBeDeoptimized.push(origin);return this.object.getLiteralValueAtPath([this.getPropertyKey()].concat(_toConsumableArray(path)),recursionTracker,origin);}},{key:"getReturnExpressionWhenCalledAtPath",value:function getReturnExpressionWhenCalledAtPath(path,recursionTracker,origin){if(!this.bound)this.bind();if(this.variable!==null){return this.variable.getReturnExpressionWhenCalledAtPath(path,recursionTracker,origin);}this.expressionsToBeDeoptimized.push(origin);return this.object.getReturnExpressionWhenCalledAtPath([this.getPropertyKey()].concat(_toConsumableArray(path)),recursionTracker,origin);}},{key:"hasEffects",value:function hasEffects(context){return this.property.hasEffects(context)||this.object.hasEffects(context)||this.context.propertyReadSideEffects&&this.object.hasEffectsWhenAccessedAtPath([this.propertyKey],context);}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path,context){if(path.length===0)return false;if(this.variable!==null){return this.variable.hasEffectsWhenAccessedAtPath(path,context);}return this.object.hasEffectsWhenAccessedAtPath([this.propertyKey].concat(_toConsumableArray(path)),context);}},{key:"hasEffectsWhenAssignedAtPath",value:function hasEffectsWhenAssignedAtPath(path,context){if(this.variable!==null){return this.variable.hasEffectsWhenAssignedAtPath(path,context);}return this.object.hasEffectsWhenAssignedAtPath([this.propertyKey].concat(_toConsumableArray(path)),context);}},{key:"hasEffectsWhenCalledAtPath",value:function hasEffectsWhenCalledAtPath(path,callOptions,context){if(this.variable!==null){return this.variable.hasEffectsWhenCalledAtPath(path,callOptions,context);}return this.object.hasEffectsWhenCalledAtPath([this.propertyKey].concat(_toConsumableArray(path)),callOptions,context);}},{key:"include",value:function include(context,includeChildrenRecursively){if(!this.included){this.included=true;if(this.variable!==null){this.context.includeVariable(context,this.variable);}}this.object.include(context,includeChildrenRecursively);this.property.include(context,includeChildrenRecursively);}},{key:"includeCallArguments",value:function includeCallArguments(context,args){if(this.variable){this.variable.includeCallArguments(context,args);}else{_get(_getPrototypeOf(MemberExpression.prototype),"includeCallArguments",this).call(this,context,args);}}},{key:"initialise",value:function initialise(){this.propertyKey=getResolvablePropertyKey(this);}},{key:"render",value:function render(code,options){var _ref13=arguments.length>2&&arguments[2]!==undefined?arguments[2]:BLANK,renderedParentType=_ref13.renderedParentType,isCalleeOfRenderedParent=_ref13.isCalleeOfRenderedParent;var isCalleeOfDifferentParent=renderedParentType===CallExpression&&isCalleeOfRenderedParent;if(this.variable||this.replacement){var replacement=this.variable?this.variable.getName():this.replacement;if(isCalleeOfDifferentParent)replacement='0, '+replacement;code.overwrite(this.start,this.end,replacement,{contentOnly:true,storeName:true});}else{if(isCalleeOfDifferentParent){code.appendRight(this.start,'0, ');}_get(_getPrototypeOf(MemberExpression.prototype),"render",this).call(this,code,options);}}},{key:"disallowNamespaceReassignment",value:function disallowNamespaceReassignment(){if(this.object instanceof Identifier$1&&this.scope.findVariable(this.object.name).isNamespace){return this.context.error({code:'ILLEGAL_NAMESPACE_REASSIGNMENT',message:"Illegal reassignment to import '".concat(this.object.name,"'")},this.start);}}},{key:"getPropertyKey",value:function getPropertyKey(){if(this.propertyKey===null){this.propertyKey=UnknownKey;var value=this.property.getLiteralValueAtPath(EMPTY_PATH,SHARED_RECURSION_TRACKER,this);return this.propertyKey=value===UnknownValue?UnknownKey:String(value);}return this.propertyKey;}},{key:"resolveNamespaceVariables",value:function resolveNamespaceVariables(baseVariable,path){if(path.length===0)return baseVariable;if(!baseVariable.isNamespace)return null;var exportName=path[0].key;var variable=baseVariable instanceof ExternalVariable?baseVariable.module.getVariableForExportName(exportName):baseVariable.context.traceExport(exportName);if(!variable){var fileName=baseVariable instanceof ExternalVariable?baseVariable.module.id:baseVariable.context.fileName;this.context.warn({code:'MISSING_EXPORT',exporter:relativeId(fileName),importer:relativeId(this.context.fileName),message:"'".concat(exportName,"' is not exported by '").concat(relativeId(fileName),"'"),missing:exportName,url:"https://rollupjs.org/guide/en/#error-name-is-not-exported-by-module"},path[0].pos);return'undefined';}return this.resolveNamespaceVariables(variable,path.slice(1));}}]);return MemberExpression;}(NodeBase);var CallExpression$1=/*#__PURE__*/function(_NodeBase19){_inherits(CallExpression$1,_NodeBase19);function CallExpression$1(){var _this18;_classCallCheck(this,CallExpression$1);_this18=_possibleConstructorReturn(this,_getPrototypeOf(CallExpression$1).apply(this,arguments));_this18.expressionsToBeDeoptimized=[];_this18.returnExpression=null;_this18.wasPathDeoptmizedWhileOptimized=false;return _this18;}_createClass(CallExpression$1,[{key:"bind",value:function bind(){_get(_getPrototypeOf(CallExpression$1.prototype),"bind",this).call(this);if(this.callee instanceof Identifier$1){var variable=this.scope.findVariable(this.callee.name);if(variable.isNamespace){return this.context.error({code:'CANNOT_CALL_NAMESPACE',message:"Cannot call a namespace ('".concat(this.callee.name,"')")},this.start);}if(this.callee.name==='eval'){this.context.warn({code:'EVAL',message:"Use of eval is strongly discouraged, as it poses security risks and may cause issues with minification",url:'https://rollupjs.org/guide/en/#avoiding-eval'},this.start);}}// ensure the returnExpression is set for the tree-shaking passes
this.getReturnExpression(SHARED_RECURSION_TRACKER);// This deoptimizes "this" for non-namespace calls until we have a better solution
if(this.callee instanceof MemberExpression&&!this.callee.variable){this.callee.object.deoptimizePath(UNKNOWN_PATH);}var _iteratorNormalCompletion75=true;var _didIteratorError75=false;var _iteratorError75=undefined;try{for(var _iterator75=this.arguments[Symbol.iterator](),_step75;!(_iteratorNormalCompletion75=(_step75=_iterator75.next()).done);_iteratorNormalCompletion75=true){var argument=_step75.value;// This will make sure all properties of parameters behave as "unknown"
argument.deoptimizePath(UNKNOWN_PATH);}}catch(err){_didIteratorError75=true;_iteratorError75=err;}finally{try{if(!_iteratorNormalCompletion75&&_iterator75["return"]!=null){_iterator75["return"]();}}finally{if(_didIteratorError75){throw _iteratorError75;}}}}},{key:"deoptimizeCache",value:function deoptimizeCache(){if(this.returnExpression!==UNKNOWN_EXPRESSION){this.returnExpression=null;var returnExpression=this.getReturnExpression(SHARED_RECURSION_TRACKER);var expressionsToBeDeoptimized=this.expressionsToBeDeoptimized;if(returnExpression!==UNKNOWN_EXPRESSION){// We need to replace here because is possible new expressions are added
// while we are deoptimizing the old ones
this.expressionsToBeDeoptimized=[];if(this.wasPathDeoptmizedWhileOptimized){returnExpression.deoptimizePath(UNKNOWN_PATH);this.wasPathDeoptmizedWhileOptimized=false;}}var _iteratorNormalCompletion76=true;var _didIteratorError76=false;var _iteratorError76=undefined;try{for(var _iterator76=expressionsToBeDeoptimized[Symbol.iterator](),_step76;!(_iteratorNormalCompletion76=(_step76=_iterator76.next()).done);_iteratorNormalCompletion76=true){var expression=_step76.value;expression.deoptimizeCache();}}catch(err){_didIteratorError76=true;_iteratorError76=err;}finally{try{if(!_iteratorNormalCompletion76&&_iterator76["return"]!=null){_iterator76["return"]();}}finally{if(_didIteratorError76){throw _iteratorError76;}}}}}},{key:"deoptimizePath",value:function deoptimizePath(path){if(path.length===0)return;var trackedEntities=this.context.deoptimizationTracker.getEntities(path);if(trackedEntities.has(this))return;trackedEntities.add(this);var returnExpression=this.getReturnExpression(SHARED_RECURSION_TRACKER);if(returnExpression!==UNKNOWN_EXPRESSION){this.wasPathDeoptmizedWhileOptimized=true;returnExpression.deoptimizePath(path);}}},{key:"getLiteralValueAtPath",value:function getLiteralValueAtPath(path,recursionTracker,origin){var returnExpression=this.getReturnExpression(recursionTracker);if(returnExpression===UNKNOWN_EXPRESSION){return UnknownValue;}var trackedEntities=recursionTracker.getEntities(path);if(trackedEntities.has(returnExpression)){return UnknownValue;}this.expressionsToBeDeoptimized.push(origin);trackedEntities.add(returnExpression);var value=returnExpression.getLiteralValueAtPath(path,recursionTracker,origin);trackedEntities["delete"](returnExpression);return value;}},{key:"getReturnExpressionWhenCalledAtPath",value:function getReturnExpressionWhenCalledAtPath(path,recursionTracker,origin){var returnExpression=this.getReturnExpression(recursionTracker);if(this.returnExpression===UNKNOWN_EXPRESSION){return UNKNOWN_EXPRESSION;}var trackedEntities=recursionTracker.getEntities(path);if(trackedEntities.has(returnExpression)){return UNKNOWN_EXPRESSION;}this.expressionsToBeDeoptimized.push(origin);trackedEntities.add(returnExpression);var value=returnExpression.getReturnExpressionWhenCalledAtPath(path,recursionTracker,origin);trackedEntities["delete"](returnExpression);return value;}},{key:"hasEffects",value:function hasEffects(context){var _iteratorNormalCompletion77=true;var _didIteratorError77=false;var _iteratorError77=undefined;try{for(var _iterator77=this.arguments[Symbol.iterator](),_step77;!(_iteratorNormalCompletion77=(_step77=_iterator77.next()).done);_iteratorNormalCompletion77=true){var argument=_step77.value;if(argument.hasEffects(context))return true;}}catch(err){_didIteratorError77=true;_iteratorError77=err;}finally{try{if(!_iteratorNormalCompletion77&&_iterator77["return"]!=null){_iterator77["return"]();}}finally{if(_didIteratorError77){throw _iteratorError77;}}}if(this.context.annotations&&this.annotatedPure)return false;return this.callee.hasEffects(context)||this.callee.hasEffectsWhenCalledAtPath(EMPTY_PATH,this.callOptions,context);}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path,context){if(path.length===0)return false;var trackedExpressions=context.accessed.getEntities(path);if(trackedExpressions.has(this))return false;trackedExpressions.add(this);return this.returnExpression.hasEffectsWhenAccessedAtPath(path,context);}},{key:"hasEffectsWhenAssignedAtPath",value:function hasEffectsWhenAssignedAtPath(path,context){if(path.length===0)return true;var trackedExpressions=context.assigned.getEntities(path);if(trackedExpressions.has(this))return false;trackedExpressions.add(this);return this.returnExpression.hasEffectsWhenAssignedAtPath(path,context);}},{key:"hasEffectsWhenCalledAtPath",value:function hasEffectsWhenCalledAtPath(path,callOptions,context){var trackedExpressions=(callOptions.withNew?context.instantiated:context.called).getEntities(path);if(trackedExpressions.has(this))return false;trackedExpressions.add(this);return this.returnExpression.hasEffectsWhenCalledAtPath(path,callOptions,context);}},{key:"include",value:function include(context,includeChildrenRecursively){if(includeChildrenRecursively){_get(_getPrototypeOf(CallExpression$1.prototype),"include",this).call(this,context,includeChildrenRecursively);if(includeChildrenRecursively===INCLUDE_PARAMETERS&&this.callee instanceof Identifier$1&&this.callee.variable){this.callee.variable.markCalledFromTryStatement();}}else{this.included=true;this.callee.include(context,false);}this.callee.includeCallArguments(context,this.arguments);if(!this.returnExpression.included){this.returnExpression.include(context,false);}}},{key:"initialise",value:function initialise(){this.callOptions={args:this.arguments,withNew:false};}},{key:"render",value:function render(code,options){var _ref14=arguments.length>2&&arguments[2]!==undefined?arguments[2]:BLANK,renderedParentType=_ref14.renderedParentType;this.callee.render(code,options);if(this.arguments.length>0){if(this.arguments[this.arguments.length-1].included){var _iteratorNormalCompletion78=true;var _didIteratorError78=false;var _iteratorError78=undefined;try{for(var _iterator78=this.arguments[Symbol.iterator](),_step78;!(_iteratorNormalCompletion78=(_step78=_iterator78.next()).done);_iteratorNormalCompletion78=true){var arg=_step78.value;arg.render(code,options);}}catch(err){_didIteratorError78=true;_iteratorError78=err;}finally{try{if(!_iteratorNormalCompletion78&&_iterator78["return"]!=null){_iterator78["return"]();}}finally{if(_didIteratorError78){throw _iteratorError78;}}}}else{var lastIncludedIndex=this.arguments.length-2;while(lastIncludedIndex>=0&&!this.arguments[lastIncludedIndex].included){lastIncludedIndex--;}if(lastIncludedIndex>=0){for(var index=0;index<=lastIncludedIndex;index++){this.arguments[index].render(code,options);}code.remove(findFirstOccurrenceOutsideComment(code.original,',',this.arguments[lastIncludedIndex].end),this.end-1);}else{code.remove(findFirstOccurrenceOutsideComment(code.original,'(',this.callee.end)+1,this.end-1);}}}if(renderedParentType===ExpressionStatement&&this.callee.type===FunctionExpression){code.appendRight(this.start,'(');code.prependLeft(this.end,')');}}},{key:"getReturnExpression",value:function getReturnExpression(recursionTracker){if(this.returnExpression===null){this.returnExpression=UNKNOWN_EXPRESSION;return this.returnExpression=this.callee.getReturnExpressionWhenCalledAtPath(EMPTY_PATH,recursionTracker,this);}return this.returnExpression;}}]);return CallExpression$1;}(NodeBase);var CatchScope=/*#__PURE__*/function(_ParameterScope2){_inherits(CatchScope,_ParameterScope2);function CatchScope(){_classCallCheck(this,CatchScope);return _possibleConstructorReturn(this,_getPrototypeOf(CatchScope).apply(this,arguments));}_createClass(CatchScope,[{key:"addDeclaration",value:function addDeclaration(identifier,context,init,isHoisted){if(isHoisted){return this.parent.addDeclaration(identifier,context,init,isHoisted);}else{return _get(_getPrototypeOf(CatchScope.prototype),"addDeclaration",this).call(this,identifier,context,init,false);}}}]);return CatchScope;}(ParameterScope);var CatchClause=/*#__PURE__*/function(_NodeBase20){_inherits(CatchClause,_NodeBase20);function CatchClause(){_classCallCheck(this,CatchClause);return _possibleConstructorReturn(this,_getPrototypeOf(CatchClause).apply(this,arguments));}_createClass(CatchClause,[{key:"createScope",value:function createScope(parentScope){this.scope=new CatchScope(parentScope,this.context);}},{key:"initialise",value:function initialise(){if(this.param){this.param.declare('parameter',UNKNOWN_EXPRESSION);}}},{key:"parseNode",value:function parseNode(esTreeNode){this.body=new this.context.nodeConstructors.BlockStatement(esTreeNode.body,this,this.scope);_get(_getPrototypeOf(CatchClause.prototype),"parseNode",this).call(this,esTreeNode);}}]);return CatchClause;}(NodeBase);CatchClause.prototype.preventChildBlockScope=true;var ClassBody=/*#__PURE__*/function(_NodeBase21){_inherits(ClassBody,_NodeBase21);function ClassBody(){_classCallCheck(this,ClassBody);return _possibleConstructorReturn(this,_getPrototypeOf(ClassBody).apply(this,arguments));}_createClass(ClassBody,[{key:"hasEffectsWhenCalledAtPath",value:function hasEffectsWhenCalledAtPath(path,callOptions,context){if(path.length>0)return true;return this.classConstructor!==null&&this.classConstructor.hasEffectsWhenCalledAtPath(EMPTY_PATH,callOptions,context);}},{key:"initialise",value:function initialise(){var _iteratorNormalCompletion79=true;var _didIteratorError79=false;var _iteratorError79=undefined;try{for(var _iterator79=this.body[Symbol.iterator](),_step79;!(_iteratorNormalCompletion79=(_step79=_iterator79.next()).done);_iteratorNormalCompletion79=true){var method=_step79.value;if(method.kind==='constructor'){this.classConstructor=method;return;}}}catch(err){_didIteratorError79=true;_iteratorError79=err;}finally{try{if(!_iteratorNormalCompletion79&&_iterator79["return"]!=null){_iterator79["return"]();}}finally{if(_didIteratorError79){throw _iteratorError79;}}}this.classConstructor=null;}}]);return ClassBody;}(NodeBase);var ClassExpression=/*#__PURE__*/function(_ClassNode2){_inherits(ClassExpression,_ClassNode2);function ClassExpression(){_classCallCheck(this,ClassExpression);return _possibleConstructorReturn(this,_getPrototypeOf(ClassExpression).apply(this,arguments));}return ClassExpression;}(ClassNode);var MultiExpression=/*#__PURE__*/function(){function MultiExpression(expressions){_classCallCheck(this,MultiExpression);this.included=false;this.expressions=expressions;}_createClass(MultiExpression,[{key:"deoptimizePath",value:function deoptimizePath(path){var _iteratorNormalCompletion80=true;var _didIteratorError80=false;var _iteratorError80=undefined;try{for(var _iterator80=this.expressions[Symbol.iterator](),_step80;!(_iteratorNormalCompletion80=(_step80=_iterator80.next()).done);_iteratorNormalCompletion80=true){var expression=_step80.value;expression.deoptimizePath(path);}}catch(err){_didIteratorError80=true;_iteratorError80=err;}finally{try{if(!_iteratorNormalCompletion80&&_iterator80["return"]!=null){_iterator80["return"]();}}finally{if(_didIteratorError80){throw _iteratorError80;}}}}},{key:"getLiteralValueAtPath",value:function getLiteralValueAtPath(){return UnknownValue;}},{key:"getReturnExpressionWhenCalledAtPath",value:function getReturnExpressionWhenCalledAtPath(path,recursionTracker,origin){return new MultiExpression(this.expressions.map(function(expression){return expression.getReturnExpressionWhenCalledAtPath(path,recursionTracker,origin);}));}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path,context){var _iteratorNormalCompletion81=true;var _didIteratorError81=false;var _iteratorError81=undefined;try{for(var _iterator81=this.expressions[Symbol.iterator](),_step81;!(_iteratorNormalCompletion81=(_step81=_iterator81.next()).done);_iteratorNormalCompletion81=true){var expression=_step81.value;if(expression.hasEffectsWhenAccessedAtPath(path,context))return true;}}catch(err){_didIteratorError81=true;_iteratorError81=err;}finally{try{if(!_iteratorNormalCompletion81&&_iterator81["return"]!=null){_iterator81["return"]();}}finally{if(_didIteratorError81){throw _iteratorError81;}}}return false;}},{key:"hasEffectsWhenAssignedAtPath",value:function hasEffectsWhenAssignedAtPath(path,context){var _iteratorNormalCompletion82=true;var _didIteratorError82=false;var _iteratorError82=undefined;try{for(var _iterator82=this.expressions[Symbol.iterator](),_step82;!(_iteratorNormalCompletion82=(_step82=_iterator82.next()).done);_iteratorNormalCompletion82=true){var expression=_step82.value;if(expression.hasEffectsWhenAssignedAtPath(path,context))return true;}}catch(err){_didIteratorError82=true;_iteratorError82=err;}finally{try{if(!_iteratorNormalCompletion82&&_iterator82["return"]!=null){_iterator82["return"]();}}finally{if(_didIteratorError82){throw _iteratorError82;}}}return false;}},{key:"hasEffectsWhenCalledAtPath",value:function hasEffectsWhenCalledAtPath(path,callOptions,context){var _iteratorNormalCompletion83=true;var _didIteratorError83=false;var _iteratorError83=undefined;try{for(var _iterator83=this.expressions[Symbol.iterator](),_step83;!(_iteratorNormalCompletion83=(_step83=_iterator83.next()).done);_iteratorNormalCompletion83=true){var expression=_step83.value;if(expression.hasEffectsWhenCalledAtPath(path,callOptions,context))return true;}}catch(err){_didIteratorError83=true;_iteratorError83=err;}finally{try{if(!_iteratorNormalCompletion83&&_iterator83["return"]!=null){_iterator83["return"]();}}finally{if(_didIteratorError83){throw _iteratorError83;}}}return false;}},{key:"include",value:function include(){}},{key:"includeCallArguments",value:function includeCallArguments(){}}]);return MultiExpression;}();var ConditionalExpression=/*#__PURE__*/function(_NodeBase22){_inherits(ConditionalExpression,_NodeBase22);function ConditionalExpression(){var _this19;_classCallCheck(this,ConditionalExpression);_this19=_possibleConstructorReturn(this,_getPrototypeOf(ConditionalExpression).apply(this,arguments));_this19.expressionsToBeDeoptimized=[];_this19.isBranchResolutionAnalysed=false;_this19.usedBranch=null;_this19.wasPathDeoptimizedWhileOptimized=false;return _this19;}_createClass(ConditionalExpression,[{key:"bind",value:function bind(){_get(_getPrototypeOf(ConditionalExpression.prototype),"bind",this).call(this);// ensure the usedBranch is set for the tree-shaking passes
this.getUsedBranch();}},{key:"deoptimizeCache",value:function deoptimizeCache(){if(this.usedBranch!==null){var unusedBranch=this.usedBranch===this.consequent?this.alternate:this.consequent;this.usedBranch=null;var expressionsToBeDeoptimized=this.expressionsToBeDeoptimized;this.expressionsToBeDeoptimized=[];if(this.wasPathDeoptimizedWhileOptimized){unusedBranch.deoptimizePath(UNKNOWN_PATH);}var _iteratorNormalCompletion84=true;var _didIteratorError84=false;var _iteratorError84=undefined;try{for(var _iterator84=expressionsToBeDeoptimized[Symbol.iterator](),_step84;!(_iteratorNormalCompletion84=(_step84=_iterator84.next()).done);_iteratorNormalCompletion84=true){var expression=_step84.value;expression.deoptimizeCache();}}catch(err){_didIteratorError84=true;_iteratorError84=err;}finally{try{if(!_iteratorNormalCompletion84&&_iterator84["return"]!=null){_iterator84["return"]();}}finally{if(_didIteratorError84){throw _iteratorError84;}}}}}},{key:"deoptimizePath",value:function deoptimizePath(path){if(path.length>0){var usedBranch=this.getUsedBranch();if(usedBranch===null){this.consequent.deoptimizePath(path);this.alternate.deoptimizePath(path);}else{this.wasPathDeoptimizedWhileOptimized=true;usedBranch.deoptimizePath(path);}}}},{key:"getLiteralValueAtPath",value:function getLiteralValueAtPath(path,recursionTracker,origin){var usedBranch=this.getUsedBranch();if(usedBranch===null)return UnknownValue;this.expressionsToBeDeoptimized.push(origin);return usedBranch.getLiteralValueAtPath(path,recursionTracker,origin);}},{key:"getReturnExpressionWhenCalledAtPath",value:function getReturnExpressionWhenCalledAtPath(path,recursionTracker,origin){var usedBranch=this.getUsedBranch();if(usedBranch===null)return new MultiExpression([this.consequent.getReturnExpressionWhenCalledAtPath(path,recursionTracker,origin),this.alternate.getReturnExpressionWhenCalledAtPath(path,recursionTracker,origin)]);this.expressionsToBeDeoptimized.push(origin);return usedBranch.getReturnExpressionWhenCalledAtPath(path,recursionTracker,origin);}},{key:"hasEffects",value:function hasEffects(context){if(this.test.hasEffects(context))return true;if(this.usedBranch===null){return this.consequent.hasEffects(context)||this.alternate.hasEffects(context);}return this.usedBranch.hasEffects(context);}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path,context){if(path.length===0)return false;if(this.usedBranch===null){return this.consequent.hasEffectsWhenAccessedAtPath(path,context)||this.alternate.hasEffectsWhenAccessedAtPath(path,context);}return this.usedBranch.hasEffectsWhenAccessedAtPath(path,context);}},{key:"hasEffectsWhenAssignedAtPath",value:function hasEffectsWhenAssignedAtPath(path,context){if(path.length===0)return true;if(this.usedBranch===null){return this.consequent.hasEffectsWhenAssignedAtPath(path,context)||this.alternate.hasEffectsWhenAssignedAtPath(path,context);}return this.usedBranch.hasEffectsWhenAssignedAtPath(path,context);}},{key:"hasEffectsWhenCalledAtPath",value:function hasEffectsWhenCalledAtPath(path,callOptions,context){if(this.usedBranch===null){return this.consequent.hasEffectsWhenCalledAtPath(path,callOptions,context)||this.alternate.hasEffectsWhenCalledAtPath(path,callOptions,context);}return this.usedBranch.hasEffectsWhenCalledAtPath(path,callOptions,context);}},{key:"include",value:function include(context,includeChildrenRecursively){this.included=true;if(includeChildrenRecursively||this.test.shouldBeIncluded(context)||this.usedBranch===null){this.test.include(context,includeChildrenRecursively);this.consequent.include(context,includeChildrenRecursively);this.alternate.include(context,includeChildrenRecursively);}else{this.usedBranch.include(context,includeChildrenRecursively);}}},{key:"render",value:function render(code,options){var _ref15=arguments.length>2&&arguments[2]!==undefined?arguments[2]:BLANK,renderedParentType=_ref15.renderedParentType,isCalleeOfRenderedParent=_ref15.isCalleeOfRenderedParent,preventASI=_ref15.preventASI;if(!this.test.included){var colonPos=findFirstOccurrenceOutsideComment(code.original,':',this.consequent.end);var inclusionStart=(this.consequent.included?findFirstOccurrenceOutsideComment(code.original,'?',this.test.end):colonPos)+1;if(preventASI){removeLineBreaks(code,inclusionStart,this.usedBranch.start);}code.remove(this.start,inclusionStart);if(this.consequent.included){code.remove(colonPos,this.end);}removeAnnotations(this,code);this.usedBranch.render(code,options,{isCalleeOfRenderedParent:renderedParentType?isCalleeOfRenderedParent:this.parent.callee===this,renderedParentType:renderedParentType||this.parent.type});}else{_get(_getPrototypeOf(ConditionalExpression.prototype),"render",this).call(this,code,options);}}},{key:"getUsedBranch",value:function getUsedBranch(){if(this.isBranchResolutionAnalysed){return this.usedBranch;}this.isBranchResolutionAnalysed=true;var testValue=this.test.getLiteralValueAtPath(EMPTY_PATH,SHARED_RECURSION_TRACKER,this);return testValue===UnknownValue?null:this.usedBranch=testValue?this.consequent:this.alternate;}}]);return ConditionalExpression;}(NodeBase);var ContinueStatement=/*#__PURE__*/function(_NodeBase23){_inherits(ContinueStatement,_NodeBase23);function ContinueStatement(){_classCallCheck(this,ContinueStatement);return _possibleConstructorReturn(this,_getPrototypeOf(ContinueStatement).apply(this,arguments));}_createClass(ContinueStatement,[{key:"hasEffects",value:function hasEffects(context){if(this.label){if(!context.ignore.labels.has(this.label.name))return true;context.includedLabels.add(this.label.name);context.brokenFlow=BROKEN_FLOW_ERROR_RETURN_LABEL;}else{if(!context.ignore.continues)return true;context.brokenFlow=BROKEN_FLOW_BREAK_CONTINUE;}return false;}},{key:"include",value:function include(context){this.included=true;if(this.label){this.label.include(context);context.includedLabels.add(this.label.name);}context.brokenFlow=this.label?BROKEN_FLOW_ERROR_RETURN_LABEL:BROKEN_FLOW_BREAK_CONTINUE;}}]);return ContinueStatement;}(NodeBase);var DoWhileStatement=/*#__PURE__*/function(_NodeBase24){_inherits(DoWhileStatement,_NodeBase24);function DoWhileStatement(){_classCallCheck(this,DoWhileStatement);return _possibleConstructorReturn(this,_getPrototypeOf(DoWhileStatement).apply(this,arguments));}_createClass(DoWhileStatement,[{key:"hasEffects",value:function hasEffects(context){if(this.test.hasEffects(context))return true;var brokenFlow=context.brokenFlow,_context$ignore=context.ignore,breaks=_context$ignore.breaks,continues=_context$ignore.continues;context.ignore.breaks=true;context.ignore.continues=true;if(this.body.hasEffects(context))return true;context.ignore.breaks=breaks;context.ignore.continues=continues;context.brokenFlow=brokenFlow;return false;}},{key:"include",value:function include(context,includeChildrenRecursively){this.included=true;this.test.include(context,includeChildrenRecursively);var brokenFlow=context.brokenFlow;this.body.include(context,includeChildrenRecursively);context.brokenFlow=brokenFlow;}}]);return DoWhileStatement;}(NodeBase);var EmptyStatement=/*#__PURE__*/function(_NodeBase25){_inherits(EmptyStatement,_NodeBase25);function EmptyStatement(){_classCallCheck(this,EmptyStatement);return _possibleConstructorReturn(this,_getPrototypeOf(EmptyStatement).apply(this,arguments));}_createClass(EmptyStatement,[{key:"hasEffects",value:function hasEffects(){return false;}}]);return EmptyStatement;}(NodeBase);var ExportNamedDeclaration=/*#__PURE__*/function(_NodeBase26){_inherits(ExportNamedDeclaration,_NodeBase26);function ExportNamedDeclaration(){_classCallCheck(this,ExportNamedDeclaration);return _possibleConstructorReturn(this,_getPrototypeOf(ExportNamedDeclaration).apply(this,arguments));}_createClass(ExportNamedDeclaration,[{key:"bind",value:function bind(){// Do not bind specifiers
if(this.declaration!==null)this.declaration.bind();}},{key:"hasEffects",value:function hasEffects(context){return this.declaration!==null&&this.declaration.hasEffects(context);}},{key:"initialise",value:function initialise(){this.context.addExport(this);}},{key:"render",value:function render(code,options,nodeRenderOptions){var start=nodeRenderOptions.start,end=nodeRenderOptions.end;if(this.declaration===null){code.remove(start,end);}else{code.remove(this.start,this.declaration.start);this.declaration.render(code,options,{start:start,end:end});}}}]);return ExportNamedDeclaration;}(NodeBase);ExportNamedDeclaration.prototype.needsBoundaries=true;var ForInStatement=/*#__PURE__*/function(_NodeBase27){_inherits(ForInStatement,_NodeBase27);function ForInStatement(){_classCallCheck(this,ForInStatement);return _possibleConstructorReturn(this,_getPrototypeOf(ForInStatement).apply(this,arguments));}_createClass(ForInStatement,[{key:"bind",value:function bind(){this.left.bind();this.left.deoptimizePath(EMPTY_PATH);this.right.bind();this.body.bind();}},{key:"createScope",value:function createScope(parentScope){this.scope=new BlockScope(parentScope);}},{key:"hasEffects",value:function hasEffects(context){if(this.left&&(this.left.hasEffects(context)||this.left.hasEffectsWhenAssignedAtPath(EMPTY_PATH,context))||this.right&&this.right.hasEffects(context))return true;var brokenFlow=context.brokenFlow,_context$ignore2=context.ignore,breaks=_context$ignore2.breaks,continues=_context$ignore2.continues;context.ignore.breaks=true;context.ignore.continues=true;if(this.body.hasEffects(context))return true;context.ignore.breaks=breaks;context.ignore.continues=continues;context.brokenFlow=brokenFlow;return false;}},{key:"include",value:function include(context,includeChildrenRecursively){this.included=true;this.left.includeWithAllDeclaredVariables(includeChildrenRecursively,context);this.left.deoptimizePath(EMPTY_PATH);this.right.include(context,includeChildrenRecursively);var brokenFlow=context.brokenFlow;this.body.include(context,includeChildrenRecursively);context.brokenFlow=brokenFlow;}},{key:"render",value:function render(code,options){this.left.render(code,options,NO_SEMICOLON);this.right.render(code,options,NO_SEMICOLON);// handle no space between "in" and the right side
if(code.original.charCodeAt(this.right.start-1)===110/* n */){code.prependLeft(this.right.start,' ');}this.body.render(code,options);}}]);return ForInStatement;}(NodeBase);var ForOfStatement=/*#__PURE__*/function(_NodeBase28){_inherits(ForOfStatement,_NodeBase28);function ForOfStatement(){_classCallCheck(this,ForOfStatement);return _possibleConstructorReturn(this,_getPrototypeOf(ForOfStatement).apply(this,arguments));}_createClass(ForOfStatement,[{key:"bind",value:function bind(){this.left.bind();this.left.deoptimizePath(EMPTY_PATH);this.right.bind();this.body.bind();}},{key:"createScope",value:function createScope(parentScope){this.scope=new BlockScope(parentScope);}},{key:"hasEffects",value:function hasEffects(){// Placeholder until proper Symbol.Iterator support
return true;}},{key:"include",value:function include(context,includeChildrenRecursively){this.included=true;this.left.includeWithAllDeclaredVariables(includeChildrenRecursively,context);this.left.deoptimizePath(EMPTY_PATH);this.right.include(context,includeChildrenRecursively);var brokenFlow=context.brokenFlow;this.body.include(context,includeChildrenRecursively);context.brokenFlow=brokenFlow;}},{key:"render",value:function render(code,options){this.left.render(code,options,NO_SEMICOLON);this.right.render(code,options,NO_SEMICOLON);// handle no space between "of" and the right side
if(code.original.charCodeAt(this.right.start-1)===102/* f */){code.prependLeft(this.right.start,' ');}this.body.render(code,options);}}]);return ForOfStatement;}(NodeBase);var ForStatement=/*#__PURE__*/function(_NodeBase29){_inherits(ForStatement,_NodeBase29);function ForStatement(){_classCallCheck(this,ForStatement);return _possibleConstructorReturn(this,_getPrototypeOf(ForStatement).apply(this,arguments));}_createClass(ForStatement,[{key:"createScope",value:function createScope(parentScope){this.scope=new BlockScope(parentScope);}},{key:"hasEffects",value:function hasEffects(context){if(this.init&&this.init.hasEffects(context)||this.test&&this.test.hasEffects(context)||this.update&&this.update.hasEffects(context))return true;var brokenFlow=context.brokenFlow,_context$ignore3=context.ignore,breaks=_context$ignore3.breaks,continues=_context$ignore3.continues;context.ignore.breaks=true;context.ignore.continues=true;if(this.body.hasEffects(context))return true;context.ignore.breaks=breaks;context.ignore.continues=continues;context.brokenFlow=brokenFlow;return false;}},{key:"include",value:function include(context,includeChildrenRecursively){this.included=true;if(this.init)this.init.include(context,includeChildrenRecursively);if(this.test)this.test.include(context,includeChildrenRecursively);var brokenFlow=context.brokenFlow;if(this.update)this.update.include(context,includeChildrenRecursively);this.body.include(context,includeChildrenRecursively);context.brokenFlow=brokenFlow;}},{key:"render",value:function render(code,options){if(this.init)this.init.render(code,options,NO_SEMICOLON);if(this.test)this.test.render(code,options,NO_SEMICOLON);if(this.update)this.update.render(code,options,NO_SEMICOLON);this.body.render(code,options);}}]);return ForStatement;}(NodeBase);var FunctionExpression$1=/*#__PURE__*/function(_FunctionNode2){_inherits(FunctionExpression$1,_FunctionNode2);function FunctionExpression$1(){_classCallCheck(this,FunctionExpression$1);return _possibleConstructorReturn(this,_getPrototypeOf(FunctionExpression$1).apply(this,arguments));}return FunctionExpression$1;}(FunctionNode);var unset=Symbol('unset');var IfStatement=/*#__PURE__*/function(_NodeBase30){_inherits(IfStatement,_NodeBase30);function IfStatement(){var _this20;_classCallCheck(this,IfStatement);_this20=_possibleConstructorReturn(this,_getPrototypeOf(IfStatement).apply(this,arguments));_this20.testValue=unset;return _this20;}_createClass(IfStatement,[{key:"deoptimizeCache",value:function deoptimizeCache(){this.testValue=UnknownValue;}},{key:"hasEffects",value:function hasEffects(context){if(this.test.hasEffects(context)){return true;}var testValue=this.getTestValue();if(testValue===UnknownValue){var brokenFlow=context.brokenFlow;if(this.consequent.hasEffects(context))return true;var consequentBrokenFlow=context.brokenFlow;context.brokenFlow=brokenFlow;if(this.alternate===null)return false;if(this.alternate.hasEffects(context))return true;context.brokenFlow=context.brokenFlow<consequentBrokenFlow?context.brokenFlow:consequentBrokenFlow;return false;}return testValue?this.consequent.hasEffects(context):this.alternate!==null&&this.alternate.hasEffects(context);}},{key:"include",value:function include(context,includeChildrenRecursively){this.included=true;if(includeChildrenRecursively){this.includeRecursively(includeChildrenRecursively,context);}else{var testValue=this.getTestValue();if(testValue===UnknownValue){this.includeUnknownTest(context);}else{this.includeKnownTest(context,testValue);}}}},{key:"render",value:function render(code,options){// Note that unknown test values are always included
var testValue=this.getTestValue();if(!this.test.included&&(testValue?this.alternate===null||!this.alternate.included:!this.consequent.included)){var singleRetainedBranch=testValue?this.consequent:this.alternate;code.remove(this.start,singleRetainedBranch.start);code.remove(singleRetainedBranch.end,this.end);removeAnnotations(this,code);singleRetainedBranch.render(code,options);}else{if(this.test.included){this.test.render(code,options);}else{code.overwrite(this.test.start,this.test.end,testValue?'true':'false');}if(this.consequent.included){this.consequent.render(code,options);}else{code.overwrite(this.consequent.start,this.consequent.end,';');}if(this.alternate!==null){if(this.alternate.included){if(code.original.charCodeAt(this.alternate.start-1)===101/* e */){code.prependLeft(this.alternate.start,' ');}this.alternate.render(code,options);}else{code.remove(this.consequent.end,this.alternate.end);}}}}},{key:"getTestValue",value:function getTestValue(){if(this.testValue===unset){return this.testValue=this.test.getLiteralValueAtPath(EMPTY_PATH,SHARED_RECURSION_TRACKER,this);}return this.testValue;}},{key:"includeKnownTest",value:function includeKnownTest(context,testValue){if(this.test.shouldBeIncluded(context)){this.test.include(context,false);}if(testValue&&this.consequent.shouldBeIncluded(context)){this.consequent.include(context,false);}if(this.alternate!==null&&!testValue&&this.alternate.shouldBeIncluded(context)){this.alternate.include(context,false);}}},{key:"includeRecursively",value:function includeRecursively(includeChildrenRecursively,context){this.test.include(context,includeChildrenRecursively);this.consequent.include(context,includeChildrenRecursively);if(this.alternate!==null){this.alternate.include(context,includeChildrenRecursively);}}},{key:"includeUnknownTest",value:function includeUnknownTest(context){this.test.include(context,false);var brokenFlow=context.brokenFlow;var consequentBrokenFlow=BROKEN_FLOW_NONE;if(this.consequent.shouldBeIncluded(context)){this.consequent.include(context,false);consequentBrokenFlow=context.brokenFlow;context.brokenFlow=brokenFlow;}if(this.alternate!==null&&this.alternate.shouldBeIncluded(context)){this.alternate.include(context,false);context.brokenFlow=context.brokenFlow<consequentBrokenFlow?context.brokenFlow:consequentBrokenFlow;}}}]);return IfStatement;}(NodeBase);var ImportDeclaration=/*#__PURE__*/function(_NodeBase31){_inherits(ImportDeclaration,_NodeBase31);function ImportDeclaration(){_classCallCheck(this,ImportDeclaration);return _possibleConstructorReturn(this,_getPrototypeOf(ImportDeclaration).apply(this,arguments));}_createClass(ImportDeclaration,[{key:"bind",value:function bind(){}},{key:"hasEffects",value:function hasEffects(){return false;}},{key:"initialise",value:function initialise(){this.context.addImport(this);}},{key:"render",value:function render(code,_options,nodeRenderOptions){code.remove(nodeRenderOptions.start,nodeRenderOptions.end);}}]);return ImportDeclaration;}(NodeBase);ImportDeclaration.prototype.needsBoundaries=true;var Import=/*#__PURE__*/function(_NodeBase32){_inherits(Import,_NodeBase32);function Import(){var _this21;_classCallCheck(this,Import);_this21=_possibleConstructorReturn(this,_getPrototypeOf(Import).apply(this,arguments));_this21.exportMode='auto';return _this21;}_createClass(Import,[{key:"hasEffects",value:function hasEffects(){return true;}},{key:"include",value:function include(context,includeChildrenRecursively){if(!this.included){this.included=true;this.context.includeDynamicImport(this);this.scope.addAccessedDynamicImport(this);}this.source.include(context,includeChildrenRecursively);}},{key:"initialise",value:function initialise(){this.context.addDynamicImport(this);}},{key:"render",value:function render(code,options){if(this.inlineNamespace){var _=options.compact?'':' ';var s=options.compact?'':';';code.overwrite(this.start,this.end,"Promise.resolve().then(function".concat(_,"()").concat(_,"{").concat(_,"return ").concat(this.inlineNamespace.getName()).concat(s).concat(_,"})"));return;}var importMechanism=this.getDynamicImportMechanism(options);if(importMechanism){code.overwrite(this.start,findFirstOccurrenceOutsideComment(code.original,'(',this.start+6)+1,importMechanism.left);code.overwrite(this.end-1,this.end,importMechanism.right);}this.source.render(code,options);}},{key:"renderFinalResolution",value:function renderFinalResolution(code,resolution,format){if(this.included){if(format==='amd'&&resolution.startsWith("'.")&&resolution.endsWith(".js'")){resolution=resolution.slice(0,-4)+"'";}code.overwrite(this.source.start,this.source.end,resolution);}}},{key:"setResolution",value:function setResolution(exportMode,inlineNamespace){this.exportMode=exportMode;if(inlineNamespace){this.inlineNamespace=inlineNamespace;}else{this.scope.addAccessedGlobalsByFormat({amd:['require'],cjs:['require'],system:['module']});if(exportMode==='auto'){this.scope.addAccessedGlobalsByFormat({amd:[INTEROP_NAMESPACE_VARIABLE],cjs:[INTEROP_NAMESPACE_VARIABLE]});}}}},{key:"getDynamicImportMechanism",value:function getDynamicImportMechanism(options){switch(options.format){case'cjs':{var _=options.compact?'':' ';var resolve=options.compact?'c':'resolve';switch(this.exportMode){case'default':return{left:"new Promise(function".concat(_,"(").concat(resolve,")").concat(_,"{").concat(_).concat(resolve,"({").concat(_,"'default':").concat(_,"require("),right:")".concat(_,"});").concat(_,"})")};case'auto':return{left:"new Promise(function".concat(_,"(").concat(resolve,")").concat(_,"{").concat(_).concat(resolve,"(").concat(INTEROP_NAMESPACE_VARIABLE,"(require("),right:")));".concat(_,"})")};default:return{left:"new Promise(function".concat(_,"(").concat(resolve,")").concat(_,"{").concat(_).concat(resolve,"(require("),right:"));".concat(_,"})")};}}case'amd':{var _2=options.compact?'':' ';var _resolve=options.compact?'c':'resolve';var reject=options.compact?'e':'reject';var resolveNamespace=this.exportMode==='default'?"function".concat(_2,"(m)").concat(_2,"{").concat(_2).concat(_resolve,"({").concat(_2,"'default':").concat(_2,"m").concat(_2,"});").concat(_2,"}"):this.exportMode==='auto'?"function".concat(_2,"(m)").concat(_2,"{").concat(_2).concat(_resolve,"(").concat(INTEROP_NAMESPACE_VARIABLE,"(m));").concat(_2,"}"):_resolve;return{left:"new Promise(function".concat(_2,"(").concat(_resolve,",").concat(_2).concat(reject,")").concat(_2,"{").concat(_2,"require(["),right:"],".concat(_2).concat(resolveNamespace,",").concat(_2).concat(reject,")").concat(_2,"})")};}case'system':return{left:'module.import(',right:')'};case'es':if(options.dynamicImportFunction){return{left:"".concat(options.dynamicImportFunction,"("),right:')'};}}return null;}}]);return Import;}(NodeBase);var LabeledStatement=/*#__PURE__*/function(_NodeBase33){_inherits(LabeledStatement,_NodeBase33);function LabeledStatement(){_classCallCheck(this,LabeledStatement);return _possibleConstructorReturn(this,_getPrototypeOf(LabeledStatement).apply(this,arguments));}_createClass(LabeledStatement,[{key:"hasEffects",value:function hasEffects(context){var brokenFlow=context.brokenFlow;context.ignore.labels.add(this.label.name);if(this.body.hasEffects(context))return true;context.ignore.labels["delete"](this.label.name);if(context.includedLabels.has(this.label.name)){context.includedLabels["delete"](this.label.name);context.brokenFlow=brokenFlow;}return false;}},{key:"include",value:function include(context,includeChildrenRecursively){this.included=true;var brokenFlow=context.brokenFlow;this.body.include(context,includeChildrenRecursively);if(context.includedLabels.has(this.label.name)){this.label.include(context);context.includedLabels["delete"](this.label.name);context.brokenFlow=brokenFlow;}}},{key:"render",value:function render(code,options){if(this.label.included){this.label.render(code,options);}else{code.remove(this.start,findFirstOccurrenceOutsideComment(code.original,':',this.label.end)+1);}this.body.render(code,options);}}]);return LabeledStatement;}(NodeBase);var LogicalExpression=/*#__PURE__*/function(_NodeBase34){_inherits(LogicalExpression,_NodeBase34);function LogicalExpression(){var _this22;_classCallCheck(this,LogicalExpression);_this22=_possibleConstructorReturn(this,_getPrototypeOf(LogicalExpression).apply(this,arguments));// We collect deoptimization information if usedBranch !== null
_this22.expressionsToBeDeoptimized=[];_this22.isBranchResolutionAnalysed=false;_this22.unusedBranch=null;_this22.usedBranch=null;_this22.wasPathDeoptimizedWhileOptimized=false;return _this22;}_createClass(LogicalExpression,[{key:"bind",value:function bind(){_get(_getPrototypeOf(LogicalExpression.prototype),"bind",this).call(this);// ensure the usedBranch is set for the tree-shaking passes
this.getUsedBranch();}},{key:"deoptimizeCache",value:function deoptimizeCache(){if(this.usedBranch!==null){this.usedBranch=null;var expressionsToBeDeoptimized=this.expressionsToBeDeoptimized;this.expressionsToBeDeoptimized=[];if(this.wasPathDeoptimizedWhileOptimized){this.unusedBranch.deoptimizePath(UNKNOWN_PATH);}var _iteratorNormalCompletion85=true;var _didIteratorError85=false;var _iteratorError85=undefined;try{for(var _iterator85=expressionsToBeDeoptimized[Symbol.iterator](),_step85;!(_iteratorNormalCompletion85=(_step85=_iterator85.next()).done);_iteratorNormalCompletion85=true){var expression=_step85.value;expression.deoptimizeCache();}}catch(err){_didIteratorError85=true;_iteratorError85=err;}finally{try{if(!_iteratorNormalCompletion85&&_iterator85["return"]!=null){_iterator85["return"]();}}finally{if(_didIteratorError85){throw _iteratorError85;}}}}}},{key:"deoptimizePath",value:function deoptimizePath(path){var usedBranch=this.getUsedBranch();if(usedBranch===null){this.left.deoptimizePath(path);this.right.deoptimizePath(path);}else{this.wasPathDeoptimizedWhileOptimized=true;usedBranch.deoptimizePath(path);}}},{key:"getLiteralValueAtPath",value:function getLiteralValueAtPath(path,recursionTracker,origin){var usedBranch=this.getUsedBranch();if(usedBranch===null)return UnknownValue;this.expressionsToBeDeoptimized.push(origin);return usedBranch.getLiteralValueAtPath(path,recursionTracker,origin);}},{key:"getReturnExpressionWhenCalledAtPath",value:function getReturnExpressionWhenCalledAtPath(path,recursionTracker,origin){var usedBranch=this.getUsedBranch();if(usedBranch===null)return new MultiExpression([this.left.getReturnExpressionWhenCalledAtPath(path,recursionTracker,origin),this.right.getReturnExpressionWhenCalledAtPath(path,recursionTracker,origin)]);this.expressionsToBeDeoptimized.push(origin);return usedBranch.getReturnExpressionWhenCalledAtPath(path,recursionTracker,origin);}},{key:"hasEffects",value:function hasEffects(context){if(this.usedBranch===null){return this.left.hasEffects(context)||this.right.hasEffects(context);}return this.usedBranch.hasEffects(context);}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path,context){if(path.length===0)return false;if(this.usedBranch===null){return this.left.hasEffectsWhenAccessedAtPath(path,context)||this.right.hasEffectsWhenAccessedAtPath(path,context);}return this.usedBranch.hasEffectsWhenAccessedAtPath(path,context);}},{key:"hasEffectsWhenAssignedAtPath",value:function hasEffectsWhenAssignedAtPath(path,context){if(path.length===0)return true;if(this.usedBranch===null){return this.left.hasEffectsWhenAssignedAtPath(path,context)||this.right.hasEffectsWhenAssignedAtPath(path,context);}return this.usedBranch.hasEffectsWhenAssignedAtPath(path,context);}},{key:"hasEffectsWhenCalledAtPath",value:function hasEffectsWhenCalledAtPath(path,callOptions,context){if(this.usedBranch===null){return this.left.hasEffectsWhenCalledAtPath(path,callOptions,context)||this.right.hasEffectsWhenCalledAtPath(path,callOptions,context);}return this.usedBranch.hasEffectsWhenCalledAtPath(path,callOptions,context);}},{key:"include",value:function include(context,includeChildrenRecursively){this.included=true;if(includeChildrenRecursively||this.usedBranch===this.right&&this.left.shouldBeIncluded(context)||this.usedBranch===null){this.left.include(context,includeChildrenRecursively);this.right.include(context,includeChildrenRecursively);}else{this.usedBranch.include(context,includeChildrenRecursively);}}},{key:"render",value:function render(code,options){var _ref16=arguments.length>2&&arguments[2]!==undefined?arguments[2]:BLANK,renderedParentType=_ref16.renderedParentType,isCalleeOfRenderedParent=_ref16.isCalleeOfRenderedParent,preventASI=_ref16.preventASI;if(!this.left.included||!this.right.included){var operatorPos=findFirstOccurrenceOutsideComment(code.original,this.operator,this.left.end);if(this.right.included){code.remove(this.start,operatorPos+2);if(preventASI){removeLineBreaks(code,operatorPos+2,this.right.start);}}else{code.remove(operatorPos,this.end);}removeAnnotations(this,code);this.usedBranch.render(code,options,{isCalleeOfRenderedParent:renderedParentType?isCalleeOfRenderedParent:this.parent.callee===this,renderedParentType:renderedParentType||this.parent.type});}else{_get(_getPrototypeOf(LogicalExpression.prototype),"render",this).call(this,code,options);}}},{key:"getUsedBranch",value:function getUsedBranch(){if(!this.isBranchResolutionAnalysed){this.isBranchResolutionAnalysed=true;var leftValue=this.left.getLiteralValueAtPath(EMPTY_PATH,SHARED_RECURSION_TRACKER,this);if(leftValue===UnknownValue){return null;}else{if(this.operator==='||'?leftValue:!leftValue){this.usedBranch=this.left;this.unusedBranch=this.right;}else{this.usedBranch=this.right;this.unusedBranch=this.left;}}}return this.usedBranch;}}]);return LogicalExpression;}(NodeBase);var readFile=function readFile(file){return new Promise(function(fulfil,reject){return fs.readFile(file,'utf-8',function(err,contents){return err?reject(err):fulfil(contents);});});};function mkdirpath(path$1){var dir=path.dirname(path$1);try{fs.readdirSync(dir);}catch(err){mkdirpath(dir);try{fs.mkdirSync(dir);}catch(err2){if(err2.code!=='EEXIST'){throw err2;}}}}function writeFile(dest,data){return new Promise(function(fulfil,reject){mkdirpath(dest);fs.writeFile(dest,data,function(err){if(err){reject(err);}else{fulfil();}});});}function getRollupDefaultPlugin(preserveSymlinks){return{name:'Rollup Core',resolveId:createResolveId(preserveSymlinks),load:function load(id){return readFile(id);},resolveFileUrl:function resolveFileUrl(_ref17){var relativePath=_ref17.relativePath,format=_ref17.format;return relativeUrlMechanisms[format](relativePath);},resolveImportMeta:function resolveImportMeta(prop,_ref18){var chunkId=_ref18.chunkId,format=_ref18.format;var mechanism=importMetaMechanisms[format]&&importMetaMechanisms[format](prop,chunkId);if(mechanism){return mechanism;}}};}function findFile(file,preserveSymlinks){try{var stats=fs.lstatSync(file);if(!preserveSymlinks&&stats.isSymbolicLink())return findFile(fs.realpathSync(file),preserveSymlinks);if(preserveSymlinks&&stats.isSymbolicLink()||stats.isFile()){// check case
var name=path.basename(file);var files=fs.readdirSync(path.dirname(file));if(files.indexOf(name)!==-1)return file;}}catch(err){// suppress
}}function addJsExtensionIfNecessary(file,preserveSymlinks){var found=findFile(file,preserveSymlinks);if(found)return found;found=findFile(file+'.mjs',preserveSymlinks);if(found)return found;found=findFile(file+'.js',preserveSymlinks);return found;}function createResolveId(preserveSymlinks){return function(source,importer){if(typeof process==='undefined'){return _error({code:'MISSING_PROCESS',message:"It looks like you're using Rollup in a non-Node.js environment. This means you must supply a plugin with custom resolveId and load functions",url:'https://rollupjs.org/guide/en/#a-simple-example'});}// external modules (non-entry modules that start with neither '.' or '/')
// are skipped at this stage.
if(importer!==undefined&&!isAbsolute(source)&&source[0]!=='.')return null;// `resolve` processes paths from right to left, prepending them until an
// absolute path is created. Absolute importees therefore shortcircuit the
// resolve call and require no special handing on our part.
// See https://nodejs.org/api/path.html#path_path_resolve_paths
return addJsExtensionIfNecessary(path.resolve(importer?path.dirname(importer):path.resolve(),source),preserveSymlinks);};}var getResolveUrl=function getResolveUrl(path){var URL=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'URL';return"new ".concat(URL,"(").concat(path,").href");};var getUrlFromDocument=function getUrlFromDocument(chunkId){return"(document.currentScript && document.currentScript.src || new URL('".concat(chunkId,"', document.baseURI).href)");};var getGenericImportMetaMechanism=function getGenericImportMetaMechanism(getUrl){return function(prop,chunkId){var urlMechanism=getUrl(chunkId);return prop===null?"({ url: ".concat(urlMechanism," })"):prop==='url'?urlMechanism:'undefined';};};var importMetaMechanisms={amd:getGenericImportMetaMechanism(function(){return getResolveUrl("module.uri, document.baseURI");}),cjs:getGenericImportMetaMechanism(function(chunkId){return"(typeof document === 'undefined' ? ".concat(getResolveUrl("'file:' + __filename","(require('u' + 'rl').URL)")," : ").concat(getUrlFromDocument(chunkId),")");}),iife:getGenericImportMetaMechanism(function(chunkId){return getUrlFromDocument(chunkId);}),system:function system(prop){return prop===null?"module.meta":"module.meta.".concat(prop);},umd:getGenericImportMetaMechanism(function(chunkId){return"(typeof document === 'undefined' ? ".concat(getResolveUrl("'file:' + __filename","(require('u' + 'rl').URL)")," : ").concat(getUrlFromDocument(chunkId),")");})};var getRelativeUrlFromDocument=function getRelativeUrlFromDocument(relativePath){return getResolveUrl("'".concat(relativePath,"', document.currentScript && document.currentScript.src || document.baseURI"));};var relativeUrlMechanisms={amd:function amd(relativePath){if(relativePath[0]!=='.')relativePath='./'+relativePath;return getResolveUrl("require.toUrl('".concat(relativePath,"'), document.baseURI"));},cjs:function cjs(relativePath){return"(typeof document === 'undefined' ? ".concat(getResolveUrl("'file:' + __dirname + '/".concat(relativePath,"'"),"(require('u' + 'rl').URL)")," : ").concat(getRelativeUrlFromDocument(relativePath),")");},es:function es(relativePath){return getResolveUrl("'".concat(relativePath,"', import.meta.url"));},iife:function iife(relativePath){return getRelativeUrlFromDocument(relativePath);},system:function system(relativePath){return getResolveUrl("'".concat(relativePath,"', module.meta.url"));},umd:function umd(relativePath){return"(typeof document === 'undefined' ? ".concat(getResolveUrl("'file:' + __dirname + '/".concat(relativePath,"'"),"(require('u' + 'rl').URL)")," : ").concat(getRelativeUrlFromDocument(relativePath),")");}};var accessedMetaUrlGlobals={amd:['document','module','URL'],cjs:['document','require','URL'],iife:['document','URL'],system:['module'],umd:['document','require','URL']};var accessedFileUrlGlobals={amd:['document','require','URL'],cjs:['document','require','URL'],iife:['document','URL'],system:['module','URL'],umd:['document','require','URL']};var ASSET_PREFIX='ROLLUP_ASSET_URL_';var CHUNK_PREFIX='ROLLUP_CHUNK_URL_';var FILE_PREFIX='ROLLUP_FILE_URL_';var MetaProperty=/*#__PURE__*/function(_NodeBase35){_inherits(MetaProperty,_NodeBase35);function MetaProperty(){_classCallCheck(this,MetaProperty);return _possibleConstructorReturn(this,_getPrototypeOf(MetaProperty).apply(this,arguments));}_createClass(MetaProperty,[{key:"hasEffects",value:function hasEffects(){return false;}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path){return path.length>1;}},{key:"include",value:function include(){if(!this.included){this.included=true;var parent=this.parent;var metaProperty=this.metaProperty=parent instanceof MemberExpression&&typeof parent.propertyKey==='string'?parent.propertyKey:null;if(metaProperty&&(metaProperty.startsWith(FILE_PREFIX)||metaProperty.startsWith(ASSET_PREFIX)||metaProperty.startsWith(CHUNK_PREFIX))){this.scope.addAccessedGlobalsByFormat(accessedFileUrlGlobals);}else{this.scope.addAccessedGlobalsByFormat(accessedMetaUrlGlobals);}}}},{key:"initialise",value:function initialise(){if(this.meta.name==='import'){this.context.addImportMeta(this);}}},{key:"renderFinalMechanism",value:function renderFinalMechanism(code,chunkId,format,outputPluginDriver){if(!this.included)return;var parent=this.parent;var metaProperty=this.metaProperty;if(metaProperty&&(metaProperty.startsWith(FILE_PREFIX)||metaProperty.startsWith(ASSET_PREFIX)||metaProperty.startsWith(CHUNK_PREFIX))){var referenceId=null;var assetReferenceId=null;var chunkReferenceId=null;var fileName;if(metaProperty.startsWith(FILE_PREFIX)){referenceId=metaProperty.substr(FILE_PREFIX.length);fileName=outputPluginDriver.getFileName(referenceId);}else if(metaProperty.startsWith(ASSET_PREFIX)){this.context.warnDeprecation("Using the \"".concat(ASSET_PREFIX,"\" prefix to reference files is deprecated. Use the \"").concat(FILE_PREFIX,"\" prefix instead."),false);assetReferenceId=metaProperty.substr(ASSET_PREFIX.length);fileName=outputPluginDriver.getFileName(assetReferenceId);}else{this.context.warnDeprecation("Using the \"".concat(CHUNK_PREFIX,"\" prefix to reference files is deprecated. Use the \"").concat(FILE_PREFIX,"\" prefix instead."),false);chunkReferenceId=metaProperty.substr(CHUNK_PREFIX.length);fileName=outputPluginDriver.getFileName(chunkReferenceId);}var _relativePath=normalize(path.relative(path.dirname(chunkId),fileName));var _replacement;if(assetReferenceId!==null){_replacement=outputPluginDriver.hookFirstSync('resolveAssetUrl',[{assetFileName:fileName,chunkId:chunkId,format:format,moduleId:this.context.module.id,relativeAssetPath:_relativePath}]);}if(!_replacement){_replacement=outputPluginDriver.hookFirstSync('resolveFileUrl',[{assetReferenceId:assetReferenceId,chunkId:chunkId,chunkReferenceId:chunkReferenceId,fileName:fileName,format:format,moduleId:this.context.module.id,referenceId:referenceId||assetReferenceId||chunkReferenceId,relativePath:_relativePath}]);}code.overwrite(parent.start,parent.end,_replacement,{contentOnly:true});return;}var replacement=outputPluginDriver.hookFirstSync('resolveImportMeta',[metaProperty,{chunkId:chunkId,format:format,moduleId:this.context.module.id}]);if(typeof replacement==='string'){if(parent instanceof MemberExpression){code.overwrite(parent.start,parent.end,replacement,{contentOnly:true});}else{code.overwrite(this.start,this.end,replacement,{contentOnly:true});}}}}]);return MetaProperty;}(NodeBase);var MethodDefinition=/*#__PURE__*/function(_NodeBase36){_inherits(MethodDefinition,_NodeBase36);function MethodDefinition(){_classCallCheck(this,MethodDefinition);return _possibleConstructorReturn(this,_getPrototypeOf(MethodDefinition).apply(this,arguments));}_createClass(MethodDefinition,[{key:"hasEffects",value:function hasEffects(context){return this.key.hasEffects(context);}},{key:"hasEffectsWhenCalledAtPath",value:function hasEffectsWhenCalledAtPath(path,callOptions,context){return path.length>0||this.value.hasEffectsWhenCalledAtPath(EMPTY_PATH,callOptions,context);}}]);return MethodDefinition;}(NodeBase);var NewExpression=/*#__PURE__*/function(_NodeBase37){_inherits(NewExpression,_NodeBase37);function NewExpression(){_classCallCheck(this,NewExpression);return _possibleConstructorReturn(this,_getPrototypeOf(NewExpression).apply(this,arguments));}_createClass(NewExpression,[{key:"bind",value:function bind(){_get(_getPrototypeOf(NewExpression.prototype),"bind",this).call(this);var _iteratorNormalCompletion86=true;var _didIteratorError86=false;var _iteratorError86=undefined;try{for(var _iterator86=this.arguments[Symbol.iterator](),_step86;!(_iteratorNormalCompletion86=(_step86=_iterator86.next()).done);_iteratorNormalCompletion86=true){var argument=_step86.value;// This will make sure all properties of parameters behave as "unknown"
argument.deoptimizePath(UNKNOWN_PATH);}}catch(err){_didIteratorError86=true;_iteratorError86=err;}finally{try{if(!_iteratorNormalCompletion86&&_iterator86["return"]!=null){_iterator86["return"]();}}finally{if(_didIteratorError86){throw _iteratorError86;}}}}},{key:"hasEffects",value:function hasEffects(context){var _iteratorNormalCompletion87=true;var _didIteratorError87=false;var _iteratorError87=undefined;try{for(var _iterator87=this.arguments[Symbol.iterator](),_step87;!(_iteratorNormalCompletion87=(_step87=_iterator87.next()).done);_iteratorNormalCompletion87=true){var argument=_step87.value;if(argument.hasEffects(context))return true;}}catch(err){_didIteratorError87=true;_iteratorError87=err;}finally{try{if(!_iteratorNormalCompletion87&&_iterator87["return"]!=null){_iterator87["return"]();}}finally{if(_didIteratorError87){throw _iteratorError87;}}}if(this.context.annotations&&this.annotatedPure)return false;return this.callee.hasEffects(context)||this.callee.hasEffectsWhenCalledAtPath(EMPTY_PATH,this.callOptions,context);}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path){return path.length>1;}},{key:"initialise",value:function initialise(){this.callOptions={args:this.arguments,withNew:true};}}]);return NewExpression;}(NodeBase);var SpreadElement=/*#__PURE__*/function(_NodeBase38){_inherits(SpreadElement,_NodeBase38);function SpreadElement(){_classCallCheck(this,SpreadElement);return _possibleConstructorReturn(this,_getPrototypeOf(SpreadElement).apply(this,arguments));}_createClass(SpreadElement,[{key:"bind",value:function bind(){_get(_getPrototypeOf(SpreadElement.prototype),"bind",this).call(this);// Only properties of properties of the argument could become subject to reassignment
// This will also reassign the return values of iterators
this.argument.deoptimizePath([UnknownKey,UnknownKey]);}}]);return SpreadElement;}(NodeBase);var ObjectExpression=/*#__PURE__*/function(_NodeBase39){_inherits(ObjectExpression,_NodeBase39);function ObjectExpression(){var _this23;_classCallCheck(this,ObjectExpression);_this23=_possibleConstructorReturn(this,_getPrototypeOf(ObjectExpression).apply(this,arguments));_this23.deoptimizedPaths=new Set();// We collect deoptimization information if we can resolve a computed property access
_this23.expressionsToBeDeoptimized=new Map();_this23.hasUnknownDeoptimizedProperty=false;_this23.propertyMap=null;_this23.unmatchablePropertiesRead=[];_this23.unmatchablePropertiesWrite=[];return _this23;}_createClass(ObjectExpression,[{key:"bind",value:function bind(){_get(_getPrototypeOf(ObjectExpression.prototype),"bind",this).call(this);// ensure the propertyMap is set for the tree-shaking passes
this.getPropertyMap();}// We could also track this per-property but this would quickly become much more complex
},{key:"deoptimizeCache",value:function deoptimizeCache(){if(!this.hasUnknownDeoptimizedProperty)this.deoptimizeAllProperties();}},{key:"deoptimizePath",value:function deoptimizePath(path){if(this.hasUnknownDeoptimizedProperty)return;var propertyMap=this.getPropertyMap();var key=path[0];if(path.length===1){if(typeof key!=='string'){this.deoptimizeAllProperties();return;}if(!this.deoptimizedPaths.has(key)){this.deoptimizedPaths.add(key);// we only deoptimizeCache exact matches as in all other cases,
// we do not return a literal value or return expression
var expressionsToBeDeoptimized=this.expressionsToBeDeoptimized.get(key);if(expressionsToBeDeoptimized){var _iteratorNormalCompletion88=true;var _didIteratorError88=false;var _iteratorError88=undefined;try{for(var _iterator88=expressionsToBeDeoptimized[Symbol.iterator](),_step88;!(_iteratorNormalCompletion88=(_step88=_iterator88.next()).done);_iteratorNormalCompletion88=true){var expression=_step88.value;expression.deoptimizeCache();}}catch(err){_didIteratorError88=true;_iteratorError88=err;}finally{try{if(!_iteratorNormalCompletion88&&_iterator88["return"]!=null){_iterator88["return"]();}}finally{if(_didIteratorError88){throw _iteratorError88;}}}}}}var subPath=path.length===1?UNKNOWN_PATH:path.slice(1);var _iteratorNormalCompletion89=true;var _didIteratorError89=false;var _iteratorError89=undefined;try{for(var _iterator89=(typeof key==='string'?propertyMap[key]?propertyMap[key].propertiesRead:[]:this.properties)[Symbol.iterator](),_step89;!(_iteratorNormalCompletion89=(_step89=_iterator89.next()).done);_iteratorNormalCompletion89=true){var _property=_step89.value;_property.deoptimizePath(subPath);}}catch(err){_didIteratorError89=true;_iteratorError89=err;}finally{try{if(!_iteratorNormalCompletion89&&_iterator89["return"]!=null){_iterator89["return"]();}}finally{if(_didIteratorError89){throw _iteratorError89;}}}}},{key:"getLiteralValueAtPath",value:function getLiteralValueAtPath(path,recursionTracker,origin){var propertyMap=this.getPropertyMap();var key=path[0];if(path.length===0||this.hasUnknownDeoptimizedProperty||typeof key!=='string'||this.deoptimizedPaths.has(key))return UnknownValue;if(path.length===1&&!propertyMap[key]&&!objectMembers[key]&&this.unmatchablePropertiesRead.length===0){var _expressionsToBeDeoptimized=this.expressionsToBeDeoptimized.get(key);if(_expressionsToBeDeoptimized){_expressionsToBeDeoptimized.push(origin);}else{this.expressionsToBeDeoptimized.set(key,[origin]);}return undefined;}if(!propertyMap[key]||propertyMap[key].exactMatchRead===null||propertyMap[key].propertiesRead.length>1){return UnknownValue;}var expressionsToBeDeoptimized=this.expressionsToBeDeoptimized.get(key);if(expressionsToBeDeoptimized){expressionsToBeDeoptimized.push(origin);}else{this.expressionsToBeDeoptimized.set(key,[origin]);}return propertyMap[key].exactMatchRead.getLiteralValueAtPath(path.slice(1),recursionTracker,origin);}},{key:"getReturnExpressionWhenCalledAtPath",value:function getReturnExpressionWhenCalledAtPath(path,recursionTracker,origin){var propertyMap=this.getPropertyMap();var key=path[0];if(path.length===0||this.hasUnknownDeoptimizedProperty||typeof key!=='string'||this.deoptimizedPaths.has(key))return UNKNOWN_EXPRESSION;if(path.length===1&&objectMembers[key]&&this.unmatchablePropertiesRead.length===0&&(!propertyMap[key]||propertyMap[key].exactMatchRead===null))return getMemberReturnExpressionWhenCalled(objectMembers,key);if(!propertyMap[key]||propertyMap[key].exactMatchRead===null||propertyMap[key].propertiesRead.length>1)return UNKNOWN_EXPRESSION;var expressionsToBeDeoptimized=this.expressionsToBeDeoptimized.get(key);if(expressionsToBeDeoptimized){expressionsToBeDeoptimized.push(origin);}else{this.expressionsToBeDeoptimized.set(key,[origin]);}return propertyMap[key].exactMatchRead.getReturnExpressionWhenCalledAtPath(path.slice(1),recursionTracker,origin);}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path,context){if(path.length===0)return false;var key=path[0];var propertyMap=this.propertyMap;if(path.length>1&&(this.hasUnknownDeoptimizedProperty||typeof key!=='string'||this.deoptimizedPaths.has(key)||!propertyMap[key]||propertyMap[key].exactMatchRead===null))return true;var subPath=path.slice(1);var _iteratorNormalCompletion90=true;var _didIteratorError90=false;var _iteratorError90=undefined;try{for(var _iterator90=(typeof key!=='string'?this.properties:propertyMap[key]?propertyMap[key].propertiesRead:[])[Symbol.iterator](),_step90;!(_iteratorNormalCompletion90=(_step90=_iterator90.next()).done);_iteratorNormalCompletion90=true){var _property2=_step90.value;if(_property2.hasEffectsWhenAccessedAtPath(subPath,context))return true;}}catch(err){_didIteratorError90=true;_iteratorError90=err;}finally{try{if(!_iteratorNormalCompletion90&&_iterator90["return"]!=null){_iterator90["return"]();}}finally{if(_didIteratorError90){throw _iteratorError90;}}}return false;}},{key:"hasEffectsWhenAssignedAtPath",value:function hasEffectsWhenAssignedAtPath(path,context){var key=path[0];var propertyMap=this.propertyMap;if(path.length>1&&(this.hasUnknownDeoptimizedProperty||this.deoptimizedPaths.has(key)||!propertyMap[key]||propertyMap[key].exactMatchRead===null)){return true;}var subPath=path.slice(1);var _iteratorNormalCompletion91=true;var _didIteratorError91=false;var _iteratorError91=undefined;try{for(var _iterator91=(typeof key!=='string'?this.properties:path.length>1?propertyMap[key].propertiesRead:propertyMap[key]?propertyMap[key].propertiesWrite:[])[Symbol.iterator](),_step91;!(_iteratorNormalCompletion91=(_step91=_iterator91.next()).done);_iteratorNormalCompletion91=true){var _property3=_step91.value;if(_property3.hasEffectsWhenAssignedAtPath(subPath,context))return true;}}catch(err){_didIteratorError91=true;_iteratorError91=err;}finally{try{if(!_iteratorNormalCompletion91&&_iterator91["return"]!=null){_iterator91["return"]();}}finally{if(_didIteratorError91){throw _iteratorError91;}}}return false;}},{key:"hasEffectsWhenCalledAtPath",value:function hasEffectsWhenCalledAtPath(path,callOptions,context){var key=path[0];if(typeof key!=='string'||this.hasUnknownDeoptimizedProperty||this.deoptimizedPaths.has(key)||(this.propertyMap[key]?!this.propertyMap[key].exactMatchRead:path.length>1||!objectMembers[key])){return true;}var subPath=path.slice(1);if(this.propertyMap[key]){var _iteratorNormalCompletion92=true;var _didIteratorError92=false;var _iteratorError92=undefined;try{for(var _iterator92=this.propertyMap[key].propertiesRead[Symbol.iterator](),_step92;!(_iteratorNormalCompletion92=(_step92=_iterator92.next()).done);_iteratorNormalCompletion92=true){var _property4=_step92.value;if(_property4.hasEffectsWhenCalledAtPath(subPath,callOptions,context))return true;}}catch(err){_didIteratorError92=true;_iteratorError92=err;}finally{try{if(!_iteratorNormalCompletion92&&_iterator92["return"]!=null){_iterator92["return"]();}}finally{if(_didIteratorError92){throw _iteratorError92;}}}}if(path.length===1&&objectMembers[key])return hasMemberEffectWhenCalled(objectMembers,key,this.included,callOptions,context);return false;}},{key:"render",value:function render(code,options){var _ref19=arguments.length>2&&arguments[2]!==undefined?arguments[2]:BLANK,renderedParentType=_ref19.renderedParentType;_get(_getPrototypeOf(ObjectExpression.prototype),"render",this).call(this,code,options);if(renderedParentType===ExpressionStatement){code.appendRight(this.start,'(');code.prependLeft(this.end,')');}}},{key:"deoptimizeAllProperties",value:function deoptimizeAllProperties(){this.hasUnknownDeoptimizedProperty=true;var _iteratorNormalCompletion93=true;var _didIteratorError93=false;var _iteratorError93=undefined;try{for(var _iterator93=this.properties[Symbol.iterator](),_step93;!(_iteratorNormalCompletion93=(_step93=_iterator93.next()).done);_iteratorNormalCompletion93=true){var _property5=_step93.value;_property5.deoptimizePath(UNKNOWN_PATH);}}catch(err){_didIteratorError93=true;_iteratorError93=err;}finally{try{if(!_iteratorNormalCompletion93&&_iterator93["return"]!=null){_iterator93["return"]();}}finally{if(_didIteratorError93){throw _iteratorError93;}}}var _iteratorNormalCompletion94=true;var _didIteratorError94=false;var _iteratorError94=undefined;try{for(var _iterator94=this.expressionsToBeDeoptimized.values()[Symbol.iterator](),_step94;!(_iteratorNormalCompletion94=(_step94=_iterator94.next()).done);_iteratorNormalCompletion94=true){var expressionsToBeDeoptimized=_step94.value;var _iteratorNormalCompletion95=true;var _didIteratorError95=false;var _iteratorError95=undefined;try{for(var _iterator95=expressionsToBeDeoptimized[Symbol.iterator](),_step95;!(_iteratorNormalCompletion95=(_step95=_iterator95.next()).done);_iteratorNormalCompletion95=true){var expression=_step95.value;expression.deoptimizeCache();}}catch(err){_didIteratorError95=true;_iteratorError95=err;}finally{try{if(!_iteratorNormalCompletion95&&_iterator95["return"]!=null){_iterator95["return"]();}}finally{if(_didIteratorError95){throw _iteratorError95;}}}}}catch(err){_didIteratorError94=true;_iteratorError94=err;}finally{try{if(!_iteratorNormalCompletion94&&_iterator94["return"]!=null){_iterator94["return"]();}}finally{if(_didIteratorError94){throw _iteratorError94;}}}}},{key:"getPropertyMap",value:function getPropertyMap(){if(this.propertyMap!==null){return this.propertyMap;}var propertyMap=this.propertyMap=Object.create(null);for(var index=this.properties.length-1;index>=0;index--){var _property6=this.properties[index];if(_property6 instanceof SpreadElement){this.unmatchablePropertiesRead.push(_property6);continue;}var isWrite=_property6.kind!=='get';var isRead=_property6.kind!=='set';var key=void 0;if(_property6.computed){var keyValue=_property6.key.getLiteralValueAtPath(EMPTY_PATH,SHARED_RECURSION_TRACKER,this);if(keyValue===UnknownValue){if(isRead){this.unmatchablePropertiesRead.push(_property6);}else{this.unmatchablePropertiesWrite.push(_property6);}continue;}key=String(keyValue);}else if(_property6.key instanceof Identifier$1){key=_property6.key.name;}else{key=String(_property6.key.value);}var propertyMapProperty=propertyMap[key];if(!propertyMapProperty){propertyMap[key]={exactMatchRead:isRead?_property6:null,exactMatchWrite:isWrite?_property6:null,propertiesRead:isRead?[_property6].concat(_toConsumableArray(this.unmatchablePropertiesRead)):[],propertiesWrite:isWrite&&!isRead?[_property6].concat(_toConsumableArray(this.unmatchablePropertiesWrite)):[]};continue;}if(isRead&&propertyMapProperty.exactMatchRead===null){var _propertyMapProperty$;propertyMapProperty.exactMatchRead=_property6;(_propertyMapProperty$=propertyMapProperty.propertiesRead).push.apply(_propertyMapProperty$,[_property6].concat(_toConsumableArray(this.unmatchablePropertiesRead)));}if(isWrite&&!isRead&&propertyMapProperty.exactMatchWrite===null){var _propertyMapProperty$2;propertyMapProperty.exactMatchWrite=_property6;(_propertyMapProperty$2=propertyMapProperty.propertiesWrite).push.apply(_propertyMapProperty$2,[_property6].concat(_toConsumableArray(this.unmatchablePropertiesWrite)));}}return propertyMap;}}]);return ObjectExpression;}(NodeBase);var ObjectPattern=/*#__PURE__*/function(_NodeBase40){_inherits(ObjectPattern,_NodeBase40);function ObjectPattern(){_classCallCheck(this,ObjectPattern);return _possibleConstructorReturn(this,_getPrototypeOf(ObjectPattern).apply(this,arguments));}_createClass(ObjectPattern,[{key:"addExportedVariables",value:function addExportedVariables(variables){var _iteratorNormalCompletion96=true;var _didIteratorError96=false;var _iteratorError96=undefined;try{for(var _iterator96=this.properties[Symbol.iterator](),_step96;!(_iteratorNormalCompletion96=(_step96=_iterator96.next()).done);_iteratorNormalCompletion96=true){var _property7=_step96.value;if(_property7.type===Property){_property7.value.addExportedVariables(variables);}else{_property7.argument.addExportedVariables(variables);}}}catch(err){_didIteratorError96=true;_iteratorError96=err;}finally{try{if(!_iteratorNormalCompletion96&&_iterator96["return"]!=null){_iterator96["return"]();}}finally{if(_didIteratorError96){throw _iteratorError96;}}}}},{key:"declare",value:function declare(kind,init){var variables=[];var _iteratorNormalCompletion97=true;var _didIteratorError97=false;var _iteratorError97=undefined;try{for(var _iterator97=this.properties[Symbol.iterator](),_step97;!(_iteratorNormalCompletion97=(_step97=_iterator97.next()).done);_iteratorNormalCompletion97=true){var _property8=_step97.value;variables.push.apply(variables,_toConsumableArray(_property8.declare(kind,init)));}}catch(err){_didIteratorError97=true;_iteratorError97=err;}finally{try{if(!_iteratorNormalCompletion97&&_iterator97["return"]!=null){_iterator97["return"]();}}finally{if(_didIteratorError97){throw _iteratorError97;}}}return variables;}},{key:"deoptimizePath",value:function deoptimizePath(path){if(path.length===0){var _iteratorNormalCompletion98=true;var _didIteratorError98=false;var _iteratorError98=undefined;try{for(var _iterator98=this.properties[Symbol.iterator](),_step98;!(_iteratorNormalCompletion98=(_step98=_iterator98.next()).done);_iteratorNormalCompletion98=true){var _property9=_step98.value;_property9.deoptimizePath(path);}}catch(err){_didIteratorError98=true;_iteratorError98=err;}finally{try{if(!_iteratorNormalCompletion98&&_iterator98["return"]!=null){_iterator98["return"]();}}finally{if(_didIteratorError98){throw _iteratorError98;}}}}}},{key:"hasEffectsWhenAssignedAtPath",value:function hasEffectsWhenAssignedAtPath(path,context){if(path.length>0)return true;var _iteratorNormalCompletion99=true;var _didIteratorError99=false;var _iteratorError99=undefined;try{for(var _iterator99=this.properties[Symbol.iterator](),_step99;!(_iteratorNormalCompletion99=(_step99=_iterator99.next()).done);_iteratorNormalCompletion99=true){var _property10=_step99.value;if(_property10.hasEffectsWhenAssignedAtPath(EMPTY_PATH,context))return true;}}catch(err){_didIteratorError99=true;_iteratorError99=err;}finally{try{if(!_iteratorNormalCompletion99&&_iterator99["return"]!=null){_iterator99["return"]();}}finally{if(_didIteratorError99){throw _iteratorError99;}}}return false;}}]);return ObjectPattern;}(NodeBase);var Program$1=/*#__PURE__*/function(_NodeBase41){_inherits(Program$1,_NodeBase41);function Program$1(){_classCallCheck(this,Program$1);return _possibleConstructorReturn(this,_getPrototypeOf(Program$1).apply(this,arguments));}_createClass(Program$1,[{key:"hasEffects",value:function hasEffects(context){var _iteratorNormalCompletion100=true;var _didIteratorError100=false;var _iteratorError100=undefined;try{for(var _iterator100=this.body[Symbol.iterator](),_step100;!(_iteratorNormalCompletion100=(_step100=_iterator100.next()).done);_iteratorNormalCompletion100=true){var node=_step100.value;if(node.hasEffects(context))return true;}}catch(err){_didIteratorError100=true;_iteratorError100=err;}finally{try{if(!_iteratorNormalCompletion100&&_iterator100["return"]!=null){_iterator100["return"]();}}finally{if(_didIteratorError100){throw _iteratorError100;}}}return false;}},{key:"include",value:function include(context,includeChildrenRecursively){this.included=true;var _iteratorNormalCompletion101=true;var _didIteratorError101=false;var _iteratorError101=undefined;try{for(var _iterator101=this.body[Symbol.iterator](),_step101;!(_iteratorNormalCompletion101=(_step101=_iterator101.next()).done);_iteratorNormalCompletion101=true){var node=_step101.value;if(includeChildrenRecursively||node.shouldBeIncluded(context)){node.include(context,includeChildrenRecursively);}}}catch(err){_didIteratorError101=true;_iteratorError101=err;}finally{try{if(!_iteratorNormalCompletion101&&_iterator101["return"]!=null){_iterator101["return"]();}}finally{if(_didIteratorError101){throw _iteratorError101;}}}}},{key:"render",value:function render(code,options){if(this.body.length){renderStatementList(this.body,code,this.start,this.end,options);}else{_get(_getPrototypeOf(Program$1.prototype),"render",this).call(this,code,options);}}}]);return Program$1;}(NodeBase);var Property$1=/*#__PURE__*/function(_NodeBase42){_inherits(Property$1,_NodeBase42);function Property$1(){var _this24;_classCallCheck(this,Property$1);_this24=_possibleConstructorReturn(this,_getPrototypeOf(Property$1).apply(this,arguments));_this24.declarationInit=null;_this24.returnExpression=null;return _this24;}_createClass(Property$1,[{key:"bind",value:function bind(){_get(_getPrototypeOf(Property$1.prototype),"bind",this).call(this);if(this.kind==='get'){// ensure the returnExpression is set for the tree-shaking passes
this.getReturnExpression();}if(this.declarationInit!==null){this.declarationInit.deoptimizePath([UnknownKey,UnknownKey]);}}},{key:"declare",value:function declare(kind,init){this.declarationInit=init;return this.value.declare(kind,UNKNOWN_EXPRESSION);}// As getter properties directly receive their values from function expressions that always
// have a fixed return value, there is no known situation where a getter is deoptimized.
},{key:"deoptimizeCache",value:function deoptimizeCache(){}},{key:"deoptimizePath",value:function deoptimizePath(path){if(this.kind==='get'){this.getReturnExpression().deoptimizePath(path);}else{this.value.deoptimizePath(path);}}},{key:"getLiteralValueAtPath",value:function getLiteralValueAtPath(path,recursionTracker,origin){if(this.kind==='get'){return this.getReturnExpression().getLiteralValueAtPath(path,recursionTracker,origin);}return this.value.getLiteralValueAtPath(path,recursionTracker,origin);}},{key:"getReturnExpressionWhenCalledAtPath",value:function getReturnExpressionWhenCalledAtPath(path,recursionTracker,origin){if(this.kind==='get'){return this.getReturnExpression().getReturnExpressionWhenCalledAtPath(path,recursionTracker,origin);}return this.value.getReturnExpressionWhenCalledAtPath(path,recursionTracker,origin);}},{key:"hasEffects",value:function hasEffects(context){return this.key.hasEffects(context)||this.value.hasEffects(context);}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path,context){if(this.kind==='get'){var trackedExpressions=context.accessed.getEntities(path);if(trackedExpressions.has(this))return false;trackedExpressions.add(this);return this.value.hasEffectsWhenCalledAtPath(EMPTY_PATH,this.accessorCallOptions,context)||path.length>0&&this.returnExpression.hasEffectsWhenAccessedAtPath(path,context);}return this.value.hasEffectsWhenAccessedAtPath(path,context);}},{key:"hasEffectsWhenAssignedAtPath",value:function hasEffectsWhenAssignedAtPath(path,context){if(this.kind==='get'){var trackedExpressions=context.assigned.getEntities(path);if(trackedExpressions.has(this))return false;trackedExpressions.add(this);return this.returnExpression.hasEffectsWhenAssignedAtPath(path,context);}if(this.kind==='set'){var _trackedExpressions=context.assigned.getEntities(path);if(_trackedExpressions.has(this))return false;_trackedExpressions.add(this);return this.value.hasEffectsWhenCalledAtPath(EMPTY_PATH,this.accessorCallOptions,context);}return this.value.hasEffectsWhenAssignedAtPath(path,context);}},{key:"hasEffectsWhenCalledAtPath",value:function hasEffectsWhenCalledAtPath(path,callOptions,context){if(this.kind==='get'){var trackedExpressions=(callOptions.withNew?context.instantiated:context.called).getEntities(path);if(trackedExpressions.has(this))return false;trackedExpressions.add(this);return this.returnExpression.hasEffectsWhenCalledAtPath(path,callOptions,context);}return this.value.hasEffectsWhenCalledAtPath(path,callOptions,context);}},{key:"initialise",value:function initialise(){this.accessorCallOptions={args:NO_ARGS,withNew:false};}},{key:"render",value:function render(code,options){if(!this.shorthand){this.key.render(code,options);}this.value.render(code,options,{isShorthandProperty:this.shorthand});}},{key:"getReturnExpression",value:function getReturnExpression(){if(this.returnExpression===null){this.returnExpression=UNKNOWN_EXPRESSION;return this.returnExpression=this.value.getReturnExpressionWhenCalledAtPath(EMPTY_PATH,SHARED_RECURSION_TRACKER,this);}return this.returnExpression;}}]);return Property$1;}(NodeBase);var ReturnStatement$1=/*#__PURE__*/function(_NodeBase43){_inherits(ReturnStatement$1,_NodeBase43);function ReturnStatement$1(){_classCallCheck(this,ReturnStatement$1);return _possibleConstructorReturn(this,_getPrototypeOf(ReturnStatement$1).apply(this,arguments));}_createClass(ReturnStatement$1,[{key:"hasEffects",value:function hasEffects(context){if(!context.ignore.returnAwaitYield||this.argument!==null&&this.argument.hasEffects(context))return true;context.brokenFlow=BROKEN_FLOW_ERROR_RETURN_LABEL;return false;}},{key:"include",value:function include(context,includeChildrenRecursively){this.included=true;if(this.argument){this.argument.include(context,includeChildrenRecursively);}context.brokenFlow=BROKEN_FLOW_ERROR_RETURN_LABEL;}},{key:"initialise",value:function initialise(){this.scope.addReturnExpression(this.argument||UNKNOWN_EXPRESSION);}},{key:"render",value:function render(code,options){if(this.argument){this.argument.render(code,options,{preventASI:true});if(this.argument.start===this.start+6/* 'return'.length */){code.prependLeft(this.start+6,' ');}}}}]);return ReturnStatement$1;}(NodeBase);var SequenceExpression=/*#__PURE__*/function(_NodeBase44){_inherits(SequenceExpression,_NodeBase44);function SequenceExpression(){_classCallCheck(this,SequenceExpression);return _possibleConstructorReturn(this,_getPrototypeOf(SequenceExpression).apply(this,arguments));}_createClass(SequenceExpression,[{key:"deoptimizePath",value:function deoptimizePath(path){if(path.length>0)this.expressions[this.expressions.length-1].deoptimizePath(path);}},{key:"getLiteralValueAtPath",value:function getLiteralValueAtPath(path,recursionTracker,origin){return this.expressions[this.expressions.length-1].getLiteralValueAtPath(path,recursionTracker,origin);}},{key:"hasEffects",value:function hasEffects(context){var _iteratorNormalCompletion102=true;var _didIteratorError102=false;var _iteratorError102=undefined;try{for(var _iterator102=this.expressions[Symbol.iterator](),_step102;!(_iteratorNormalCompletion102=(_step102=_iterator102.next()).done);_iteratorNormalCompletion102=true){var expression=_step102.value;if(expression.hasEffects(context))return true;}}catch(err){_didIteratorError102=true;_iteratorError102=err;}finally{try{if(!_iteratorNormalCompletion102&&_iterator102["return"]!=null){_iterator102["return"]();}}finally{if(_didIteratorError102){throw _iteratorError102;}}}return false;}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path,context){return path.length>0&&this.expressions[this.expressions.length-1].hasEffectsWhenAccessedAtPath(path,context);}},{key:"hasEffectsWhenAssignedAtPath",value:function hasEffectsWhenAssignedAtPath(path,context){return path.length===0||this.expressions[this.expressions.length-1].hasEffectsWhenAssignedAtPath(path,context);}},{key:"hasEffectsWhenCalledAtPath",value:function hasEffectsWhenCalledAtPath(path,callOptions,context){return this.expressions[this.expressions.length-1].hasEffectsWhenCalledAtPath(path,callOptions,context);}},{key:"include",value:function include(context,includeChildrenRecursively){this.included=true;for(var _i8=0;_i8<this.expressions.length-1;_i8++){var node=this.expressions[_i8];if(includeChildrenRecursively||node.shouldBeIncluded(context))node.include(context,includeChildrenRecursively);}this.expressions[this.expressions.length-1].include(context,includeChildrenRecursively);}},{key:"render",value:function render(code,options){var _ref20=arguments.length>2&&arguments[2]!==undefined?arguments[2]:BLANK,renderedParentType=_ref20.renderedParentType,isCalleeOfRenderedParent=_ref20.isCalleeOfRenderedParent,preventASI=_ref20.preventASI;var includedNodes=0;var _iteratorNormalCompletion103=true;var _didIteratorError103=false;var _iteratorError103=undefined;try{for(var _iterator103=getCommaSeparatedNodesWithBoundaries(this.expressions,code,this.start,this.end)[Symbol.iterator](),_step103;!(_iteratorNormalCompletion103=(_step103=_iterator103.next()).done);_iteratorNormalCompletion103=true){var _step103$value=_step103.value,node=_step103$value.node,start=_step103$value.start,end=_step103$value.end;if(!node.included){treeshakeNode(node,code,start,end);continue;}includedNodes++;if(includedNodes===1&&preventASI){removeLineBreaks(code,start,node.start);}if(node===this.expressions[this.expressions.length-1]&&includedNodes===1){node.render(code,options,{isCalleeOfRenderedParent:renderedParentType?isCalleeOfRenderedParent:this.parent.callee===this,renderedParentType:renderedParentType||this.parent.type});}else{node.render(code,options);}}}catch(err){_didIteratorError103=true;_iteratorError103=err;}finally{try{if(!_iteratorNormalCompletion103&&_iterator103["return"]!=null){_iterator103["return"]();}}finally{if(_didIteratorError103){throw _iteratorError103;}}}}}]);return SequenceExpression;}(NodeBase);var SwitchCase=/*#__PURE__*/function(_NodeBase45){_inherits(SwitchCase,_NodeBase45);function SwitchCase(){_classCallCheck(this,SwitchCase);return _possibleConstructorReturn(this,_getPrototypeOf(SwitchCase).apply(this,arguments));}_createClass(SwitchCase,[{key:"hasEffects",value:function hasEffects(context){if(this.test&&this.test.hasEffects(context))return true;var _iteratorNormalCompletion104=true;var _didIteratorError104=false;var _iteratorError104=undefined;try{for(var _iterator104=this.consequent[Symbol.iterator](),_step104;!(_iteratorNormalCompletion104=(_step104=_iterator104.next()).done);_iteratorNormalCompletion104=true){var node=_step104.value;if(context.brokenFlow)break;if(node.hasEffects(context))return true;}}catch(err){_didIteratorError104=true;_iteratorError104=err;}finally{try{if(!_iteratorNormalCompletion104&&_iterator104["return"]!=null){_iterator104["return"]();}}finally{if(_didIteratorError104){throw _iteratorError104;}}}return false;}},{key:"include",value:function include(context,includeChildrenRecursively){this.included=true;if(this.test)this.test.include(context,includeChildrenRecursively);var _iteratorNormalCompletion105=true;var _didIteratorError105=false;var _iteratorError105=undefined;try{for(var _iterator105=this.consequent[Symbol.iterator](),_step105;!(_iteratorNormalCompletion105=(_step105=_iterator105.next()).done);_iteratorNormalCompletion105=true){var node=_step105.value;if(includeChildrenRecursively||node.shouldBeIncluded(context))node.include(context,includeChildrenRecursively);}}catch(err){_didIteratorError105=true;_iteratorError105=err;}finally{try{if(!_iteratorNormalCompletion105&&_iterator105["return"]!=null){_iterator105["return"]();}}finally{if(_didIteratorError105){throw _iteratorError105;}}}}},{key:"render",value:function render(code,options,nodeRenderOptions){if(this.consequent.length){this.test&&this.test.render(code,options);var testEnd=this.test?this.test.end:findFirstOccurrenceOutsideComment(code.original,'default',this.start)+7;var consequentStart=findFirstOccurrenceOutsideComment(code.original,':',testEnd)+1;renderStatementList(this.consequent,code,consequentStart,nodeRenderOptions.end,options);}else{_get(_getPrototypeOf(SwitchCase.prototype),"render",this).call(this,code,options);}}}]);return SwitchCase;}(NodeBase);SwitchCase.prototype.needsBoundaries=true;var SwitchStatement=/*#__PURE__*/function(_NodeBase46){_inherits(SwitchStatement,_NodeBase46);function SwitchStatement(){_classCallCheck(this,SwitchStatement);return _possibleConstructorReturn(this,_getPrototypeOf(SwitchStatement).apply(this,arguments));}_createClass(SwitchStatement,[{key:"createScope",value:function createScope(parentScope){this.scope=new BlockScope(parentScope);}},{key:"hasEffects",value:function hasEffects(context){if(this.discriminant.hasEffects(context))return true;var brokenFlow=context.brokenFlow,breaks=context.ignore.breaks;var minBrokenFlow=Infinity;context.ignore.breaks=true;var _iteratorNormalCompletion106=true;var _didIteratorError106=false;var _iteratorError106=undefined;try{for(var _iterator106=this.cases[Symbol.iterator](),_step106;!(_iteratorNormalCompletion106=(_step106=_iterator106.next()).done);_iteratorNormalCompletion106=true){var switchCase=_step106.value;if(switchCase.hasEffects(context))return true;minBrokenFlow=context.brokenFlow<minBrokenFlow?context.brokenFlow:minBrokenFlow;context.brokenFlow=brokenFlow;}}catch(err){_didIteratorError106=true;_iteratorError106=err;}finally{try{if(!_iteratorNormalCompletion106&&_iterator106["return"]!=null){_iterator106["return"]();}}finally{if(_didIteratorError106){throw _iteratorError106;}}}if(this.defaultCase!==null&&!(minBrokenFlow===BROKEN_FLOW_BREAK_CONTINUE)){context.brokenFlow=minBrokenFlow;}context.ignore.breaks=breaks;return false;}},{key:"include",value:function include(context,includeChildrenRecursively){this.included=true;this.discriminant.include(context,includeChildrenRecursively);var brokenFlow=context.brokenFlow;var minBrokenFlow=Infinity;var isCaseIncluded=includeChildrenRecursively||this.defaultCase!==null&&this.defaultCase<this.cases.length-1;for(var caseIndex=this.cases.length-1;caseIndex>=0;caseIndex--){var switchCase=this.cases[caseIndex];if(switchCase.included){isCaseIncluded=true;}if(!isCaseIncluded){var hasEffectsContext=createHasEffectsContext();hasEffectsContext.ignore.breaks=true;isCaseIncluded=switchCase.hasEffects(hasEffectsContext);}if(isCaseIncluded){switchCase.include(context,includeChildrenRecursively);minBrokenFlow=minBrokenFlow<context.brokenFlow?minBrokenFlow:context.brokenFlow;context.brokenFlow=brokenFlow;}else{minBrokenFlow=brokenFlow;}}if(isCaseIncluded&&this.defaultCase!==null&&!(minBrokenFlow===BROKEN_FLOW_BREAK_CONTINUE)){context.brokenFlow=minBrokenFlow;}}},{key:"initialise",value:function initialise(){for(var caseIndex=0;caseIndex<this.cases.length;caseIndex++){if(this.cases[caseIndex].test===null){this.defaultCase=caseIndex;return;}}this.defaultCase=null;}},{key:"render",value:function render(code,options){this.discriminant.render(code,options);if(this.cases.length>0){renderStatementList(this.cases,code,this.cases[0].start,this.end-1,options);}}}]);return SwitchStatement;}(NodeBase);var TaggedTemplateExpression=/*#__PURE__*/function(_NodeBase47){_inherits(TaggedTemplateExpression,_NodeBase47);function TaggedTemplateExpression(){_classCallCheck(this,TaggedTemplateExpression);return _possibleConstructorReturn(this,_getPrototypeOf(TaggedTemplateExpression).apply(this,arguments));}_createClass(TaggedTemplateExpression,[{key:"bind",value:function bind(){_get(_getPrototypeOf(TaggedTemplateExpression.prototype),"bind",this).call(this);if(this.tag.type===Identifier){var name=this.tag.name;var variable=this.scope.findVariable(name);if(variable.isNamespace){return this.context.error({code:'CANNOT_CALL_NAMESPACE',message:"Cannot call a namespace ('".concat(name,"')")},this.start);}if(name==='eval'){this.context.warn({code:'EVAL',message:"Use of eval is strongly discouraged, as it poses security risks and may cause issues with minification",url:'https://rollupjs.org/guide/en/#avoiding-eval'},this.start);}}}},{key:"hasEffects",value:function hasEffects(context){return _get(_getPrototypeOf(TaggedTemplateExpression.prototype),"hasEffects",this).call(this,context)||this.tag.hasEffectsWhenCalledAtPath(EMPTY_PATH,this.callOptions,context);}},{key:"initialise",value:function initialise(){this.callOptions={args:NO_ARGS,withNew:false};}}]);return TaggedTemplateExpression;}(NodeBase);var TemplateElement=/*#__PURE__*/function(_NodeBase48){_inherits(TemplateElement,_NodeBase48);function TemplateElement(){_classCallCheck(this,TemplateElement);return _possibleConstructorReturn(this,_getPrototypeOf(TemplateElement).apply(this,arguments));}_createClass(TemplateElement,[{key:"hasEffects",value:function hasEffects(){return false;}}]);return TemplateElement;}(NodeBase);var TemplateLiteral=/*#__PURE__*/function(_NodeBase49){_inherits(TemplateLiteral,_NodeBase49);function TemplateLiteral(){_classCallCheck(this,TemplateLiteral);return _possibleConstructorReturn(this,_getPrototypeOf(TemplateLiteral).apply(this,arguments));}_createClass(TemplateLiteral,[{key:"getLiteralValueAtPath",value:function getLiteralValueAtPath(path){if(path.length>0||this.quasis.length!==1){return UnknownValue;}return this.quasis[0].value.cooked;}},{key:"render",value:function render(code,options){code.indentExclusionRanges.push([this.start,this.end]);_get(_getPrototypeOf(TemplateLiteral.prototype),"render",this).call(this,code,options);}}]);return TemplateLiteral;}(NodeBase);var ModuleScope=/*#__PURE__*/function(_ChildScope3){_inherits(ModuleScope,_ChildScope3);function ModuleScope(parent,context){var _this25;_classCallCheck(this,ModuleScope);_this25=_possibleConstructorReturn(this,_getPrototypeOf(ModuleScope).call(this,parent));_this25.context=context;_this25.variables.set('this',new LocalVariable('this',null,UNDEFINED_EXPRESSION,context));return _this25;}_createClass(ModuleScope,[{key:"addExportDefaultDeclaration",value:function addExportDefaultDeclaration(name,exportDefaultDeclaration,context){var variable=new ExportDefaultVariable(name,exportDefaultDeclaration,context);this.variables.set('default',variable);return variable;}},{key:"addNamespaceMemberAccess",value:function addNamespaceMemberAccess(_name,variable){if(variable instanceof GlobalVariable){this.accessedOutsideVariables.set(variable.name,variable);}}},{key:"deconflict",value:function deconflict(format){// all module level variables are already deconflicted when deconflicting the chunk
var _iteratorNormalCompletion107=true;var _didIteratorError107=false;var _iteratorError107=undefined;try{for(var _iterator107=this.children[Symbol.iterator](),_step107;!(_iteratorNormalCompletion107=(_step107=_iterator107.next()).done);_iteratorNormalCompletion107=true){var scope=_step107.value;scope.deconflict(format);}}catch(err){_didIteratorError107=true;_iteratorError107=err;}finally{try{if(!_iteratorNormalCompletion107&&_iterator107["return"]!=null){_iterator107["return"]();}}finally{if(_didIteratorError107){throw _iteratorError107;}}}}},{key:"findLexicalBoundary",value:function findLexicalBoundary(){return this;}},{key:"findVariable",value:function findVariable(name){var knownVariable=this.variables.get(name)||this.accessedOutsideVariables.get(name);if(knownVariable){return knownVariable;}var variable=this.context.traceVariable(name)||this.parent.findVariable(name);if(variable instanceof GlobalVariable){this.accessedOutsideVariables.set(name,variable);}return variable;}}]);return ModuleScope;}(ChildScope);var ThisExpression=/*#__PURE__*/function(_NodeBase50){_inherits(ThisExpression,_NodeBase50);function ThisExpression(){_classCallCheck(this,ThisExpression);return _possibleConstructorReturn(this,_getPrototypeOf(ThisExpression).apply(this,arguments));}_createClass(ThisExpression,[{key:"bind",value:function bind(){_get(_getPrototypeOf(ThisExpression.prototype),"bind",this).call(this);this.variable=this.scope.findVariable('this');}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path,context){return path.length>0&&this.variable.hasEffectsWhenAccessedAtPath(path,context);}},{key:"hasEffectsWhenAssignedAtPath",value:function hasEffectsWhenAssignedAtPath(path,context){return this.variable.hasEffectsWhenAssignedAtPath(path,context);}},{key:"initialise",value:function initialise(){this.alias=this.scope.findLexicalBoundary()instanceof ModuleScope?this.context.moduleContext:null;if(this.alias==='undefined'){this.context.warn({code:'THIS_IS_UNDEFINED',message:"The 'this' keyword is equivalent to 'undefined' at the top level of an ES module, and has been rewritten",url:"https://rollupjs.org/guide/en/#error-this-is-undefined"},this.start);}}},{key:"render",value:function render(code){if(this.alias!==null){code.overwrite(this.start,this.end,this.alias,{contentOnly:false,storeName:true});}}}]);return ThisExpression;}(NodeBase);var ThrowStatement=/*#__PURE__*/function(_NodeBase51){_inherits(ThrowStatement,_NodeBase51);function ThrowStatement(){_classCallCheck(this,ThrowStatement);return _possibleConstructorReturn(this,_getPrototypeOf(ThrowStatement).apply(this,arguments));}_createClass(ThrowStatement,[{key:"hasEffects",value:function hasEffects(){return true;}},{key:"include",value:function include(context,includeChildrenRecursively){this.included=true;this.argument.include(context,includeChildrenRecursively);context.brokenFlow=BROKEN_FLOW_ERROR_RETURN_LABEL;}},{key:"render",value:function render(code,options){this.argument.render(code,options,{preventASI:true});if(this.argument.start===this.start+5/* 'throw'.length */){code.prependLeft(this.start+5,' ');}}}]);return ThrowStatement;}(NodeBase);var TryStatement=/*#__PURE__*/function(_NodeBase52){_inherits(TryStatement,_NodeBase52);function TryStatement(){var _this26;_classCallCheck(this,TryStatement);_this26=_possibleConstructorReturn(this,_getPrototypeOf(TryStatement).apply(this,arguments));_this26.directlyIncluded=false;return _this26;}_createClass(TryStatement,[{key:"hasEffects",value:function hasEffects(context){return(this.context.tryCatchDeoptimization?this.block.body.length>0:this.block.hasEffects(context))||this.finalizer!==null&&this.finalizer.hasEffects(context);}},{key:"include",value:function include(context,includeChildrenRecursively){var brokenFlow=context.brokenFlow;if(!this.directlyIncluded||!this.context.tryCatchDeoptimization){this.included=true;this.directlyIncluded=true;this.block.include(context,this.context.tryCatchDeoptimization?INCLUDE_PARAMETERS:includeChildrenRecursively);context.brokenFlow=brokenFlow;}if(this.handler!==null){this.handler.include(context,includeChildrenRecursively);context.brokenFlow=brokenFlow;}if(this.finalizer!==null){this.finalizer.include(context,includeChildrenRecursively);}}}]);return TryStatement;}(NodeBase);var unaryOperators={'!':function _(value){return!value;},'+':function _(value){return+value;},'-':function _(value){return-value;},"delete":function _delete(){return UnknownValue;},"typeof":function _typeof(value){return _typeof(value);},"void":function _void(){return undefined;},'~':function _(value){return~value;}};var UnaryExpression=/*#__PURE__*/function(_NodeBase53){_inherits(UnaryExpression,_NodeBase53);function UnaryExpression(){_classCallCheck(this,UnaryExpression);return _possibleConstructorReturn(this,_getPrototypeOf(UnaryExpression).apply(this,arguments));}_createClass(UnaryExpression,[{key:"bind",value:function bind(){_get(_getPrototypeOf(UnaryExpression.prototype),"bind",this).call(this);if(this.operator==='delete'){this.argument.deoptimizePath(EMPTY_PATH);}}},{key:"getLiteralValueAtPath",value:function getLiteralValueAtPath(path,recursionTracker,origin){if(path.length>0)return UnknownValue;var argumentValue=this.argument.getLiteralValueAtPath(EMPTY_PATH,recursionTracker,origin);if(argumentValue===UnknownValue)return UnknownValue;return unaryOperators[this.operator](argumentValue);}},{key:"hasEffects",value:function hasEffects(context){if(this.operator==='typeof'&&this.argument instanceof Identifier$1)return false;return this.argument.hasEffects(context)||this.operator==='delete'&&this.argument.hasEffectsWhenAssignedAtPath(EMPTY_PATH,context);}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path){if(this.operator==='void'){return path.length>0;}return path.length>1;}}]);return UnaryExpression;}(NodeBase);var UnknownNode=/*#__PURE__*/function(_NodeBase54){_inherits(UnknownNode,_NodeBase54);function UnknownNode(){_classCallCheck(this,UnknownNode);return _possibleConstructorReturn(this,_getPrototypeOf(UnknownNode).apply(this,arguments));}_createClass(UnknownNode,[{key:"hasEffects",value:function hasEffects(){return true;}},{key:"include",value:function include(context){_get(_getPrototypeOf(UnknownNode.prototype),"include",this).call(this,context,true);}}]);return UnknownNode;}(NodeBase);var UpdateExpression=/*#__PURE__*/function(_NodeBase55){_inherits(UpdateExpression,_NodeBase55);function UpdateExpression(){_classCallCheck(this,UpdateExpression);return _possibleConstructorReturn(this,_getPrototypeOf(UpdateExpression).apply(this,arguments));}_createClass(UpdateExpression,[{key:"bind",value:function bind(){_get(_getPrototypeOf(UpdateExpression.prototype),"bind",this).call(this);this.argument.deoptimizePath(EMPTY_PATH);if(this.argument instanceof Identifier$1){var variable=this.scope.findVariable(this.argument.name);variable.isReassigned=true;}}},{key:"hasEffects",value:function hasEffects(context){return this.argument.hasEffects(context)||this.argument.hasEffectsWhenAssignedAtPath(EMPTY_PATH,context);}},{key:"hasEffectsWhenAccessedAtPath",value:function hasEffectsWhenAccessedAtPath(path){return path.length>1;}},{key:"render",value:function render(code,options){this.argument.render(code,options);var variable=this.argument.variable;if(options.format==='system'&&variable&&variable.exportName){var name=variable.getName();if(this.prefix){code.overwrite(this.start,this.end,"exports('".concat(variable.exportName,"', ").concat(this.operator).concat(name,")"));}else{var op;switch(this.operator){case'++':op="".concat(name," + 1");break;case'--':op="".concat(name," - 1");break;}code.overwrite(this.start,this.end,"(exports('".concat(variable.exportName,"', ").concat(op,"), ").concat(name).concat(this.operator,")"));}}}}]);return UpdateExpression;}(NodeBase);function isReassignedExportsMember(variable){return variable.renderBaseName!==null&&variable.exportName!==null&&variable.isReassigned;}function areAllDeclarationsIncludedAndNotExported(declarations){var _iteratorNormalCompletion108=true;var _didIteratorError108=false;var _iteratorError108=undefined;try{for(var _iterator108=declarations[Symbol.iterator](),_step108;!(_iteratorNormalCompletion108=(_step108=_iterator108.next()).done);_iteratorNormalCompletion108=true){var declarator=_step108.value;if(!declarator.included)return false;if(declarator.id.type===Identifier){if(declarator.id.variable.exportName)return false;}else{var exportedVariables=[];declarator.id.addExportedVariables(exportedVariables);if(exportedVariables.length>0)return false;}}}catch(err){_didIteratorError108=true;_iteratorError108=err;}finally{try{if(!_iteratorNormalCompletion108&&_iterator108["return"]!=null){_iterator108["return"]();}}finally{if(_didIteratorError108){throw _iteratorError108;}}}return true;}var VariableDeclaration=/*#__PURE__*/function(_NodeBase56){_inherits(VariableDeclaration,_NodeBase56);function VariableDeclaration(){_classCallCheck(this,VariableDeclaration);return _possibleConstructorReturn(this,_getPrototypeOf(VariableDeclaration).apply(this,arguments));}_createClass(VariableDeclaration,[{key:"deoptimizePath",value:function deoptimizePath(){var _iteratorNormalCompletion109=true;var _didIteratorError109=false;var _iteratorError109=undefined;try{for(var _iterator109=this.declarations[Symbol.iterator](),_step109;!(_iteratorNormalCompletion109=(_step109=_iterator109.next()).done);_iteratorNormalCompletion109=true){var declarator=_step109.value;declarator.deoptimizePath(EMPTY_PATH);}}catch(err){_didIteratorError109=true;_iteratorError109=err;}finally{try{if(!_iteratorNormalCompletion109&&_iterator109["return"]!=null){_iterator109["return"]();}}finally{if(_didIteratorError109){throw _iteratorError109;}}}}},{key:"hasEffectsWhenAssignedAtPath",value:function hasEffectsWhenAssignedAtPath(){return false;}},{key:"include",value:function include(context,includeChildrenRecursively){this.included=true;var _iteratorNormalCompletion110=true;var _didIteratorError110=false;var _iteratorError110=undefined;try{for(var _iterator110=this.declarations[Symbol.iterator](),_step110;!(_iteratorNormalCompletion110=(_step110=_iterator110.next()).done);_iteratorNormalCompletion110=true){var declarator=_step110.value;if(includeChildrenRecursively||declarator.shouldBeIncluded(context))declarator.include(context,includeChildrenRecursively);}}catch(err){_didIteratorError110=true;_iteratorError110=err;}finally{try{if(!_iteratorNormalCompletion110&&_iterator110["return"]!=null){_iterator110["return"]();}}finally{if(_didIteratorError110){throw _iteratorError110;}}}}},{key:"includeWithAllDeclaredVariables",value:function includeWithAllDeclaredVariables(includeChildrenRecursively,context){this.included=true;var _iteratorNormalCompletion111=true;var _didIteratorError111=false;var _iteratorError111=undefined;try{for(var _iterator111=this.declarations[Symbol.iterator](),_step111;!(_iteratorNormalCompletion111=(_step111=_iterator111.next()).done);_iteratorNormalCompletion111=true){var declarator=_step111.value;declarator.include(context,includeChildrenRecursively);}}catch(err){_didIteratorError111=true;_iteratorError111=err;}finally{try{if(!_iteratorNormalCompletion111&&_iterator111["return"]!=null){_iterator111["return"]();}}finally{if(_didIteratorError111){throw _iteratorError111;}}}}},{key:"initialise",value:function initialise(){var _iteratorNormalCompletion112=true;var _didIteratorError112=false;var _iteratorError112=undefined;try{for(var _iterator112=this.declarations[Symbol.iterator](),_step112;!(_iteratorNormalCompletion112=(_step112=_iterator112.next()).done);_iteratorNormalCompletion112=true){var declarator=_step112.value;declarator.declareDeclarator(this.kind);}}catch(err){_didIteratorError112=true;_iteratorError112=err;}finally{try{if(!_iteratorNormalCompletion112&&_iterator112["return"]!=null){_iterator112["return"]();}}finally{if(_didIteratorError112){throw _iteratorError112;}}}}},{key:"render",value:function render(code,options){var nodeRenderOptions=arguments.length>2&&arguments[2]!==undefined?arguments[2]:BLANK;if(areAllDeclarationsIncludedAndNotExported(this.declarations)){var _iteratorNormalCompletion113=true;var _didIteratorError113=false;var _iteratorError113=undefined;try{for(var _iterator113=this.declarations[Symbol.iterator](),_step113;!(_iteratorNormalCompletion113=(_step113=_iterator113.next()).done);_iteratorNormalCompletion113=true){var declarator=_step113.value;declarator.render(code,options);}}catch(err){_didIteratorError113=true;_iteratorError113=err;}finally{try{if(!_iteratorNormalCompletion113&&_iterator113["return"]!=null){_iterator113["return"]();}}finally{if(_didIteratorError113){throw _iteratorError113;}}}if(!nodeRenderOptions.isNoStatement&&code.original.charCodeAt(this.end-1)!==59/*";"*/){code.appendLeft(this.end,';');}}else{this.renderReplacedDeclarations(code,options,nodeRenderOptions);}}},{key:"renderDeclarationEnd",value:function renderDeclarationEnd(code,separatorString,lastSeparatorPos,actualContentEnd,renderedContentEnd,addSemicolon,systemPatternExports){if(code.original.charCodeAt(this.end-1)===59/*";"*/){code.remove(this.end-1,this.end);}if(addSemicolon){separatorString+=';';}if(lastSeparatorPos!==null){if(code.original.charCodeAt(actualContentEnd-1)===10/*"\n"*/&&(code.original.charCodeAt(this.end)===10/*"\n"*/||code.original.charCodeAt(this.end)===13)/*"\r"*/){actualContentEnd--;if(code.original.charCodeAt(actualContentEnd)===13/*"\r"*/){actualContentEnd--;}}if(actualContentEnd===lastSeparatorPos+1){code.overwrite(lastSeparatorPos,renderedContentEnd,separatorString);}else{code.overwrite(lastSeparatorPos,lastSeparatorPos+1,separatorString);code.remove(actualContentEnd,renderedContentEnd);}}else{code.appendLeft(renderedContentEnd,separatorString);}if(systemPatternExports.length>0){code.appendLeft(renderedContentEnd,' '+getSystemExportStatement(systemPatternExports));}}},{key:"renderReplacedDeclarations",value:function renderReplacedDeclarations(code,options,_ref21){var _ref21$start=_ref21.start,start=_ref21$start===void 0?this.start:_ref21$start,_ref21$end=_ref21.end,end=_ref21$end===void 0?this.end:_ref21$end,isNoStatement=_ref21.isNoStatement;var separatedNodes=getCommaSeparatedNodesWithBoundaries(this.declarations,code,this.start+this.kind.length,this.end-(code.original.charCodeAt(this.end-1)===59/*";"*/?1:0));var actualContentEnd,renderedContentEnd;if(/\n\s*$/.test(code.slice(this.start,separatedNodes[0].start))){renderedContentEnd=this.start+this.kind.length;}else{renderedContentEnd=separatedNodes[0].start;}var lastSeparatorPos=renderedContentEnd-1;code.remove(this.start,lastSeparatorPos);var isInDeclaration=false;var hasRenderedContent=false;var separatorString='',leadingString,nextSeparatorString;var systemPatternExports=[];var _iteratorNormalCompletion114=true;var _didIteratorError114=false;var _iteratorError114=undefined;try{for(var _iterator114=separatedNodes[Symbol.iterator](),_step114;!(_iteratorNormalCompletion114=(_step114=_iterator114.next()).done);_iteratorNormalCompletion114=true){var _step114$value=_step114.value,node=_step114$value.node,_start=_step114$value.start,separator=_step114$value.separator,contentEnd=_step114$value.contentEnd,_end=_step114$value.end;if(!node.included||node.id instanceof Identifier$1&&isReassignedExportsMember(node.id.variable)&&node.init===null){code.remove(_start,_end);continue;}leadingString='';nextSeparatorString='';if(node.id instanceof Identifier$1&&isReassignedExportsMember(node.id.variable)){if(hasRenderedContent){separatorString+=';';}isInDeclaration=false;}else{if(options.format==='system'&&node.init!==null){if(node.id.type!==Identifier){node.id.addExportedVariables(systemPatternExports);}else if(node.id.variable.exportName){code.prependLeft(code.original.indexOf('=',node.id.end)+1," exports('".concat(node.id.variable.safeExportName||node.id.variable.exportName,"',"));nextSeparatorString+=')';}}if(isInDeclaration){separatorString+=',';}else{if(hasRenderedContent){separatorString+=';';}leadingString+="".concat(this.kind," ");isInDeclaration=true;}}if(renderedContentEnd===lastSeparatorPos+1){code.overwrite(lastSeparatorPos,renderedContentEnd,separatorString+leadingString);}else{code.overwrite(lastSeparatorPos,lastSeparatorPos+1,separatorString);code.appendLeft(renderedContentEnd,leadingString);}node.render(code,options);actualContentEnd=contentEnd;renderedContentEnd=_end;hasRenderedContent=true;lastSeparatorPos=separator;separatorString=nextSeparatorString;}}catch(err){_didIteratorError114=true;_iteratorError114=err;}finally{try{if(!_iteratorNormalCompletion114&&_iterator114["return"]!=null){_iterator114["return"]();}}finally{if(_didIteratorError114){throw _iteratorError114;}}}if(hasRenderedContent){this.renderDeclarationEnd(code,separatorString,lastSeparatorPos,actualContentEnd,renderedContentEnd,!isNoStatement,systemPatternExports);}else{code.remove(start,end);}}}]);return VariableDeclaration;}(NodeBase);var VariableDeclarator=/*#__PURE__*/function(_NodeBase57){_inherits(VariableDeclarator,_NodeBase57);function VariableDeclarator(){_classCallCheck(this,VariableDeclarator);return _possibleConstructorReturn(this,_getPrototypeOf(VariableDeclarator).apply(this,arguments));}_createClass(VariableDeclarator,[{key:"declareDeclarator",value:function declareDeclarator(kind){this.id.declare(kind,this.init||UNDEFINED_EXPRESSION);}},{key:"deoptimizePath",value:function deoptimizePath(path){this.id.deoptimizePath(path);}},{key:"render",value:function render(code,options){// This can happen for hoisted variables in dead branches
if(this.init!==null&&!this.init.included){code.remove(this.id.end,this.end);this.id.render(code,options);}else{_get(_getPrototypeOf(VariableDeclarator.prototype),"render",this).call(this,code,options);}}}]);return VariableDeclarator;}(NodeBase);var WhileStatement=/*#__PURE__*/function(_NodeBase58){_inherits(WhileStatement,_NodeBase58);function WhileStatement(){_classCallCheck(this,WhileStatement);return _possibleConstructorReturn(this,_getPrototypeOf(WhileStatement).apply(this,arguments));}_createClass(WhileStatement,[{key:"hasEffects",value:function hasEffects(context){if(this.test.hasEffects(context))return true;var brokenFlow=context.brokenFlow,_context$ignore4=context.ignore,breaks=_context$ignore4.breaks,continues=_context$ignore4.continues;context.ignore.breaks=true;context.ignore.continues=true;if(this.body.hasEffects(context))return true;context.ignore.breaks=breaks;context.ignore.continues=continues;context.brokenFlow=brokenFlow;return false;}},{key:"include",value:function include(context,includeChildrenRecursively){this.included=true;this.test.include(context,includeChildrenRecursively);var brokenFlow=context.brokenFlow;this.body.include(context,includeChildrenRecursively);context.brokenFlow=brokenFlow;}}]);return WhileStatement;}(NodeBase);var YieldExpression=/*#__PURE__*/function(_NodeBase59){_inherits(YieldExpression,_NodeBase59);function YieldExpression(){_classCallCheck(this,YieldExpression);return _possibleConstructorReturn(this,_getPrototypeOf(YieldExpression).apply(this,arguments));}_createClass(YieldExpression,[{key:"bind",value:function bind(){_get(_getPrototypeOf(YieldExpression.prototype),"bind",this).call(this);if(this.argument!==null){this.argument.deoptimizePath(UNKNOWN_PATH);}}},{key:"hasEffects",value:function hasEffects(context){return!context.ignore.returnAwaitYield||this.argument!==null&&this.argument.hasEffects(context);}},{key:"render",value:function render(code,options){if(this.argument){this.argument.render(code,options);if(this.argument.start===this.start+5/* 'yield'.length */){code.prependLeft(this.start+5,' ');}}}}]);return YieldExpression;}(NodeBase);var nodeConstructors={ArrayExpression:ArrayExpression,ArrayPattern:ArrayPattern,ArrowFunctionExpression:ArrowFunctionExpression,AssignmentExpression:AssignmentExpression,AssignmentPattern:AssignmentPattern,AwaitExpression:AwaitExpression,BinaryExpression:BinaryExpression,BlockStatement:BlockStatement$1,BreakStatement:BreakStatement,CallExpression:CallExpression$1,CatchClause:CatchClause,ClassBody:ClassBody,ClassDeclaration:ClassDeclaration,ClassExpression:ClassExpression,ConditionalExpression:ConditionalExpression,ContinueStatement:ContinueStatement,DoWhileStatement:DoWhileStatement,EmptyStatement:EmptyStatement,ExportAllDeclaration:ExportAllDeclaration,ExportDefaultDeclaration:ExportDefaultDeclaration,ExportNamedDeclaration:ExportNamedDeclaration,ExpressionStatement:ExpressionStatement$1,ForInStatement:ForInStatement,ForOfStatement:ForOfStatement,ForStatement:ForStatement,FunctionDeclaration:FunctionDeclaration,FunctionExpression:FunctionExpression$1,Identifier:Identifier$1,IfStatement:IfStatement,ImportDeclaration:ImportDeclaration,ImportExpression:Import,LabeledStatement:LabeledStatement,Literal:Literal,LogicalExpression:LogicalExpression,MemberExpression:MemberExpression,MetaProperty:MetaProperty,MethodDefinition:MethodDefinition,NewExpression:NewExpression,ObjectExpression:ObjectExpression,ObjectPattern:ObjectPattern,Program:Program$1,Property:Property$1,RestElement:RestElement,ReturnStatement:ReturnStatement$1,SequenceExpression:SequenceExpression,SpreadElement:SpreadElement,SwitchCase:SwitchCase,SwitchStatement:SwitchStatement,TaggedTemplateExpression:TaggedTemplateExpression,TemplateElement:TemplateElement,TemplateLiteral:TemplateLiteral,ThisExpression:ThisExpression,ThrowStatement:ThrowStatement,TryStatement:TryStatement,UnaryExpression:UnaryExpression,UnknownNode:UnknownNode,UpdateExpression:UpdateExpression,VariableDeclaration:VariableDeclaration,VariableDeclarator:VariableDeclarator,WhileStatement:WhileStatement,YieldExpression:YieldExpression};var SyntheticNamedExportVariableVariable=/*#__PURE__*/function(_Variable6){_inherits(SyntheticNamedExportVariableVariable,_Variable6);function SyntheticNamedExportVariableVariable(context,name,defaultVariable){var _this27;_classCallCheck(this,SyntheticNamedExportVariableVariable);_this27=_possibleConstructorReturn(this,_getPrototypeOf(SyntheticNamedExportVariableVariable).call(this,name));_this27.context=context;_this27.module=context.module;_this27.defaultVariable=defaultVariable;_this27.setRenderNames(defaultVariable.getName(),name);return _this27;}_createClass(SyntheticNamedExportVariableVariable,[{key:"include",value:function include(context){if(!this.included){this.included=true;this.context.includeVariable(context,this.defaultVariable);}}}]);return SyntheticNamedExportVariableVariable;}(Variable);function getOriginalLocation(sourcemapChain,location){// This cast is guaranteed. If it were a missing Map, it wouldn't have a mappings.
var filteredSourcemapChain=sourcemapChain.filter(function(sourcemap){return sourcemap.mappings;});while(filteredSourcemapChain.length>0){var sourcemap=filteredSourcemapChain.pop();var line=sourcemap.mappings[location.line-1];var locationFound=false;if(line!==undefined){var _iteratorNormalCompletion115=true;var _didIteratorError115=false;var _iteratorError115=undefined;try{for(var _iterator115=line[Symbol.iterator](),_step115;!(_iteratorNormalCompletion115=(_step115=_iterator115.next()).done);_iteratorNormalCompletion115=true){var segment=_step115.value;if(segment[0]>=location.column){if(segment.length===1)break;location={column:segment[3],line:segment[2]+1,name:segment.length===5?sourcemap.names[segment[4]]:undefined,source:sourcemap.sources[segment[1]]};locationFound=true;break;}}}catch(err){_didIteratorError115=true;_iteratorError115=err;}finally{try{if(!_iteratorNormalCompletion115&&_iterator115["return"]!=null){_iterator115["return"]();}}finally{if(_didIteratorError115){throw _iteratorError115;}}}}if(!locationFound){throw new Error("Can't resolve original location of error.");}}return location;}// AST walker module for Mozilla Parser API compatible trees
function skipThrough(node,st,c){c(node,st);}function ignore(_node,_st,_c){}// Node walkers.
var base$1={};base$1.Program=base$1.BlockStatement=function(node,st,c){for(var i=0,list=node.body;i<list.length;i+=1){var stmt=list[i];c(stmt,st,"Statement");}};base$1.Statement=skipThrough;base$1.EmptyStatement=ignore;base$1.ExpressionStatement=base$1.ParenthesizedExpression=function(node,st,c){return c(node.expression,st,"Expression");};base$1.IfStatement=function(node,st,c){c(node.test,st,"Expression");c(node.consequent,st,"Statement");if(node.alternate){c(node.alternate,st,"Statement");}};base$1.LabeledStatement=function(node,st,c){return c(node.body,st,"Statement");};base$1.BreakStatement=base$1.ContinueStatement=ignore;base$1.WithStatement=function(node,st,c){c(node.object,st,"Expression");c(node.body,st,"Statement");};base$1.SwitchStatement=function(node,st,c){c(node.discriminant,st,"Expression");for(var i$1=0,list$1=node.cases;i$1<list$1.length;i$1+=1){var cs=list$1[i$1];if(cs.test){c(cs.test,st,"Expression");}for(var i=0,list=cs.consequent;i<list.length;i+=1){var cons=list[i];c(cons,st,"Statement");}}};base$1.SwitchCase=function(node,st,c){if(node.test){c(node.test,st,"Expression");}for(var i=0,list=node.consequent;i<list.length;i+=1){var cons=list[i];c(cons,st,"Statement");}};base$1.ReturnStatement=base$1.YieldExpression=base$1.AwaitExpression=function(node,st,c){if(node.argument){c(node.argument,st,"Expression");}};base$1.ThrowStatement=base$1.SpreadElement=function(node,st,c){return c(node.argument,st,"Expression");};base$1.TryStatement=function(node,st,c){c(node.block,st,"Statement");if(node.handler){c(node.handler,st);}if(node.finalizer){c(node.finalizer,st,"Statement");}};base$1.CatchClause=function(node,st,c){if(node.param){c(node.param,st,"Pattern");}c(node.body,st,"Statement");};base$1.WhileStatement=base$1.DoWhileStatement=function(node,st,c){c(node.test,st,"Expression");c(node.body,st,"Statement");};base$1.ForStatement=function(node,st,c){if(node.init){c(node.init,st,"ForInit");}if(node.test){c(node.test,st,"Expression");}if(node.update){c(node.update,st,"Expression");}c(node.body,st,"Statement");};base$1.ForInStatement=base$1.ForOfStatement=function(node,st,c){c(node.left,st,"ForInit");c(node.right,st,"Expression");c(node.body,st,"Statement");};base$1.ForInit=function(node,st,c){if(node.type==="VariableDeclaration"){c(node,st);}else{c(node,st,"Expression");}};base$1.DebuggerStatement=ignore;base$1.FunctionDeclaration=function(node,st,c){return c(node,st,"Function");};base$1.VariableDeclaration=function(node,st,c){for(var i=0,list=node.declarations;i<list.length;i+=1){var decl=list[i];c(decl,st);}};base$1.VariableDeclarator=function(node,st,c){c(node.id,st,"Pattern");if(node.init){c(node.init,st,"Expression");}};base$1.Function=function(node,st,c){if(node.id){c(node.id,st,"Pattern");}for(var i=0,list=node.params;i<list.length;i+=1){var param=list[i];c(param,st,"Pattern");}c(node.body,st,node.expression?"Expression":"Statement");};base$1.Pattern=function(node,st,c){if(node.type==="Identifier"){c(node,st,"VariablePattern");}else if(node.type==="MemberExpression"){c(node,st,"MemberPattern");}else{c(node,st);}};base$1.VariablePattern=ignore;base$1.MemberPattern=skipThrough;base$1.RestElement=function(node,st,c){return c(node.argument,st,"Pattern");};base$1.ArrayPattern=function(node,st,c){for(var i=0,list=node.elements;i<list.length;i+=1){var elt=list[i];if(elt){c(elt,st,"Pattern");}}};base$1.ObjectPattern=function(node,st,c){for(var i=0,list=node.properties;i<list.length;i+=1){var prop=list[i];if(prop.type==="Property"){if(prop.computed){c(prop.key,st,"Expression");}c(prop.value,st,"Pattern");}else if(prop.type==="RestElement"){c(prop.argument,st,"Pattern");}}};base$1.Expression=skipThrough;base$1.ThisExpression=base$1.Super=base$1.MetaProperty=ignore;base$1.ArrayExpression=function(node,st,c){for(var i=0,list=node.elements;i<list.length;i+=1){var elt=list[i];if(elt){c(elt,st,"Expression");}}};base$1.ObjectExpression=function(node,st,c){for(var i=0,list=node.properties;i<list.length;i+=1){var prop=list[i];c(prop,st);}};base$1.FunctionExpression=base$1.ArrowFunctionExpression=base$1.FunctionDeclaration;base$1.SequenceExpression=function(node,st,c){for(var i=0,list=node.expressions;i<list.length;i+=1){var expr=list[i];c(expr,st,"Expression");}};base$1.TemplateLiteral=function(node,st,c){for(var i=0,list=node.quasis;i<list.length;i+=1){var quasi=list[i];c(quasi,st);}for(var i$1=0,list$1=node.expressions;i$1<list$1.length;i$1+=1){var expr=list$1[i$1];c(expr,st,"Expression");}};base$1.TemplateElement=ignore;base$1.UnaryExpression=base$1.UpdateExpression=function(node,st,c){c(node.argument,st,"Expression");};base$1.BinaryExpression=base$1.LogicalExpression=function(node,st,c){c(node.left,st,"Expression");c(node.right,st,"Expression");};base$1.AssignmentExpression=base$1.AssignmentPattern=function(node,st,c){c(node.left,st,"Pattern");c(node.right,st,"Expression");};base$1.ConditionalExpression=function(node,st,c){c(node.test,st,"Expression");c(node.consequent,st,"Expression");c(node.alternate,st,"Expression");};base$1.NewExpression=base$1.CallExpression=function(node,st,c){c(node.callee,st,"Expression");if(node.arguments){for(var i=0,list=node.arguments;i<list.length;i+=1){var arg=list[i];c(arg,st,"Expression");}}};base$1.MemberExpression=function(node,st,c){c(node.object,st,"Expression");if(node.computed){c(node.property,st,"Expression");}};base$1.ExportNamedDeclaration=base$1.ExportDefaultDeclaration=function(node,st,c){if(node.declaration){c(node.declaration,st,node.type==="ExportNamedDeclaration"||node.declaration.id?"Statement":"Expression");}if(node.source){c(node.source,st,"Expression");}};base$1.ExportAllDeclaration=function(node,st,c){c(node.source,st,"Expression");};base$1.ImportDeclaration=function(node,st,c){for(var i=0,list=node.specifiers;i<list.length;i+=1){var spec=list[i];c(spec,st);}c(node.source,st,"Expression");};base$1.ImportExpression=function(node,st,c){c(node.source,st,"Expression");};base$1.ImportSpecifier=base$1.ImportDefaultSpecifier=base$1.ImportNamespaceSpecifier=base$1.Identifier=base$1.Literal=ignore;base$1.TaggedTemplateExpression=function(node,st,c){c(node.tag,st,"Expression");c(node.quasi,st,"Expression");};base$1.ClassDeclaration=base$1.ClassExpression=function(node,st,c){return c(node,st,"Class");};base$1.Class=function(node,st,c){if(node.id){c(node.id,st,"Pattern");}if(node.superClass){c(node.superClass,st,"Expression");}c(node.body,st);};base$1.ClassBody=function(node,st,c){for(var i=0,list=node.body;i<list.length;i+=1){var elt=list[i];c(elt,st);}};base$1.MethodDefinition=base$1.Property=function(node,st,c){if(node.computed){c(node.key,st,"Expression");}c(node.value,st,"Expression");};// @ts-ignore
function handlePureAnnotationsOfNode(node,state){var type=arguments.length>2&&arguments[2]!==undefined?arguments[2]:node.type;var commentNode=state.commentNodes[state.commentIndex];while(commentNode&&node.start>=commentNode.end){markPureNode(node,commentNode);commentNode=state.commentNodes[++state.commentIndex];}if(commentNode&&commentNode.end<=node.end){base$1[type](node,state,handlePureAnnotationsOfNode);}}function markPureNode(node,comment){if(node.annotations){node.annotations.push(comment);}else{node.annotations=[comment];}if(node.type==='ExpressionStatement'){node=node.expression;}if(node.type==='CallExpression'||node.type==='NewExpression'){node.annotatedPure=true;}}var pureCommentRegex=/[@#]__PURE__/;var isPureComment=function isPureComment(comment){return pureCommentRegex.test(comment.text);};function markPureCallExpressions(comments,esTreeAst){handlePureAnnotationsOfNode(esTreeAst,{commentIndex:0,commentNodes:comments.filter(isPureComment)});}// this looks ridiculous, but it prevents sourcemap tooling from mistaking
// this for an actual sourceMappingURL
var SOURCEMAPPING_URL='sourceMa';SOURCEMAPPING_URL+='ppingURL';var SOURCEMAPPING_URL_RE=new RegExp("^#\\s+".concat(SOURCEMAPPING_URL,"=.+\\n?"));var NOOP=function NOOP(){};var getStartTime=function getStartTime(){return[0,0];};var getElapsedTime=function getElapsedTime(){return 0;};var getMemory=function getMemory(){return 0;};var timers={};var normalizeHrTime=function normalizeHrTime(time){return time[0]*1e3+time[1]/1e6;};function setTimeHelpers(){if(typeof process!=='undefined'&&typeof process.hrtime==='function'){getStartTime=process.hrtime.bind(process);getElapsedTime=function getElapsedTime(previous){return normalizeHrTime(process.hrtime(previous));};}else if(typeof performance!=='undefined'&&typeof performance.now==='function'){getStartTime=function getStartTime(){return[performance.now(),0];};getElapsedTime=function getElapsedTime(previous){return performance.now()-previous[0];};}if(typeof process!=='undefined'&&typeof process.memoryUsage==='function'){getMemory=function getMemory(){return process.memoryUsage().heapUsed;};}}function getPersistedLabel(label,level){switch(level){case 1:return"# ".concat(label);case 2:return"## ".concat(label);case 3:return label;default:return"".concat('  '.repeat(level-4),"- ").concat(label);}}function timeStartImpl(label){var level=arguments.length>1&&arguments[1]!==undefined?arguments[1]:3;label=getPersistedLabel(label,level);if(!timers.hasOwnProperty(label)){timers[label]={memory:0,startMemory:undefined,startTime:undefined,time:0,totalMemory:0};}var currentMemory=getMemory();timers[label].startTime=getStartTime();timers[label].startMemory=currentMemory;}function timeEndImpl(label){var level=arguments.length>1&&arguments[1]!==undefined?arguments[1]:3;label=getPersistedLabel(label,level);if(timers.hasOwnProperty(label)){var currentMemory=getMemory();timers[label].time+=getElapsedTime(timers[label].startTime);timers[label].totalMemory=Math.max(timers[label].totalMemory,currentMemory);timers[label].memory+=currentMemory-timers[label].startMemory;}}function getTimings(){var newTimings={};for(var _i9=0,_Object$keys5=Object.keys(timers);_i9<_Object$keys5.length;_i9++){var label=_Object$keys5[_i9];newTimings[label]=[timers[label].time,timers[label].memory,timers[label].totalMemory];}return newTimings;}var timeStart=NOOP,timeEnd=NOOP;var TIMED_PLUGIN_HOOKS={load:true,ongenerate:true,onwrite:true,resolveDynamicImport:true,resolveId:true,transform:true,transformBundle:true};function getPluginWithTimers(plugin,index){var timedPlugin={};var _loop2=function _loop2(){var hook=_Object$keys6[_i10];if(TIMED_PLUGIN_HOOKS[hook]===true){var timerLabel="plugin ".concat(index);if(plugin.name){timerLabel+=" (".concat(plugin.name,")");}timerLabel+=" - ".concat(hook);timedPlugin[hook]=function(){timeStart(timerLabel,4);var result=plugin[hook].apply(this===timedPlugin?plugin:this,arguments);timeEnd(timerLabel,4);if(result&&typeof result.then==='function'){timeStart("".concat(timerLabel," (async)"),4);result.then(function(){return timeEnd("".concat(timerLabel," (async)"),4);});}return result;};}else{timedPlugin[hook]=plugin[hook];}};for(var _i10=0,_Object$keys6=Object.keys(plugin);_i10<_Object$keys6.length;_i10++){_loop2();}return timedPlugin;}function initialiseTimers(inputOptions){if(inputOptions.perf){timers={};setTimeHelpers();timeStart=timeStartImpl;timeEnd=timeEndImpl;inputOptions.plugins=inputOptions.plugins.map(getPluginWithTimers);}else{timeStart=NOOP;timeEnd=NOOP;}}var defaultAcornOptions={ecmaVersion:2020,preserveParens:false,sourceType:'module'};function tryParse(module,Parser,acornOptions){try{return Parser.parse(module.code,Object.assign(Object.assign(Object.assign({},defaultAcornOptions),acornOptions),{onComment:function onComment(block,text,start,end){return module.comments.push({block:block,text:text,start:start,end:end});}}));}catch(err){var message=err.message.replace(/ \(\d+:\d+\)$/,'');if(module.id.endsWith('.json')){message+=' (Note that you need @rollup/plugin-json to import JSON files)';}else if(!module.id.endsWith('.js')){message+=' (Note that you need plugins to import files that are not JavaScript)';}return module.error({code:'PARSE_ERROR',message:message,parserError:err},err.pos);}}function handleMissingExport(exportName,importingModule,importedModule,importerStart){return importingModule.error({code:'MISSING_EXPORT',message:"'".concat(exportName,"' is not exported by ").concat(relativeId(importedModule),", imported by ").concat(relativeId(importingModule.id)),url:"https://rollupjs.org/guide/en/#error-name-is-not-exported-by-module"},importerStart);}var MISSING_EXPORT_SHIM_DESCRIPTION={identifier:null,localName:MISSING_EXPORT_SHIM_VARIABLE};function getVariableForExportNameRecursive(target,name,isExportAllSearch){var searchedNamesAndModules=arguments.length>3&&arguments[3]!==undefined?arguments[3]:new Map();var searchedModules=searchedNamesAndModules.get(name);if(searchedModules){if(searchedModules.has(target)){return null;}searchedModules.add(target);}else{searchedNamesAndModules.set(name,new Set([target]));}return target.getVariableForExportName(name,isExportAllSearch,searchedNamesAndModules);}var Module=/*#__PURE__*/function(){function Module(graph,id,moduleSideEffects,syntheticNamedExports,isEntry){_classCallCheck(this,Module);this.chunk=null;this.chunkFileNames=new Set();this.chunkName=null;this.comments=[];this.dependencies=[];this.dynamicallyImportedBy=[];this.dynamicDependencies=[];this.dynamicImports=[];this.entryPointsHash=new Uint8Array(10);this.execIndex=Infinity;this.exportAllModules=[];this.exportAllSources=new Set();this.exports=Object.create(null);this.exportsAll=Object.create(null);this.exportShimVariable=new ExportShimVariable(this);this.facadeChunk=null;this.importDescriptions=Object.create(null);this.importMetas=[];this.imports=new Set();this.isExecuted=false;this.isUserDefinedEntryPoint=false;this.manualChunkAlias=null;this.reexportDescriptions=Object.create(null);this.sources=new Set();this.userChunkNames=new Set();this.usesTopLevelAwait=false;this.allExportNames=null;this.defaultExport=null;this.namespaceVariable=null;this.syntheticExports=new Map();this.transformDependencies=[];this.transitiveReexports=null;this.id=id;this.graph=graph;this.excludeFromSourcemap=/\0/.test(id);this.context=graph.getModuleContext(id);this.moduleSideEffects=moduleSideEffects;this.syntheticNamedExports=syntheticNamedExports;this.isEntryPoint=isEntry;}_createClass(Module,[{key:"basename",value:function basename(){var base=path.basename(this.id);var ext=path.extname(this.id);return makeLegal(ext?base.slice(0,-ext.length):base);}},{key:"bindReferences",value:function bindReferences(){this.ast.bind();}},{key:"error",value:function error(props,pos){if(typeof pos==='number'){props.pos=pos;var location=_locate(this.code,pos,{offsetLine:1});try{location=getOriginalLocation(this.sourcemapChain,location);}catch(e){this.warn({code:'SOURCEMAP_ERROR',loc:{column:location.column,file:this.id,line:location.line},message:"Error when using sourcemap for reporting an error: ".concat(e.message),pos:pos});}props.loc={column:location.column,file:this.id,line:location.line};props.frame=getCodeFrame(this.originalCode,location.line,location.column);}return _error(props);}},{key:"getAllExportNames",value:function getAllExportNames(){if(this.allExportNames){return this.allExportNames;}var allExportNames=this.allExportNames=new Set();for(var _i11=0,_Object$keys7=Object.keys(this.exports);_i11<_Object$keys7.length;_i11++){var name=_Object$keys7[_i11];allExportNames.add(name);}for(var _i12=0,_Object$keys8=Object.keys(this.reexportDescriptions);_i12<_Object$keys8.length;_i12++){var _name3=_Object$keys8[_i12];allExportNames.add(_name3);}var _iteratorNormalCompletion116=true;var _didIteratorError116=false;var _iteratorError116=undefined;try{for(var _iterator116=this.exportAllModules[Symbol.iterator](),_step116;!(_iteratorNormalCompletion116=(_step116=_iterator116.next()).done);_iteratorNormalCompletion116=true){var module=_step116.value;if(module instanceof ExternalModule){allExportNames.add("*".concat(module.id));continue;}var _iteratorNormalCompletion117=true;var _didIteratorError117=false;var _iteratorError117=undefined;try{for(var _iterator117=module.getAllExportNames()[Symbol.iterator](),_step117;!(_iteratorNormalCompletion117=(_step117=_iterator117.next()).done);_iteratorNormalCompletion117=true){var _name4=_step117.value;if(_name4!=='default')allExportNames.add(_name4);}}catch(err){_didIteratorError117=true;_iteratorError117=err;}finally{try{if(!_iteratorNormalCompletion117&&_iterator117["return"]!=null){_iterator117["return"]();}}finally{if(_didIteratorError117){throw _iteratorError117;}}}}}catch(err){_didIteratorError116=true;_iteratorError116=err;}finally{try{if(!_iteratorNormalCompletion116&&_iterator116["return"]!=null){_iterator116["return"]();}}finally{if(_didIteratorError116){throw _iteratorError116;}}}return allExportNames;}},{key:"getDefaultExport",value:function getDefaultExport(){if(this.defaultExport===null){this.defaultExport=undefined;this.defaultExport=this.getVariableForExportName('default');}if(!this.defaultExport){return _error({code:Errors.SYNTHETIC_NAMED_EXPORTS_NEED_DEFAULT,id:this.id,message:"Modules with 'syntheticNamedExports' need a default export."});}return this.defaultExport;}},{key:"getDynamicImportExpressions",value:function getDynamicImportExpressions(){return this.dynamicImports.map(function(_ref22){var node=_ref22.node;var importArgument=node.source;if(importArgument instanceof TemplateLiteral&&importArgument.quasis.length===1&&importArgument.quasis[0].value.cooked){return importArgument.quasis[0].value.cooked;}if(importArgument instanceof Literal&&typeof importArgument.value==='string'){return importArgument.value;}return importArgument;});}},{key:"getExportNamesByVariable",value:function getExportNamesByVariable(){var exportNamesByVariable=new Map();var _iteratorNormalCompletion118=true;var _didIteratorError118=false;var _iteratorError118=undefined;try{for(var _iterator118=this.getAllExportNames()[Symbol.iterator](),_step118;!(_iteratorNormalCompletion118=(_step118=_iterator118.next()).done);_iteratorNormalCompletion118=true){var exportName=_step118.value;var tracedVariable=this.getVariableForExportName(exportName);if(!tracedVariable||!(tracedVariable.included||tracedVariable instanceof ExternalVariable)){continue;}var existingExportNames=exportNamesByVariable.get(tracedVariable);if(existingExportNames){existingExportNames.push(exportName);}else{exportNamesByVariable.set(tracedVariable,[exportName]);}}}catch(err){_didIteratorError118=true;_iteratorError118=err;}finally{try{if(!_iteratorNormalCompletion118&&_iterator118["return"]!=null){_iterator118["return"]();}}finally{if(_didIteratorError118){throw _iteratorError118;}}}return exportNamesByVariable;}},{key:"getExports",value:function getExports(){return Object.keys(this.exports);}},{key:"getOrCreateNamespace",value:function getOrCreateNamespace(){if(!this.namespaceVariable){this.namespaceVariable=new NamespaceVariable(this.astContext,this.syntheticNamedExports);this.namespaceVariable.initialise();}return this.namespaceVariable;}},{key:"getReexports",value:function getReexports(){if(this.transitiveReexports){return this.transitiveReexports;}// to avoid infinite recursion when using circular `export * from X`
this.transitiveReexports=[];var reexports=new Set();for(var name in this.reexportDescriptions){reexports.add(name);}var _iteratorNormalCompletion119=true;var _didIteratorError119=false;var _iteratorError119=undefined;try{for(var _iterator119=this.exportAllModules[Symbol.iterator](),_step119;!(_iteratorNormalCompletion119=(_step119=_iterator119.next()).done);_iteratorNormalCompletion119=true){var module=_step119.value;if(module instanceof ExternalModule){reexports.add("*".concat(module.id));}else{var _iteratorNormalCompletion120=true;var _didIteratorError120=false;var _iteratorError120=undefined;try{for(var _iterator120=module.getExports().concat(module.getReexports())[Symbol.iterator](),_step120;!(_iteratorNormalCompletion120=(_step120=_iterator120.next()).done);_iteratorNormalCompletion120=true){var _name5=_step120.value;if(_name5!=='default')reexports.add(_name5);}}catch(err){_didIteratorError120=true;_iteratorError120=err;}finally{try{if(!_iteratorNormalCompletion120&&_iterator120["return"]!=null){_iterator120["return"]();}}finally{if(_didIteratorError120){throw _iteratorError120;}}}}}}catch(err){_didIteratorError119=true;_iteratorError119=err;}finally{try{if(!_iteratorNormalCompletion119&&_iterator119["return"]!=null){_iterator119["return"]();}}finally{if(_didIteratorError119){throw _iteratorError119;}}}return this.transitiveReexports=Array.from(reexports);}},{key:"getRenderedExports",value:function getRenderedExports(){// only direct exports are counted here, not reexports at all
var renderedExports=[];var removedExports=[];for(var exportName in this.exports){var variable=this.getVariableForExportName(exportName);(variable&&variable.included?renderedExports:removedExports).push(exportName);}return{renderedExports:renderedExports,removedExports:removedExports};}},{key:"getTransitiveDependencies",value:function getTransitiveDependencies(){var _this28=this;return this.dependencies.concat(this.getReexports().concat(this.getExports()).map(function(exportName){return _this28.getVariableForExportName(exportName).module;}));}},{key:"getVariableForExportName",value:function getVariableForExportName(name,isExportAllSearch,searchedNamesAndModules){if(name[0]==='*'){if(name.length===1){return this.getOrCreateNamespace();}else{// export * from 'external'
var module=this.graph.moduleById.get(name.slice(1));return module.getVariableForExportName('*');}}// export { foo } from './other'
var reexportDeclaration=this.reexportDescriptions[name];if(reexportDeclaration){var declaration=getVariableForExportNameRecursive(reexportDeclaration.module,reexportDeclaration.localName,false,searchedNamesAndModules);if(!declaration){return handleMissingExport(reexportDeclaration.localName,this,reexportDeclaration.module.id,reexportDeclaration.start);}return declaration;}var exportDeclaration=this.exports[name];if(exportDeclaration){if(exportDeclaration===MISSING_EXPORT_SHIM_DESCRIPTION){return this.exportShimVariable;}var _name6=exportDeclaration.localName;return this.traceVariable(_name6)||this.graph.scope.findVariable(_name6);}if(name!=='default'){var _iteratorNormalCompletion121=true;var _didIteratorError121=false;var _iteratorError121=undefined;try{for(var _iterator121=this.exportAllModules[Symbol.iterator](),_step121;!(_iteratorNormalCompletion121=(_step121=_iterator121.next()).done);_iteratorNormalCompletion121=true){var _module=_step121.value;var _declaration=getVariableForExportNameRecursive(_module,name,true,searchedNamesAndModules);if(_declaration)return _declaration;}}catch(err){_didIteratorError121=true;_iteratorError121=err;}finally{try{if(!_iteratorNormalCompletion121&&_iterator121["return"]!=null){_iterator121["return"]();}}finally{if(_didIteratorError121){throw _iteratorError121;}}}}// we don't want to create shims when we are just
// probing export * modules for exports
if(!isExportAllSearch){if(this.syntheticNamedExports){var syntheticExport=this.syntheticExports.get(name);if(!syntheticExport){var defaultExport=this.getDefaultExport();syntheticExport=new SyntheticNamedExportVariableVariable(this.astContext,name,defaultExport);this.syntheticExports.set(name,syntheticExport);return syntheticExport;}return syntheticExport;}if(this.graph.shimMissingExports){this.shimMissingExport(name);return this.exportShimVariable;}}return null;}},{key:"include",value:function include(){var context=createInclusionContext();if(this.ast.shouldBeIncluded(context))this.ast.include(context,false);}},{key:"includeAllExports",value:function includeAllExports(){if(!this.isExecuted){this.graph.needsTreeshakingPass=true;markModuleAndImpureDependenciesAsExecuted(this);}var context=createInclusionContext();var _iteratorNormalCompletion122=true;var _didIteratorError122=false;var _iteratorError122=undefined;try{for(var _iterator122=this.getExports()[Symbol.iterator](),_step122;!(_iteratorNormalCompletion122=(_step122=_iterator122.next()).done);_iteratorNormalCompletion122=true){var exportName=_step122.value;var variable=this.getVariableForExportName(exportName);variable.deoptimizePath(UNKNOWN_PATH);if(!variable.included){variable.include(context);this.graph.needsTreeshakingPass=true;}}}catch(err){_didIteratorError122=true;_iteratorError122=err;}finally{try{if(!_iteratorNormalCompletion122&&_iterator122["return"]!=null){_iterator122["return"]();}}finally{if(_didIteratorError122){throw _iteratorError122;}}}var _iteratorNormalCompletion123=true;var _didIteratorError123=false;var _iteratorError123=undefined;try{for(var _iterator123=this.getReexports()[Symbol.iterator](),_step123;!(_iteratorNormalCompletion123=(_step123=_iterator123.next()).done);_iteratorNormalCompletion123=true){var name=_step123.value;var _variable=this.getVariableForExportName(name);_variable.deoptimizePath(UNKNOWN_PATH);if(!_variable.included){_variable.include(context);this.graph.needsTreeshakingPass=true;}if(_variable instanceof ExternalVariable){_variable.module.reexported=true;}}}catch(err){_didIteratorError123=true;_iteratorError123=err;}finally{try{if(!_iteratorNormalCompletion123&&_iterator123["return"]!=null){_iterator123["return"]();}}finally{if(_didIteratorError123){throw _iteratorError123;}}}}},{key:"includeAllInBundle",value:function includeAllInBundle(){this.ast.include(createInclusionContext(),true);}},{key:"isIncluded",value:function isIncluded(){return this.ast.included||this.namespaceVariable&&this.namespaceVariable.included;}},{key:"linkDependencies",value:function linkDependencies(){var _iteratorNormalCompletion124=true;var _didIteratorError124=false;var _iteratorError124=undefined;try{for(var _iterator124=this.sources[Symbol.iterator](),_step124;!(_iteratorNormalCompletion124=(_step124=_iterator124.next()).done);_iteratorNormalCompletion124=true){var source=_step124.value;var id=this.resolvedIds[source].id;if(id){var module=this.graph.moduleById.get(id);this.dependencies.push(module);}}}catch(err){_didIteratorError124=true;_iteratorError124=err;}finally{try{if(!_iteratorNormalCompletion124&&_iterator124["return"]!=null){_iterator124["return"]();}}finally{if(_didIteratorError124){throw _iteratorError124;}}}var _iteratorNormalCompletion125=true;var _didIteratorError125=false;var _iteratorError125=undefined;try{for(var _iterator125=this.dynamicImports[Symbol.iterator](),_step125;!(_iteratorNormalCompletion125=(_step125=_iterator125.next()).done);_iteratorNormalCompletion125=true){var resolution=_step125.value.resolution;if(resolution instanceof Module||resolution instanceof ExternalModule){this.dynamicDependencies.push(resolution);}}}catch(err){_didIteratorError125=true;_iteratorError125=err;}finally{try{if(!_iteratorNormalCompletion125&&_iterator125["return"]!=null){_iterator125["return"]();}}finally{if(_didIteratorError125){throw _iteratorError125;}}}this.addModulesToImportDescriptions(this.importDescriptions);this.addModulesToImportDescriptions(this.reexportDescriptions);var externalExportAllModules=[];var _iteratorNormalCompletion126=true;var _didIteratorError126=false;var _iteratorError126=undefined;try{for(var _iterator126=this.exportAllSources[Symbol.iterator](),_step126;!(_iteratorNormalCompletion126=(_step126=_iterator126.next()).done);_iteratorNormalCompletion126=true){var _source=_step126.value;var _module2=this.graph.moduleById.get(this.resolvedIds[_source].id);(_module2 instanceof ExternalModule?externalExportAllModules:this.exportAllModules).push(_module2);}}catch(err){_didIteratorError126=true;_iteratorError126=err;}finally{try{if(!_iteratorNormalCompletion126&&_iterator126["return"]!=null){_iterator126["return"]();}}finally{if(_didIteratorError126){throw _iteratorError126;}}}this.exportAllModules=this.exportAllModules.concat(externalExportAllModules);}},{key:"render",value:function render(options){var magicString=this.magicString.clone();this.ast.render(magicString,options);this.usesTopLevelAwait=this.astContext.usesTopLevelAwait;return magicString;}},{key:"setSource",value:function setSource(_ref23){var _this29=this;var ast=_ref23.ast,code=_ref23.code,customTransformCache=_ref23.customTransformCache,moduleSideEffects=_ref23.moduleSideEffects,originalCode=_ref23.originalCode,originalSourcemap=_ref23.originalSourcemap,resolvedIds=_ref23.resolvedIds,sourcemapChain=_ref23.sourcemapChain,syntheticNamedExports=_ref23.syntheticNamedExports,transformDependencies=_ref23.transformDependencies,transformFiles=_ref23.transformFiles;this.code=code;this.originalCode=originalCode;this.originalSourcemap=originalSourcemap;this.sourcemapChain=sourcemapChain;if(transformFiles){this.transformFiles=transformFiles;}this.transformDependencies=transformDependencies;this.customTransformCache=customTransformCache;if(typeof moduleSideEffects==='boolean'){this.moduleSideEffects=moduleSideEffects;}if(typeof syntheticNamedExports==='boolean'){this.syntheticNamedExports=syntheticNamedExports;}timeStart('generate ast',3);this.esTreeAst=ast||tryParse(this,this.graph.acornParser,this.graph.acornOptions);markPureCallExpressions(this.comments,this.esTreeAst);timeEnd('generate ast',3);this.resolvedIds=resolvedIds||Object.create(null);// By default, `id` is the file name. Custom resolvers and loaders
// can change that, but it makes sense to use it for the source file name
var fileName=this.id;this.magicString=new MagicString(code,{filename:this.excludeFromSourcemap?null:fileName,indentExclusionRanges:[]});this.removeExistingSourceMap();timeStart('analyse ast',3);this.astContext={addDynamicImport:this.addDynamicImport.bind(this),addExport:this.addExport.bind(this),addImport:this.addImport.bind(this),addImportMeta:this.addImportMeta.bind(this),annotations:this.graph.treeshakingOptions&&this.graph.treeshakingOptions.annotations,code:code,deoptimizationTracker:this.graph.deoptimizationTracker,error:this.error.bind(this),fileName:fileName,getExports:this.getExports.bind(this),getModuleExecIndex:function getModuleExecIndex(){return _this29.execIndex;},getModuleName:this.basename.bind(this),getReexports:this.getReexports.bind(this),importDescriptions:this.importDescriptions,includeDynamicImport:this.includeDynamicImport.bind(this),includeVariable:this.includeVariable.bind(this),isCrossChunkImport:function isCrossChunkImport(importDescription){return importDescription.module.chunk!==_this29.chunk;},magicString:this.magicString,module:this,moduleContext:this.context,nodeConstructors:nodeConstructors,preserveModules:this.graph.preserveModules,propertyReadSideEffects:!this.graph.treeshakingOptions||this.graph.treeshakingOptions.propertyReadSideEffects,traceExport:this.getVariableForExportName.bind(this),traceVariable:this.traceVariable.bind(this),treeshake:!!this.graph.treeshakingOptions,tryCatchDeoptimization:!this.graph.treeshakingOptions||this.graph.treeshakingOptions.tryCatchDeoptimization,unknownGlobalSideEffects:!this.graph.treeshakingOptions||this.graph.treeshakingOptions.unknownGlobalSideEffects,usesTopLevelAwait:false,warn:this.warn.bind(this),warnDeprecation:this.graph.warnDeprecation.bind(this.graph)};this.scope=new ModuleScope(this.graph.scope,this.astContext);this.ast=new Program$1(this.esTreeAst,{type:'Module',context:this.astContext},this.scope);timeEnd('analyse ast',3);}},{key:"toJSON",value:function toJSON(){return{ast:this.esTreeAst,code:this.code,customTransformCache:this.customTransformCache,dependencies:this.dependencies.map(function(module){return module.id;}),id:this.id,moduleSideEffects:this.moduleSideEffects,originalCode:this.originalCode,originalSourcemap:this.originalSourcemap,resolvedIds:this.resolvedIds,sourcemapChain:this.sourcemapChain,syntheticNamedExports:this.syntheticNamedExports,transformDependencies:this.transformDependencies,transformFiles:this.transformFiles};}},{key:"traceVariable",value:function traceVariable(name){var localVariable=this.scope.variables.get(name);if(localVariable){return localVariable;}if(name in this.importDescriptions){var importDeclaration=this.importDescriptions[name];var otherModule=importDeclaration.module;if(otherModule instanceof Module&&importDeclaration.name==='*'){return otherModule.getOrCreateNamespace();}var declaration=otherModule.getVariableForExportName(importDeclaration.name);if(!declaration){return handleMissingExport(importDeclaration.name,this,otherModule.id,importDeclaration.start);}return declaration;}return null;}},{key:"warn",value:function warn(warning,pos){if(typeof pos==='number'){warning.pos=pos;var _locate3=_locate(this.code,pos,{offsetLine:1}),line=_locate3.line,column=_locate3.column;// TODO trace sourcemaps, cf. error()
warning.loc={file:this.id,line:line,column:column};warning.frame=getCodeFrame(this.code,line,column);}warning.id=this.id;this.graph.warn(warning);}},{key:"addDynamicImport",value:function addDynamicImport(node){this.dynamicImports.push({node:node,resolution:null});}},{key:"addExport",value:function addExport(node){if(node instanceof ExportDefaultDeclaration){// export default foo;
this.exports["default"]={identifier:node.variable.getAssignedVariableName(),localName:'default'};}else if(node instanceof ExportAllDeclaration){// export * from './other'
var source=node.source.value;this.sources.add(source);this.exportAllSources.add(source);}else if(node.source instanceof Literal){// export { name } from './other'
var _source2=node.source.value;this.sources.add(_source2);var _iteratorNormalCompletion127=true;var _didIteratorError127=false;var _iteratorError127=undefined;try{for(var _iterator127=node.specifiers[Symbol.iterator](),_step127;!(_iteratorNormalCompletion127=(_step127=_iterator127.next()).done);_iteratorNormalCompletion127=true){var specifier=_step127.value;var name=specifier.exported.name;this.reexportDescriptions[name]={localName:specifier.type===ExportNamespaceSpecifier?'*':specifier.local.name,module:null,source:_source2,start:specifier.start};}}catch(err){_didIteratorError127=true;_iteratorError127=err;}finally{try{if(!_iteratorNormalCompletion127&&_iterator127["return"]!=null){_iterator127["return"]();}}finally{if(_didIteratorError127){throw _iteratorError127;}}}}else if(node.declaration){var declaration=node.declaration;if(declaration instanceof VariableDeclaration){// export var { foo, bar } = ...
// export var foo = 1, bar = 2;
var _iteratorNormalCompletion128=true;var _didIteratorError128=false;var _iteratorError128=undefined;try{for(var _iterator128=declaration.declarations[Symbol.iterator](),_step128;!(_iteratorNormalCompletion128=(_step128=_iterator128.next()).done);_iteratorNormalCompletion128=true){var declarator=_step128.value;var _iteratorNormalCompletion129=true;var _didIteratorError129=false;var _iteratorError129=undefined;try{for(var _iterator129=extractAssignedNames(declarator.id)[Symbol.iterator](),_step129;!(_iteratorNormalCompletion129=(_step129=_iterator129.next()).done);_iteratorNormalCompletion129=true){var localName=_step129.value;this.exports[localName]={identifier:null,localName:localName};}}catch(err){_didIteratorError129=true;_iteratorError129=err;}finally{try{if(!_iteratorNormalCompletion129&&_iterator129["return"]!=null){_iterator129["return"]();}}finally{if(_didIteratorError129){throw _iteratorError129;}}}}}catch(err){_didIteratorError128=true;_iteratorError128=err;}finally{try{if(!_iteratorNormalCompletion128&&_iterator128["return"]!=null){_iterator128["return"]();}}finally{if(_didIteratorError128){throw _iteratorError128;}}}}else{// export function foo () {}
var _localName=declaration.id.name;this.exports[_localName]={identifier:null,localName:_localName};}}else{// export { foo, bar, baz }
var _iteratorNormalCompletion130=true;var _didIteratorError130=false;var _iteratorError130=undefined;try{for(var _iterator130=node.specifiers[Symbol.iterator](),_step130;!(_iteratorNormalCompletion130=(_step130=_iterator130.next()).done);_iteratorNormalCompletion130=true){var _specifier8=_step130.value;var _localName2=_specifier8.local.name;var exportedName=_specifier8.exported.name;this.exports[exportedName]={identifier:null,localName:_localName2};}}catch(err){_didIteratorError130=true;_iteratorError130=err;}finally{try{if(!_iteratorNormalCompletion130&&_iterator130["return"]!=null){_iterator130["return"]();}}finally{if(_didIteratorError130){throw _iteratorError130;}}}}}},{key:"addImport",value:function addImport(node){var source=node.source.value;this.sources.add(source);var _iteratorNormalCompletion131=true;var _didIteratorError131=false;var _iteratorError131=undefined;try{for(var _iterator131=node.specifiers[Symbol.iterator](),_step131;!(_iteratorNormalCompletion131=(_step131=_iterator131.next()).done);_iteratorNormalCompletion131=true){var specifier=_step131.value;var localName=specifier.local.name;if(this.importDescriptions[localName]){return this.error({code:'DUPLICATE_IMPORT',message:"Duplicated import '".concat(localName,"'")},specifier.start);}var isDefault=specifier.type===ImportDefaultSpecifier;var isNamespace=specifier.type===ImportNamespaceSpecifier;var name=isDefault?'default':isNamespace?'*':specifier.imported.name;this.importDescriptions[localName]={module:null,name:name,source:source,start:specifier.start};}}catch(err){_didIteratorError131=true;_iteratorError131=err;}finally{try{if(!_iteratorNormalCompletion131&&_iterator131["return"]!=null){_iterator131["return"]();}}finally{if(_didIteratorError131){throw _iteratorError131;}}}}},{key:"addImportMeta",value:function addImportMeta(node){this.importMetas.push(node);}},{key:"addModulesToImportDescriptions",value:function addModulesToImportDescriptions(importDescription){for(var _i13=0,_Object$keys9=Object.keys(importDescription);_i13<_Object$keys9.length;_i13++){var name=_Object$keys9[_i13];var specifier=importDescription[name];var id=this.resolvedIds[specifier.source].id;specifier.module=this.graph.moduleById.get(id);}}},{key:"includeDynamicImport",value:function includeDynamicImport(node){var resolution=this.dynamicImports.find(function(dynamicImport){return dynamicImport.node===node;}).resolution;if(resolution instanceof Module){resolution.dynamicallyImportedBy.push(this);resolution.includeAllExports();}}},{key:"includeVariable",value:function includeVariable(context,variable){var variableModule=variable.module;if(!variable.included){variable.include(context);this.graph.needsTreeshakingPass=true;}if(variableModule&&variableModule!==this){this.imports.add(variable);}}},{key:"removeExistingSourceMap",value:function removeExistingSourceMap(){var _iteratorNormalCompletion132=true;var _didIteratorError132=false;var _iteratorError132=undefined;try{for(var _iterator132=this.comments[Symbol.iterator](),_step132;!(_iteratorNormalCompletion132=(_step132=_iterator132.next()).done);_iteratorNormalCompletion132=true){var comment=_step132.value;if(!comment.block&&SOURCEMAPPING_URL_RE.test(comment.text)){this.magicString.remove(comment.start,comment.end);}}}catch(err){_didIteratorError132=true;_iteratorError132=err;}finally{try{if(!_iteratorNormalCompletion132&&_iterator132["return"]!=null){_iterator132["return"]();}}finally{if(_didIteratorError132){throw _iteratorError132;}}}}},{key:"shimMissingExport",value:function shimMissingExport(name){if(!this.exports[name]){this.graph.warn({code:'SHIMMED_EXPORT',exporter:relativeId(this.id),exportName:name,message:"Missing export \"".concat(name,"\" has been shimmed in module ").concat(relativeId(this.id),".")});this.exports[name]=MISSING_EXPORT_SHIM_DESCRIPTION;}}}]);return Module;}();var Source=/*#__PURE__*/function(){function Source(filename,content){_classCallCheck(this,Source);this.isOriginal=true;this.filename=filename;this.content=content;}_createClass(Source,[{key:"traceSegment",value:function traceSegment(line,column,name){return{line:line,column:column,name:name,source:this};}}]);return Source;}();var Link=/*#__PURE__*/function(){function Link(map,sources){_classCallCheck(this,Link);this.sources=sources;this.names=map.names;this.mappings=map.mappings;}_createClass(Link,[{key:"traceMappings",value:function traceMappings(){var sources=[];var sourcesContent=[];var names=[];var mappings=[];var _iteratorNormalCompletion133=true;var _didIteratorError133=false;var _iteratorError133=undefined;try{for(var _iterator133=this.mappings[Symbol.iterator](),_step133;!(_iteratorNormalCompletion133=(_step133=_iterator133.next()).done);_iteratorNormalCompletion133=true){var line=_step133.value;var tracedLine=[];var _iteratorNormalCompletion134=true;var _didIteratorError134=false;var _iteratorError134=undefined;try{for(var _iterator134=line[Symbol.iterator](),_step134;!(_iteratorNormalCompletion134=(_step134=_iterator134.next()).done);_iteratorNormalCompletion134=true){var segment=_step134.value;if(segment.length==1)continue;var source=this.sources[segment[1]];if(!source)continue;var traced=source.traceSegment(segment[2],segment[3],segment.length===5?this.names[segment[4]]:'');if(traced){// newer sources are more likely to be used, so search backwards.
var sourceIndex=sources.lastIndexOf(traced.source.filename);if(sourceIndex===-1){sourceIndex=sources.length;sources.push(traced.source.filename);sourcesContent[sourceIndex]=traced.source.content;}else if(sourcesContent[sourceIndex]==null){sourcesContent[sourceIndex]=traced.source.content;}else if(traced.source.content!=null&&sourcesContent[sourceIndex]!==traced.source.content){return _error({message:"Multiple conflicting contents for sourcemap source ".concat(traced.source.filename)});}var tracedSegment=[segment[0],sourceIndex,traced.line,traced.column];if(traced.name){var nameIndex=names.indexOf(traced.name);if(nameIndex===-1){nameIndex=names.length;names.push(traced.name);}tracedSegment[4]=nameIndex;}tracedLine.push(tracedSegment);}}}catch(err){_didIteratorError134=true;_iteratorError134=err;}finally{try{if(!_iteratorNormalCompletion134&&_iterator134["return"]!=null){_iterator134["return"]();}}finally{if(_didIteratorError134){throw _iteratorError134;}}}mappings.push(tracedLine);}}catch(err){_didIteratorError133=true;_iteratorError133=err;}finally{try{if(!_iteratorNormalCompletion133&&_iterator133["return"]!=null){_iterator133["return"]();}}finally{if(_didIteratorError133){throw _iteratorError133;}}}return{sources:sources,sourcesContent:sourcesContent,names:names,mappings:mappings};}},{key:"traceSegment",value:function traceSegment(line,column,name){var segments=this.mappings[line];if(!segments)return null;// binary search through segments for the given column
var i=0;var j=segments.length-1;while(i<=j){var m=i+j>>1;var segment=segments[m];if(segment[0]===column){if(segment.length==1)return null;var source=this.sources[segment[1]];if(!source)return null;return source.traceSegment(segment[2],segment[3],segment.length===5?this.names[segment[4]]:name);}if(segment[0]>column){j=m-1;}else{i=m+1;}}return null;}}]);return Link;}();function getLinkMap(graph){return function linkMap(source,map){if(map.mappings){return new Link(map,[source]);}graph.warn({code:'SOURCEMAP_BROKEN',message:"Sourcemap is likely to be incorrect: a plugin (".concat(map.plugin,") was used to transform ")+"files, but didn't generate a sourcemap for the transformation. Consult the plugin "+'documentation for help',plugin:map.plugin,url:"https://rollupjs.org/guide/en/#warning-sourcemap-is-likely-to-be-incorrect"});return new Link({mappings:[],names:[]},[source]);};}function getCollapsedSourcemap(id,originalCode,originalSourcemap,sourcemapChain,linkMap){var source;if(!originalSourcemap){source=new Source(id,originalCode);}else{var sources=originalSourcemap.sources;var sourcesContent=originalSourcemap.sourcesContent||[];// TODO indiscriminately treating IDs and sources as normal paths is probably bad.
var directory=path.dirname(id)||'.';var sourceRoot=originalSourcemap.sourceRoot||'.';var baseSources=sources.map(function(source,i){return new Source(path.resolve(directory,sourceRoot,source),sourcesContent[i]);});source=new Link(originalSourcemap,baseSources);}return sourcemapChain.reduce(linkMap,source);}function collapseSourcemaps(bundle,file,map,modules,bundleSourcemapChain,excludeContent){var linkMap=getLinkMap(bundle.graph);var moduleSources=modules.filter(function(module){return!module.excludeFromSourcemap;}).map(function(module){return getCollapsedSourcemap(module.id,module.originalCode,module.originalSourcemap,module.sourcemapChain,linkMap);});// DecodedSourceMap (from magic-string) uses a number[] instead of the more
// correct SourceMapSegment tuples. Cast it here to gain type safety.
var source=new Link(map,moduleSources);source=bundleSourcemapChain.reduce(linkMap,source);var _source$traceMappings=source.traceMappings(),sources=_source$traceMappings.sources,sourcesContent=_source$traceMappings.sourcesContent,names=_source$traceMappings.names,mappings=_source$traceMappings.mappings;if(file){var directory=path.dirname(file);sources=sources.map(function(source){return path.relative(directory,source);});file=path.basename(file);}sourcesContent=excludeContent?null:sourcesContent;return new SourceMap({file:file,sources:sources,sourcesContent:sourcesContent,names:names,mappings:mappings});}function collapseSourcemap(graph,id,originalCode,originalSourcemap,sourcemapChain){if(!sourcemapChain.length){return originalSourcemap;}var source=getCollapsedSourcemap(id,originalCode,originalSourcemap,sourcemapChain,getLinkMap(graph));var map=source.traceMappings();return Object.assign({version:3},map);}var DECONFLICT_IMPORTED_VARIABLES_BY_FORMAT={amd:deconflictImportsOther,cjs:deconflictImportsOther,es:deconflictImportsEsm,iife:deconflictImportsOther,system:deconflictImportsEsm,umd:deconflictImportsOther};function deconflictChunk(modules,dependencies,imports,usedNames,format,interop,preserveModules){var _iteratorNormalCompletion135=true;var _didIteratorError135=false;var _iteratorError135=undefined;try{for(var _iterator135=modules[Symbol.iterator](),_step135;!(_iteratorNormalCompletion135=(_step135=_iterator135.next()).done);_iteratorNormalCompletion135=true){var module=_step135.value;module.scope.addUsedOutsideNames(usedNames,format);}}catch(err){_didIteratorError135=true;_iteratorError135=err;}finally{try{if(!_iteratorNormalCompletion135&&_iterator135["return"]!=null){_iterator135["return"]();}}finally{if(_didIteratorError135){throw _iteratorError135;}}}deconflictTopLevelVariables(usedNames,modules);DECONFLICT_IMPORTED_VARIABLES_BY_FORMAT[format](usedNames,imports,dependencies,interop,preserveModules);var _iteratorNormalCompletion136=true;var _didIteratorError136=false;var _iteratorError136=undefined;try{for(var _iterator136=modules[Symbol.iterator](),_step136;!(_iteratorNormalCompletion136=(_step136=_iterator136.next()).done);_iteratorNormalCompletion136=true){var _module3=_step136.value;_module3.scope.deconflict(format);}}catch(err){_didIteratorError136=true;_iteratorError136=err;}finally{try{if(!_iteratorNormalCompletion136&&_iterator136["return"]!=null){_iterator136["return"]();}}finally{if(_didIteratorError136){throw _iteratorError136;}}}}function deconflictImportsEsm(usedNames,imports,_dependencies,interop){var _iteratorNormalCompletion137=true;var _didIteratorError137=false;var _iteratorError137=undefined;try{for(var _iterator137=imports[Symbol.iterator](),_step137;!(_iteratorNormalCompletion137=(_step137=_iterator137.next()).done);_iteratorNormalCompletion137=true){var variable=_step137.value;var module=variable.module;var name=variable.name;var proposedName=void 0;if(module instanceof ExternalModule&&(name==='*'||name==='default')){if(name==='default'&&interop&&module.exportsNamespace){proposedName=module.variableName+'__default';}else{proposedName=module.variableName;}}else{proposedName=name;}variable.setRenderNames(null,getSafeName(proposedName,usedNames));}}catch(err){_didIteratorError137=true;_iteratorError137=err;}finally{try{if(!_iteratorNormalCompletion137&&_iterator137["return"]!=null){_iterator137["return"]();}}finally{if(_didIteratorError137){throw _iteratorError137;}}}}function deconflictImportsOther(usedNames,imports,dependencies,interop,preserveModules){var _iteratorNormalCompletion138=true;var _didIteratorError138=false;var _iteratorError138=undefined;try{for(var _iterator138=dependencies[Symbol.iterator](),_step138;!(_iteratorNormalCompletion138=(_step138=_iterator138.next()).done);_iteratorNormalCompletion138=true){var chunkOrExternalModule=_step138.value;chunkOrExternalModule.variableName=getSafeName(chunkOrExternalModule.variableName,usedNames);}}catch(err){_didIteratorError138=true;_iteratorError138=err;}finally{try{if(!_iteratorNormalCompletion138&&_iterator138["return"]!=null){_iterator138["return"]();}}finally{if(_didIteratorError138){throw _iteratorError138;}}}var _iteratorNormalCompletion139=true;var _didIteratorError139=false;var _iteratorError139=undefined;try{for(var _iterator139=imports[Symbol.iterator](),_step139;!(_iteratorNormalCompletion139=(_step139=_iterator139.next()).done);_iteratorNormalCompletion139=true){var variable=_step139.value;var module=variable.module;if(module instanceof ExternalModule){var name=variable.name;if(name==='default'&&interop&&(module.exportsNamespace||module.exportsNames)){variable.setRenderNames(null,module.variableName+'__default');}else if(name==='*'||name==='default'){variable.setRenderNames(null,module.variableName);}else{variable.setRenderNames(module.variableName,null);}}else{var chunk=module.chunk;if(chunk.exportMode==='default'||preserveModules&&variable.isNamespace){variable.setRenderNames(null,chunk.variableName);}else{variable.setRenderNames(chunk.variableName,chunk.getVariableExportName(variable));}}}}catch(err){_didIteratorError139=true;_iteratorError139=err;}finally{try{if(!_iteratorNormalCompletion139&&_iterator139["return"]!=null){_iterator139["return"]();}}finally{if(_didIteratorError139){throw _iteratorError139;}}}}function deconflictTopLevelVariables(usedNames,modules){var _iteratorNormalCompletion140=true;var _didIteratorError140=false;var _iteratorError140=undefined;try{for(var _iterator140=modules[Symbol.iterator](),_step140;!(_iteratorNormalCompletion140=(_step140=_iterator140.next()).done);_iteratorNormalCompletion140=true){var module=_step140.value;var _iteratorNormalCompletion141=true;var _didIteratorError141=false;var _iteratorError141=undefined;try{for(var _iterator141=module.scope.variables.values()[Symbol.iterator](),_step141;!(_iteratorNormalCompletion141=(_step141=_iterator141.next()).done);_iteratorNormalCompletion141=true){var variable=_step141.value;if(variable.included&&// this will only happen for exports in some formats
!(variable.renderBaseName||variable instanceof ExportDefaultVariable&&variable.getOriginalVariable()!==variable)){variable.setRenderNames(null,getSafeName(variable.name,usedNames));}}}catch(err){_didIteratorError141=true;_iteratorError141=err;}finally{try{if(!_iteratorNormalCompletion141&&_iterator141["return"]!=null){_iterator141["return"]();}}finally{if(_didIteratorError141){throw _iteratorError141;}}}var namespace=module.getOrCreateNamespace();if(namespace.included){namespace.setRenderNames(null,getSafeName(namespace.name,usedNames));}}}catch(err){_didIteratorError140=true;_iteratorError140=err;}finally{try{if(!_iteratorNormalCompletion140&&_iterator140["return"]!=null){_iterator140["return"]();}}finally{if(_didIteratorError140){throw _iteratorError140;}}}}var compareExecIndex=function compareExecIndex(unitA,unitB){return unitA.execIndex>unitB.execIndex?1:-1;};function sortByExecutionOrder(units){units.sort(compareExecIndex);}function analyseModuleExecution(entryModules){var nextExecIndex=0;var cyclePaths=[];var analysedModules={};var orderedModules=[];var dynamicImports=[];var parents={};var analyseModule=function analyseModule(module){if(analysedModules[module.id])return;if(module instanceof ExternalModule){module.execIndex=nextExecIndex++;analysedModules[module.id]=true;return;}var _iteratorNormalCompletion142=true;var _didIteratorError142=false;var _iteratorError142=undefined;try{for(var _iterator142=module.dependencies[Symbol.iterator](),_step142;!(_iteratorNormalCompletion142=(_step142=_iterator142.next()).done);_iteratorNormalCompletion142=true){var dependency=_step142.value;if(dependency.id in parents){if(!analysedModules[dependency.id]){cyclePaths.push(getCyclePath(dependency.id,module.id,parents));}continue;}parents[dependency.id]=module.id;analyseModule(dependency);}}catch(err){_didIteratorError142=true;_iteratorError142=err;}finally{try{if(!_iteratorNormalCompletion142&&_iterator142["return"]!=null){_iterator142["return"]();}}finally{if(_didIteratorError142){throw _iteratorError142;}}}var _iteratorNormalCompletion143=true;var _didIteratorError143=false;var _iteratorError143=undefined;try{for(var _iterator143=module.dynamicImports[Symbol.iterator](),_step143;!(_iteratorNormalCompletion143=(_step143=_iterator143.next()).done);_iteratorNormalCompletion143=true){var resolution=_step143.value.resolution;if(resolution instanceof Module&&dynamicImports.indexOf(resolution)===-1){dynamicImports.push(resolution);}}}catch(err){_didIteratorError143=true;_iteratorError143=err;}finally{try{if(!_iteratorNormalCompletion143&&_iterator143["return"]!=null){_iterator143["return"]();}}finally{if(_didIteratorError143){throw _iteratorError143;}}}module.execIndex=nextExecIndex++;analysedModules[module.id]=true;orderedModules.push(module);};var _iteratorNormalCompletion144=true;var _didIteratorError144=false;var _iteratorError144=undefined;try{for(var _iterator144=entryModules[Symbol.iterator](),_step144;!(_iteratorNormalCompletion144=(_step144=_iterator144.next()).done);_iteratorNormalCompletion144=true){var curEntry=_step144.value;if(!parents[curEntry.id]){parents[curEntry.id]=null;analyseModule(curEntry);}}}catch(err){_didIteratorError144=true;_iteratorError144=err;}finally{try{if(!_iteratorNormalCompletion144&&_iterator144["return"]!=null){_iterator144["return"]();}}finally{if(_didIteratorError144){throw _iteratorError144;}}}for(var _i14=0,_dynamicImports=dynamicImports;_i14<_dynamicImports.length;_i14++){var _curEntry=_dynamicImports[_i14];if(!parents[_curEntry.id]){parents[_curEntry.id]=null;analyseModule(_curEntry);}}return{orderedModules:orderedModules,cyclePaths:cyclePaths};}function getCyclePath(id,parentId,parents){var path=[relativeId(id)];var curId=parentId;while(curId!==id){path.push(relativeId(curId));curId=parents[curId];if(!curId)break;}path.push(path[0]);path.reverse();return path;}function guessIndentString(code){var lines=code.split('\n');var tabbed=lines.filter(function(line){return /^\t+/.test(line);});var spaced=lines.filter(function(line){return /^ {2,}/.test(line);});if(tabbed.length===0&&spaced.length===0){return null;}// More lines tabbed than spaced? Assume tabs, and
// default to tabs in the case of a tie (or nothing
// to go on)
if(tabbed.length>=spaced.length){return'\t';}// Otherwise, we need to guess the multiple
var min=spaced.reduce(function(previous,current){var numSpaces=/^ +/.exec(current)[0].length;return Math.min(numSpaces,previous);},Infinity);return new Array(min+1).join(' ');}function getIndentString(modules,options){if(options.indent!==true)return options.indent||'';for(var _i15=0;_i15<modules.length;_i15++){var indent=guessIndentString(modules[_i15].originalCode);if(indent!==null)return indent;}return'\t';}function decodedSourcemap(map){if(!map)return null;if(typeof map==='string'){map=JSON.parse(map);}if(map.mappings===''){return{mappings:[],names:[],sources:[],version:3};}var mappings;if(typeof map.mappings==='string'){mappings=decode(map.mappings);}else{mappings=map.mappings;}return Object.assign(Object.assign({},map),{mappings:mappings});}function renderChunk(_ref24){var chunk=_ref24.chunk,code=_ref24.code,options=_ref24.options,outputPluginDriver=_ref24.outputPluginDriver,renderChunk=_ref24.renderChunk,sourcemapChain=_ref24.sourcemapChain;var renderChunkReducer=function renderChunkReducer(code,result,plugin){if(result==null)return code;if(typeof result==='string')result={code:result,map:undefined};// strict null check allows 'null' maps to not be pushed to the chain, while 'undefined' gets the missing map warning
if(result.map!==null){var map=decodedSourcemap(result.map);sourcemapChain.push(map||{missing:true,plugin:plugin.name});}return result.code;};var inTransformBundle=false;var inRenderChunk=true;return outputPluginDriver.hookReduceArg0('renderChunk',[code,renderChunk,options],renderChunkReducer).then(function(code){inRenderChunk=false;return outputPluginDriver.hookReduceArg0('transformChunk',[code,options,chunk],renderChunkReducer);}).then(function(code){inTransformBundle=true;return outputPluginDriver.hookReduceArg0('transformBundle',[code,options,chunk],renderChunkReducer);})["catch"](function(err){if(inRenderChunk)throw err;return _error(err,{code:inTransformBundle?'BAD_BUNDLE_TRANSFORMER':'BAD_CHUNK_TRANSFORMER',message:"Error transforming ".concat((inTransformBundle?'bundle':'chunk')+(err.plugin?" with '".concat(err.plugin,"' plugin"):''),": ").concat(err.message),plugin:err.plugin});});}function renderNamePattern(pattern,patternName,replacements){if(!isPlainPathFragment(pattern))return _error(errFailedValidation("Invalid pattern \"".concat(pattern,"\" for \"").concat(patternName,"\", patterns can be neither absolute nor relative paths and must not contain invalid characters.")));return pattern.replace(/\[(\w+)\]/g,function(_match,type){if(!replacements.hasOwnProperty(type)){return _error(errFailedValidation("\"[".concat(type,"]\" is not a valid placeholder in \"").concat(patternName,"\" pattern.")));}var replacement=replacements[type]();if(!isPlainPathFragment(replacement))return _error(errFailedValidation("Invalid substitution \"".concat(replacement,"\" for placeholder \"[").concat(type,"]\" in \"").concat(patternName,"\" pattern, can be neither absolute nor relative path.")));return replacement;});}function makeUnique(name,existingNames){var existingNamesLowercase=new Set(Object.keys(existingNames).map(function(key){return key.toLowerCase();}));if(!existingNamesLowercase.has(name.toLocaleLowerCase()))return name;var ext=path.extname(name);name=name.substr(0,name.length-ext.length);var uniqueName,uniqueIndex=1;while(existingNamesLowercase.has((uniqueName=name+ ++uniqueIndex+ext).toLowerCase())){;}return uniqueName;}var NON_ASSET_EXTENSIONS=['.js','.jsx','.ts','.tsx'];function getGlobalName(module,globals,graph,hasExports){var globalName;if(typeof globals==='function'){globalName=globals(module.id);}else if(globals){globalName=globals[module.id];}if(globalName){return globalName;}if(hasExports){graph.warn({code:'MISSING_GLOBAL_NAME',guess:module.variableName,message:"No name was provided for external module '".concat(module.id,"' in output.globals \u2013 guessing '").concat(module.variableName,"'"),source:module.id});return module.variableName;}}function isChunkRendered(chunk){return!chunk.isEmpty||chunk.entryModules.length>0||chunk.manualChunkAlias!==null;}var Chunk$1=/*#__PURE__*/function(){function Chunk$1(graph,orderedModules){_classCallCheck(this,Chunk$1);this.entryModules=[];this.exportMode='named';this.facadeModule=null;this.id=null;this.indentString=undefined;this.manualChunkAlias=null;this.usedModules=undefined;this.variableName='chunk';this.dependencies=undefined;this.dynamicDependencies=undefined;this.exportNames=Object.create(null);this.exports=new Set();this.fileName=null;this.imports=new Set();this.name=null;this.needsExportsShim=false;this.renderedDeclarations=undefined;this.renderedHash=undefined;this.renderedModuleSources=new Map();this.renderedSource=null;this.renderedSourceLength=undefined;this.sortedExportNames=null;this.graph=graph;this.orderedModules=orderedModules;this.execIndex=orderedModules.length>0?orderedModules[0].execIndex:Infinity;this.isEmpty=true;var _iteratorNormalCompletion145=true;var _didIteratorError145=false;var _iteratorError145=undefined;try{for(var _iterator145=orderedModules[Symbol.iterator](),_step145;!(_iteratorNormalCompletion145=(_step145=_iterator145.next()).done);_iteratorNormalCompletion145=true){var module=_step145.value;if(this.isEmpty&&module.isIncluded()){this.isEmpty=false;}if(module.manualChunkAlias){this.manualChunkAlias=module.manualChunkAlias;}module.chunk=this;if(module.isEntryPoint||module.dynamicallyImportedBy.some(function(module){return orderedModules.indexOf(module)===-1;})){this.entryModules.push(module);}}}catch(err){_didIteratorError145=true;_iteratorError145=err;}finally{try{if(!_iteratorNormalCompletion145&&_iterator145["return"]!=null){_iterator145["return"]();}}finally{if(_didIteratorError145){throw _iteratorError145;}}}var moduleForNaming=this.entryModules[0]||this.orderedModules[this.orderedModules.length-1];if(moduleForNaming){this.variableName=makeLegal(path.basename(moduleForNaming.chunkName||moduleForNaming.manualChunkAlias||getAliasName(moduleForNaming.id)));}}_createClass(Chunk$1,[{key:"canModuleBeFacade",value:function canModuleBeFacade(moduleExportNamesByVariable){var _iteratorNormalCompletion146=true;var _didIteratorError146=false;var _iteratorError146=undefined;try{for(var _iterator146=this.exports[Symbol.iterator](),_step146;!(_iteratorNormalCompletion146=(_step146=_iterator146.next()).done);_iteratorNormalCompletion146=true){var exposedVariable=_step146.value;if(!moduleExportNamesByVariable.has(exposedVariable)){return false;}}}catch(err){_didIteratorError146=true;_iteratorError146=err;}finally{try{if(!_iteratorNormalCompletion146&&_iterator146["return"]!=null){_iterator146["return"]();}}finally{if(_didIteratorError146){throw _iteratorError146;}}}return true;}},{key:"generateFacades",value:function generateFacades(){var facades=[];var _iteratorNormalCompletion147=true;var _didIteratorError147=false;var _iteratorError147=undefined;try{for(var _iterator147=this.entryModules[Symbol.iterator](),_step147;!(_iteratorNormalCompletion147=(_step147=_iterator147.next()).done);_iteratorNormalCompletion147=true){var module=_step147.value;var requiredFacades=Array.from(module.userChunkNames).map(function(name){return{name:name};});if(requiredFacades.length===0&&module.isUserDefinedEntryPoint){requiredFacades.push({});}requiredFacades.push.apply(requiredFacades,_toConsumableArray(Array.from(module.chunkFileNames).map(function(fileName){return{fileName:fileName};})));if(requiredFacades.length===0){requiredFacades.push({});}if(!this.facadeModule){var exportNamesByVariable=module.getExportNamesByVariable();if(this.graph.preserveModules||this.canModuleBeFacade(exportNamesByVariable)){this.facadeModule=module;module.facadeChunk=this;var _iteratorNormalCompletion148=true;var _didIteratorError148=false;var _iteratorError148=undefined;try{for(var _iterator148=exportNamesByVariable[Symbol.iterator](),_step148;!(_iteratorNormalCompletion148=(_step148=_iterator148.next()).done);_iteratorNormalCompletion148=true){var _step148$value=_slicedToArray(_step148.value,2),variable=_step148$value[0],exportNames=_step148$value[1];var _iteratorNormalCompletion149=true;var _didIteratorError149=false;var _iteratorError149=undefined;try{for(var _iterator149=exportNames[Symbol.iterator](),_step149;!(_iteratorNormalCompletion149=(_step149=_iterator149.next()).done);_iteratorNormalCompletion149=true){var exportName=_step149.value;this.exportNames[exportName]=variable;}}catch(err){_didIteratorError149=true;_iteratorError149=err;}finally{try{if(!_iteratorNormalCompletion149&&_iterator149["return"]!=null){_iterator149["return"]();}}finally{if(_didIteratorError149){throw _iteratorError149;}}}}}catch(err){_didIteratorError148=true;_iteratorError148=err;}finally{try{if(!_iteratorNormalCompletion148&&_iterator148["return"]!=null){_iterator148["return"]();}}finally{if(_didIteratorError148){throw _iteratorError148;}}}this.assignFacadeName(requiredFacades.shift(),module);}}var _iteratorNormalCompletion150=true;var _didIteratorError150=false;var _iteratorError150=undefined;try{for(var _iterator150=requiredFacades[Symbol.iterator](),_step150;!(_iteratorNormalCompletion150=(_step150=_iterator150.next()).done);_iteratorNormalCompletion150=true){var facadeName=_step150.value;facades.push(Chunk$1.generateFacade(this.graph,module,facadeName));}}catch(err){_didIteratorError150=true;_iteratorError150=err;}finally{try{if(!_iteratorNormalCompletion150&&_iterator150["return"]!=null){_iterator150["return"]();}}finally{if(_didIteratorError150){throw _iteratorError150;}}}}}catch(err){_didIteratorError147=true;_iteratorError147=err;}finally{try{if(!_iteratorNormalCompletion147&&_iterator147["return"]!=null){_iterator147["return"]();}}finally{if(_didIteratorError147){throw _iteratorError147;}}}return facades;}},{key:"generateId",value:function generateId(addons,options,existingNames,includeHash,outputPluginDriver){var _this30=this;if(this.fileName!==null){return this.fileName;}var _ref25=this.facadeModule&&this.facadeModule.isUserDefinedEntryPoint?[options.entryFileNames||'[name].js','output.entryFileNames']:[options.chunkFileNames||'[name]-[hash].js','output.chunkFileNames'],_ref26=_slicedToArray(_ref25,2),pattern=_ref26[0],patternName=_ref26[1];return makeUnique(renderNamePattern(pattern,patternName,{format:function format(){return options.format==='es'?'esm':options.format;},hash:function hash(){return includeHash?_this30.computeContentHashWithDependencies(addons,options,existingNames,outputPluginDriver):'[hash]';},name:function name(){return _this30.getChunkName();}}),existingNames);}},{key:"generateIdPreserveModules",value:function generateIdPreserveModules(preserveModulesRelativeDir,options,existingNames){var _this31=this;var id=this.orderedModules[0].id;var sanitizedId=sanitizeFileName(id);var path$1;if(isAbsolute(id)){var extension=path.extname(id);var name=renderNamePattern(options.entryFileNames||(NON_ASSET_EXTENSIONS.includes(extension)?'[name].js':'[name][extname].js'),'output.entryFileNames',{ext:function ext(){return extension.substr(1);},extname:function extname(){return extension;},format:function format(){return options.format==='es'?'esm':options.format;},name:function name(){return _this31.getChunkName();}});path$1=relative(preserveModulesRelativeDir,"".concat(path.dirname(sanitizedId),"/").concat(name));}else{path$1="_virtual/".concat(path.basename(sanitizedId));}return makeUnique(normalize(path$1),existingNames);}},{key:"generateInternalExports",value:function generateInternalExports(options){if(this.facadeModule!==null)return;var mangle=options.format==='system'||options.format==='es'||options.compact;var i=0,safeExportName;this.exportNames=Object.create(null);this.sortedExportNames=null;if(mangle){var _iteratorNormalCompletion151=true;var _didIteratorError151=false;var _iteratorError151=undefined;try{for(var _iterator151=this.exports[Symbol.iterator](),_step151;!(_iteratorNormalCompletion151=(_step151=_iterator151.next()).done);_iteratorNormalCompletion151=true){var variable=_step151.value;var suggestedName=variable.name[0];if(!this.exportNames[suggestedName]){this.exportNames[suggestedName]=variable;}else{do{safeExportName=toBase64(++i);// skip past leading number identifiers
if(safeExportName.charCodeAt(0)===49/* '1' */){i+=9*Math.pow(64,safeExportName.length-1);safeExportName=toBase64(i);}}while(RESERVED_NAMES[safeExportName]||this.exportNames[safeExportName]);this.exportNames[safeExportName]=variable;}}}catch(err){_didIteratorError151=true;_iteratorError151=err;}finally{try{if(!_iteratorNormalCompletion151&&_iterator151["return"]!=null){_iterator151["return"]();}}finally{if(_didIteratorError151){throw _iteratorError151;}}}}else{var _iteratorNormalCompletion152=true;var _didIteratorError152=false;var _iteratorError152=undefined;try{for(var _iterator152=this.exports[Symbol.iterator](),_step152;!(_iteratorNormalCompletion152=(_step152=_iterator152.next()).done);_iteratorNormalCompletion152=true){var _variable2=_step152.value;i=0;safeExportName=_variable2.name;while(this.exportNames[safeExportName]){safeExportName=_variable2.name+'$'+ ++i;}this.exportNames[safeExportName]=_variable2;}}catch(err){_didIteratorError152=true;_iteratorError152=err;}finally{try{if(!_iteratorNormalCompletion152&&_iterator152["return"]!=null){_iterator152["return"]();}}finally{if(_didIteratorError152){throw _iteratorError152;}}}}}},{key:"getChunkName",value:function getChunkName(){return this.name||(this.name=sanitizeFileName(this.getFallbackChunkName()));}},{key:"getDynamicImportIds",value:function getDynamicImportIds(){return this.dynamicDependencies.map(function(chunk){return chunk.id;}).filter(Boolean);}},{key:"getExportNames",value:function getExportNames(){return this.sortedExportNames||(this.sortedExportNames=Object.keys(this.exportNames).sort());}},{key:"getImportIds",value:function getImportIds(){return this.dependencies.map(function(chunk){return chunk.id;}).filter(Boolean);}},{key:"getRenderedHash",value:function getRenderedHash(outputPluginDriver){var _this32=this;if(this.renderedHash)return this.renderedHash;if(!this.renderedSource)return'';var hash=createHash();var hashAugmentation=this.calculateHashAugmentation(outputPluginDriver);hash.update(hashAugmentation);hash.update(this.renderedSource.toString());hash.update(this.getExportNames().map(function(exportName){var variable=_this32.exportNames[exportName];return"".concat(relativeId(variable.module.id).replace(/\\/g,'/'),":").concat(variable.name,":").concat(exportName);}).join(','));return this.renderedHash=hash.digest('hex');}},{key:"getRenderedSourceLength",value:function getRenderedSourceLength(){if(this.renderedSourceLength!==undefined)return this.renderedSourceLength;return this.renderedSourceLength=this.renderedSource.length();}},{key:"getVariableExportName",value:function getVariableExportName(variable){if(this.graph.preserveModules&&variable instanceof NamespaceVariable){return'*';}for(var _i16=0,_Object$keys10=Object.keys(this.exportNames);_i16<_Object$keys10.length;_i16++){var exportName=_Object$keys10[_i16];if(this.exportNames[exportName]===variable)return exportName;}throw new Error("Internal Error: Could not find export name for variable ".concat(variable.name,"."));}},{key:"link",value:function link(){var dependencies=new Set();var dynamicDependencies=new Set();var _iteratorNormalCompletion153=true;var _didIteratorError153=false;var _iteratorError153=undefined;try{for(var _iterator153=this.orderedModules[Symbol.iterator](),_step153;!(_iteratorNormalCompletion153=(_step153=_iterator153.next()).done);_iteratorNormalCompletion153=true){var module=_step153.value;this.addDependenciesToChunk(module.getTransitiveDependencies(),dependencies);this.addDependenciesToChunk(module.dynamicDependencies,dynamicDependencies);this.setUpChunkImportsAndExportsForModule(module);}}catch(err){_didIteratorError153=true;_iteratorError153=err;}finally{try{if(!_iteratorNormalCompletion153&&_iterator153["return"]!=null){_iterator153["return"]();}}finally{if(_didIteratorError153){throw _iteratorError153;}}}this.dependencies=Array.from(dependencies);this.dynamicDependencies=Array.from(dynamicDependencies);}/*
     * Performs a full merge of another chunk into this chunk
     * chunkList allows updating references in other chunks for the merged chunk to this chunk
     * A new facade will be added to chunkList if tainting exports of either as an entry point
     */},{key:"merge",value:function merge(chunk,chunkList,options,inputBase){var _this33=this;if(this.facadeModule!==null||chunk.facadeModule!==null)throw new Error('Internal error: Code splitting chunk merges not supported for facades');var _iteratorNormalCompletion154=true;var _didIteratorError154=false;var _iteratorError154=undefined;try{for(var _iterator154=chunk.orderedModules[Symbol.iterator](),_step154;!(_iteratorNormalCompletion154=(_step154=_iterator154.next()).done);_iteratorNormalCompletion154=true){var module=_step154.value;module.chunk=this;this.orderedModules.push(module);}}catch(err){_didIteratorError154=true;_iteratorError154=err;}finally{try{if(!_iteratorNormalCompletion154&&_iterator154["return"]!=null){_iterator154["return"]();}}finally{if(_didIteratorError154){throw _iteratorError154;}}}var _iteratorNormalCompletion155=true;var _didIteratorError155=false;var _iteratorError155=undefined;try{for(var _iterator155=chunk.imports[Symbol.iterator](),_step155;!(_iteratorNormalCompletion155=(_step155=_iterator155.next()).done);_iteratorNormalCompletion155=true){var variable=_step155.value;if(!this.imports.has(variable)&&variable.module.chunk!==this){this.imports.add(variable);}}// NB detect when exported variables are orphaned by the merge itself
// (involves reverse tracing dependents)
}catch(err){_didIteratorError155=true;_iteratorError155=err;}finally{try{if(!_iteratorNormalCompletion155&&_iterator155["return"]!=null){_iterator155["return"]();}}finally{if(_didIteratorError155){throw _iteratorError155;}}}var _iteratorNormalCompletion156=true;var _didIteratorError156=false;var _iteratorError156=undefined;try{for(var _iterator156=chunk.exports[Symbol.iterator](),_step156;!(_iteratorNormalCompletion156=(_step156=_iterator156.next()).done);_iteratorNormalCompletion156=true){var _variable3=_step156.value;if(!this.exports.has(_variable3)){this.exports.add(_variable3);}}}catch(err){_didIteratorError156=true;_iteratorError156=err;}finally{try{if(!_iteratorNormalCompletion156&&_iterator156["return"]!=null){_iterator156["return"]();}}finally{if(_didIteratorError156){throw _iteratorError156;}}}var thisOldExportNames=this.exportNames;// regenerate internal names
this.generateInternalExports(options);var updateRenderedDeclaration=function updateRenderedDeclaration(dep,oldExportNames){if(dep.imports){var _iteratorNormalCompletion157=true;var _didIteratorError157=false;var _iteratorError157=undefined;try{for(var _iterator157=dep.imports[Symbol.iterator](),_step157;!(_iteratorNormalCompletion157=(_step157=_iterator157.next()).done);_iteratorNormalCompletion157=true){var impt=_step157.value;impt.imported=_this33.getVariableExportName(oldExportNames[impt.imported]);}}catch(err){_didIteratorError157=true;_iteratorError157=err;}finally{try{if(!_iteratorNormalCompletion157&&_iterator157["return"]!=null){_iterator157["return"]();}}finally{if(_didIteratorError157){throw _iteratorError157;}}}}if(dep.reexports){var _iteratorNormalCompletion158=true;var _didIteratorError158=false;var _iteratorError158=undefined;try{for(var _iterator158=dep.reexports[Symbol.iterator](),_step158;!(_iteratorNormalCompletion158=(_step158=_iterator158.next()).done);_iteratorNormalCompletion158=true){var reexport=_step158.value;reexport.imported=_this33.getVariableExportName(oldExportNames[reexport.imported]);}}catch(err){_didIteratorError158=true;_iteratorError158=err;}finally{try{if(!_iteratorNormalCompletion158&&_iterator158["return"]!=null){_iterator158["return"]();}}finally{if(_didIteratorError158){throw _iteratorError158;}}}}};var mergeRenderedDeclaration=function mergeRenderedDeclaration(into,from){if(from.imports){if(!into.imports){into.imports=from.imports;}else{into.imports=into.imports.concat(from.imports);}}if(from.reexports){if(!into.reexports){into.reexports=from.reexports;}else{into.reexports=into.reexports.concat(from.reexports);}}if(!into.exportsNames&&from.exportsNames){into.exportsNames=true;}if(!into.exportsDefault&&from.exportsDefault){into.exportsDefault=true;}into.name=_this33.variableName;};// go through the other chunks and update their dependencies
// also update their import and reexport names in the process
var _iteratorNormalCompletion159=true;var _didIteratorError159=false;var _iteratorError159=undefined;try{for(var _iterator159=chunkList[Symbol.iterator](),_step159;!(_iteratorNormalCompletion159=(_step159=_iterator159.next()).done);_iteratorNormalCompletion159=true){var c=_step159.value;var includedDeclaration=undefined;for(var _i17=0;_i17<c.dependencies.length;_i17++){var dep=c.dependencies[_i17];if((dep===chunk||dep===this)&&includedDeclaration){var duplicateDeclaration=c.renderedDeclarations.dependencies[_i17];updateRenderedDeclaration(duplicateDeclaration,dep===chunk?chunk.exportNames:thisOldExportNames);mergeRenderedDeclaration(includedDeclaration,duplicateDeclaration);c.renderedDeclarations.dependencies.splice(_i17,1);c.dependencies.splice(_i17--,1);}else if(dep===chunk){c.dependencies[_i17]=this;includedDeclaration=c.renderedDeclarations.dependencies[_i17];updateRenderedDeclaration(includedDeclaration,chunk.exportNames);}else if(dep===this){includedDeclaration=c.renderedDeclarations.dependencies[_i17];updateRenderedDeclaration(includedDeclaration,thisOldExportNames);}}}// re-render the merged chunk
}catch(err){_didIteratorError159=true;_iteratorError159=err;}finally{try{if(!_iteratorNormalCompletion159&&_iterator159["return"]!=null){_iterator159["return"]();}}finally{if(_didIteratorError159){throw _iteratorError159;}}}this.preRender(options,inputBase);}// prerender allows chunk hashes and names to be generated before finalizing
},{key:"preRender",value:function preRender(options,inputBase){timeStart('render modules',3);var magicString=new Bundle({separator:options.compact?'':'\n\n'});this.usedModules=[];this.indentString=options.compact?'':getIndentString(this.orderedModules,options);var n=options.compact?'':'\n';var _=options.compact?'':' ';var renderOptions={compact:options.compact,dynamicImportFunction:options.dynamicImportFunction,format:options.format,freeze:options.freeze!==false,indent:this.indentString,namespaceToStringTag:options.namespaceToStringTag===true,varOrConst:options.preferConst?'const':'var'};// Make sure the direct dependencies of a chunk are present to maintain execution order
var _iteratorNormalCompletion160=true;var _didIteratorError160=false;var _iteratorError160=undefined;try{for(var _iterator160=this.imports[Symbol.iterator](),_step160;!(_iteratorNormalCompletion160=(_step160=_iterator160.next()).done);_iteratorNormalCompletion160=true){var module=_step160.value.module;var chunkOrExternal=module instanceof Module?module.chunk:module;if(this.dependencies.indexOf(chunkOrExternal)===-1){this.dependencies.push(chunkOrExternal);}}// for static and dynamic entry points, inline the execution list to avoid loading latency
}catch(err){_didIteratorError160=true;_iteratorError160=err;}finally{try{if(!_iteratorNormalCompletion160&&_iterator160["return"]!=null){_iterator160["return"]();}}finally{if(_didIteratorError160){throw _iteratorError160;}}}if(options.hoistTransitiveImports!==false&&!this.graph.preserveModules&&this.facadeModule!==null){var _iteratorNormalCompletion161=true;var _didIteratorError161=false;var _iteratorError161=undefined;try{for(var _iterator161=this.dependencies[Symbol.iterator](),_step161;!(_iteratorNormalCompletion161=(_step161=_iterator161.next()).done);_iteratorNormalCompletion161=true){var dep=_step161.value;if(dep instanceof Chunk$1)this.inlineChunkDependencies(dep,true);}}catch(err){_didIteratorError161=true;_iteratorError161=err;}finally{try{if(!_iteratorNormalCompletion161&&_iterator161["return"]!=null){_iterator161["return"]();}}finally{if(_didIteratorError161){throw _iteratorError161;}}}}// prune empty dependency chunks, inlining their side-effect dependencies
for(var _i18=0;_i18<this.dependencies.length;_i18++){var _dep=this.dependencies[_i18];if(_dep instanceof Chunk$1&&_dep.isEmpty){this.dependencies.splice(_i18--,1);this.inlineChunkDependencies(_dep,false);}}sortByExecutionOrder(this.dependencies);this.prepareDynamicImports();this.setIdentifierRenderResolutions(options);var hoistedSource='';var renderedModules=this.renderedModules=Object.create(null);var _iteratorNormalCompletion162=true;var _didIteratorError162=false;var _iteratorError162=undefined;try{for(var _iterator162=this.orderedModules[Symbol.iterator](),_step162;!(_iteratorNormalCompletion162=(_step162=_iterator162.next()).done);_iteratorNormalCompletion162=true){var _module4=_step162.value;var renderedLength=0;if(_module4.isIncluded()){var source=_module4.render(renderOptions).trim();if(options.compact&&source.lastLine().indexOf('//')!==-1)source.append('\n');var namespace=_module4.getOrCreateNamespace();if(namespace.included||source.length()>0){renderedLength=source.length();this.renderedModuleSources.set(_module4,source);magicString.addSource(source);this.usedModules.push(_module4);if(namespace.included&&!this.graph.preserveModules){var rendered=namespace.renderBlock(renderOptions);if(namespace.renderFirst())hoistedSource+=n+rendered;else magicString.addSource(new MagicString(rendered));}}}var _module4$getRenderedE=_module4.getRenderedExports(),renderedExports=_module4$getRenderedE.renderedExports,removedExports=_module4$getRenderedE.removedExports;renderedModules[_module4.id]={originalLength:_module4.originalCode.length,removedExports:removedExports,renderedExports:renderedExports,renderedLength:renderedLength};}}catch(err){_didIteratorError162=true;_iteratorError162=err;}finally{try{if(!_iteratorNormalCompletion162&&_iterator162["return"]!=null){_iterator162["return"]();}}finally{if(_didIteratorError162){throw _iteratorError162;}}}if(hoistedSource)magicString.prepend(hoistedSource+n+n);if(this.needsExportsShim){magicString.prepend("".concat(n).concat(renderOptions.varOrConst," ").concat(MISSING_EXPORT_SHIM_VARIABLE).concat(_,"=").concat(_,"void 0;").concat(n).concat(n));}if(options.compact){this.renderedSource=magicString;}else{this.renderedSource=magicString.trim();}this.renderedSourceLength=undefined;this.renderedHash=undefined;if(this.isEmpty&&this.getExportNames().length===0&&this.dependencies.length===0){var chunkName=this.getChunkName();this.graph.warn({chunkName:chunkName,code:'EMPTY_BUNDLE',message:"Generated an empty chunk: \"".concat(chunkName,"\"")});}this.setExternalRenderPaths(options,inputBase);this.renderedDeclarations={dependencies:this.getChunkDependencyDeclarations(options),exports:this.exportMode==='none'?[]:this.getChunkExportDeclarations()};timeEnd('render modules',3);}},{key:"render",value:function render(options,addons,outputChunk,outputPluginDriver){var _this34=this;timeStart('render format',3);var format=options.format;var finalise=finalisers[format];if(options.dynamicImportFunction&&format!=='es'){this.graph.warn({code:'INVALID_OPTION',message:'"output.dynamicImportFunction" is ignored for formats other than "esm".'});}// populate ids in the rendered declarations only here
// as chunk ids known only after prerender
for(var _i19=0;_i19<this.dependencies.length;_i19++){var dep=this.dependencies[_i19];if(dep instanceof ExternalModule&&!dep.renormalizeRenderPath)continue;var renderedDependency=this.renderedDeclarations.dependencies[_i19];var depId=dep instanceof ExternalModule?renderedDependency.id:dep.id;if(dep instanceof Chunk$1)renderedDependency.namedExportsMode=dep.exportMode!=='default';renderedDependency.id=this.getRelativePath(depId);}this.finaliseDynamicImports(format);this.finaliseImportMetas(format,outputPluginDriver);var hasExports=this.renderedDeclarations.exports.length!==0||this.renderedDeclarations.dependencies.some(function(dep){return dep.reexports&&dep.reexports.length!==0;});var usesTopLevelAwait=false;var accessedGlobals=new Set();var _iteratorNormalCompletion163=true;var _didIteratorError163=false;var _iteratorError163=undefined;try{for(var _iterator163=this.orderedModules[Symbol.iterator](),_step163;!(_iteratorNormalCompletion163=(_step163=_iterator163.next()).done);_iteratorNormalCompletion163=true){var module=_step163.value;if(module.usesTopLevelAwait){usesTopLevelAwait=true;}var accessedGlobalVariablesByFormat=module.scope.accessedGlobalVariablesByFormat;var accessedGlobalVariables=accessedGlobalVariablesByFormat&&accessedGlobalVariablesByFormat.get(format);if(accessedGlobalVariables){var _iteratorNormalCompletion164=true;var _didIteratorError164=false;var _iteratorError164=undefined;try{for(var _iterator164=accessedGlobalVariables[Symbol.iterator](),_step164;!(_iteratorNormalCompletion164=(_step164=_iterator164.next()).done);_iteratorNormalCompletion164=true){var name=_step164.value;accessedGlobals.add(name);}}catch(err){_didIteratorError164=true;_iteratorError164=err;}finally{try{if(!_iteratorNormalCompletion164&&_iterator164["return"]!=null){_iterator164["return"]();}}finally{if(_didIteratorError164){throw _iteratorError164;}}}}}}catch(err){_didIteratorError163=true;_iteratorError163=err;}finally{try{if(!_iteratorNormalCompletion163&&_iterator163["return"]!=null){_iterator163["return"]();}}finally{if(_didIteratorError163){throw _iteratorError163;}}}if(usesTopLevelAwait&&format!=='es'&&format!=='system'){return _error({code:'INVALID_TLA_FORMAT',message:"Module format ".concat(format," does not support top-level await. Use the \"es\" or \"system\" output formats rather.")});}var magicString=finalise(this.renderedSource,{accessedGlobals:accessedGlobals,dependencies:this.renderedDeclarations.dependencies,exports:this.renderedDeclarations.exports,hasExports:hasExports,indentString:this.indentString,intro:addons.intro,isEntryModuleFacade:this.graph.preserveModules||this.facadeModule!==null&&this.facadeModule.isEntryPoint,namedExportsMode:this.exportMode!=='default',outro:addons.outro,usesTopLevelAwait:usesTopLevelAwait,varOrConst:options.preferConst?'const':'var',warn:this.graph.warn.bind(this.graph)},options);if(addons.banner)magicString.prepend(addons.banner);if(addons.footer)magicString.append(addons.footer);var prevCode=magicString.toString();timeEnd('render format',3);var map=null;var chunkSourcemapChain=[];return renderChunk({chunk:this,code:prevCode,options:options,outputPluginDriver:outputPluginDriver,renderChunk:outputChunk,sourcemapChain:chunkSourcemapChain}).then(function(code){if(options.sourcemap){timeStart('sourcemap',3);var file;if(options.file)file=path.resolve(options.sourcemapFile||options.file);else if(options.dir)file=path.resolve(options.dir,_this34.id);else file=path.resolve(_this34.id);var decodedMap=magicString.generateDecodedMap({});map=collapseSourcemaps(_this34,file,decodedMap,_this34.usedModules,chunkSourcemapChain,options.sourcemapExcludeSources);map.sources=map.sources.map(function(sourcePath){return normalize(options.sourcemapPathTransform?options.sourcemapPathTransform(sourcePath):sourcePath);});timeEnd('sourcemap',3);}if(options.compact!==true&&code[code.length-1]!=='\n')code+='\n';return{code:code,map:map};});}},{key:"visitDependencies",value:function visitDependencies(handleDependency){var toBeVisited=[this];var visited=new Set();for(var _i20=0,_toBeVisited=toBeVisited;_i20<_toBeVisited.length;_i20++){var current=_toBeVisited[_i20];handleDependency(current);if(current instanceof ExternalModule)continue;var _iteratorNormalCompletion165=true;var _didIteratorError165=false;var _iteratorError165=undefined;try{for(var _iterator165=current.dependencies.concat(current.dynamicDependencies)[Symbol.iterator](),_step165;!(_iteratorNormalCompletion165=(_step165=_iterator165.next()).done);_iteratorNormalCompletion165=true){var dependency=_step165.value;if(!visited.has(dependency)){visited.add(dependency);toBeVisited.push(dependency);}}}catch(err){_didIteratorError165=true;_iteratorError165=err;}finally{try{if(!_iteratorNormalCompletion165&&_iterator165["return"]!=null){_iterator165["return"]();}}finally{if(_didIteratorError165){throw _iteratorError165;}}}}}},{key:"visitStaticDependenciesUntilCondition",value:function visitStaticDependenciesUntilCondition(isConditionSatisfied){var seen=new Set();function visitDep(dep){if(seen.has(dep))return undefined;seen.add(dep);if(dep instanceof Chunk$1){var _iteratorNormalCompletion166=true;var _didIteratorError166=false;var _iteratorError166=undefined;try{for(var _iterator166=dep.dependencies[Symbol.iterator](),_step166;!(_iteratorNormalCompletion166=(_step166=_iterator166.next()).done);_iteratorNormalCompletion166=true){var subDep=_step166.value;if(visitDep(subDep))return true;}}catch(err){_didIteratorError166=true;_iteratorError166=err;}finally{try{if(!_iteratorNormalCompletion166&&_iterator166["return"]!=null){_iterator166["return"]();}}finally{if(_didIteratorError166){throw _iteratorError166;}}}}return isConditionSatisfied(dep)===true;}return visitDep(this);}},{key:"addDependenciesToChunk",value:function addDependenciesToChunk(moduleDependencies,chunkDependencies){var _iteratorNormalCompletion167=true;var _didIteratorError167=false;var _iteratorError167=undefined;try{for(var _iterator167=moduleDependencies[Symbol.iterator](),_step167;!(_iteratorNormalCompletion167=(_step167=_iterator167.next()).done);_iteratorNormalCompletion167=true){var depModule=_step167.value;if(depModule.chunk===this){continue;}var dependency=void 0;if(depModule instanceof Module){dependency=depModule.chunk;}else{if(!(depModule.used||depModule.moduleSideEffects)){continue;}dependency=depModule;}chunkDependencies.add(dependency);}}catch(err){_didIteratorError167=true;_iteratorError167=err;}finally{try{if(!_iteratorNormalCompletion167&&_iterator167["return"]!=null){_iterator167["return"]();}}finally{if(_didIteratorError167){throw _iteratorError167;}}}}},{key:"assignFacadeName",value:function assignFacadeName(_ref27,facadedModule){var fileName=_ref27.fileName,name=_ref27.name;if(fileName){this.fileName=fileName;}else{this.name=sanitizeFileName(name||facadedModule.chunkName||getAliasName(facadedModule.id));}}},{key:"calculateHashAugmentation",value:function calculateHashAugmentation(outputPluginDriver){var facadeModule=this.facadeModule;var getChunkName=this.getChunkName.bind(this);var preRenderedChunk={dynamicImports:this.getDynamicImportIds(),exports:this.getExportNames(),facadeModuleId:facadeModule&&facadeModule.id,imports:this.getImportIds(),isDynamicEntry:facadeModule!==null&&facadeModule.dynamicallyImportedBy.length>0,isEntry:facadeModule!==null&&facadeModule.isEntryPoint,modules:this.renderedModules,get name(){return getChunkName();}};return outputPluginDriver.hookReduceValueSync('augmentChunkHash','',[preRenderedChunk],function(hashAugmentation,pluginHash){if(pluginHash){hashAugmentation+=pluginHash;}return hashAugmentation;});}},{key:"computeContentHashWithDependencies",value:function computeContentHashWithDependencies(addons,options,existingNames,outputPluginDriver){var hash=createHash();hash.update([addons.intro,addons.outro,addons.banner,addons.footer].map(function(addon){return addon||'';}).join(':'));hash.update(options.format);this.visitDependencies(function(dep){if(dep instanceof ExternalModule){hash.update(':'+dep.renderPath);}else{hash.update(dep.getRenderedHash(outputPluginDriver));hash.update(dep.generateId(addons,options,existingNames,false,outputPluginDriver));}});return hash.digest('hex').substr(0,8);}},{key:"finaliseDynamicImports",value:function finaliseDynamicImports(format){var _iteratorNormalCompletion168=true;var _didIteratorError168=false;var _iteratorError168=undefined;try{for(var _iterator168=this.renderedModuleSources[Symbol.iterator](),_step168;!(_iteratorNormalCompletion168=(_step168=_iterator168.next()).done);_iteratorNormalCompletion168=true){var _step168$value=_slicedToArray(_step168.value,2),module=_step168$value[0],code=_step168$value[1];var _iteratorNormalCompletion169=true;var _didIteratorError169=false;var _iteratorError169=undefined;try{for(var _iterator169=module.dynamicImports[Symbol.iterator](),_step169;!(_iteratorNormalCompletion169=(_step169=_iterator169.next()).done);_iteratorNormalCompletion169=true){var _step169$value=_step169.value,node=_step169$value.node,resolution=_step169$value.resolution;if(!resolution)continue;if(resolution instanceof Module){if(resolution.chunk!==this&&isChunkRendered(resolution.chunk)){var resolutionChunk=resolution.facadeChunk||resolution.chunk;node.renderFinalResolution(code,"'".concat(this.getRelativePath(resolutionChunk.id),"'"),format);}}else{node.renderFinalResolution(code,resolution instanceof ExternalModule?"'".concat(resolution.renormalizeRenderPath?this.getRelativePath(resolution.renderPath):resolution.id,"'"):resolution,format);}}}catch(err){_didIteratorError169=true;_iteratorError169=err;}finally{try{if(!_iteratorNormalCompletion169&&_iterator169["return"]!=null){_iterator169["return"]();}}finally{if(_didIteratorError169){throw _iteratorError169;}}}}}catch(err){_didIteratorError168=true;_iteratorError168=err;}finally{try{if(!_iteratorNormalCompletion168&&_iterator168["return"]!=null){_iterator168["return"]();}}finally{if(_didIteratorError168){throw _iteratorError168;}}}}},{key:"finaliseImportMetas",value:function finaliseImportMetas(format,outputPluginDriver){var _iteratorNormalCompletion170=true;var _didIteratorError170=false;var _iteratorError170=undefined;try{for(var _iterator170=this.renderedModuleSources[Symbol.iterator](),_step170;!(_iteratorNormalCompletion170=(_step170=_iterator170.next()).done);_iteratorNormalCompletion170=true){var _step170$value=_slicedToArray(_step170.value,2),module=_step170$value[0],code=_step170$value[1];var _iteratorNormalCompletion171=true;var _didIteratorError171=false;var _iteratorError171=undefined;try{for(var _iterator171=module.importMetas[Symbol.iterator](),_step171;!(_iteratorNormalCompletion171=(_step171=_iterator171.next()).done);_iteratorNormalCompletion171=true){var importMeta=_step171.value;importMeta.renderFinalMechanism(code,this.id,format,outputPluginDriver);}}catch(err){_didIteratorError171=true;_iteratorError171=err;}finally{try{if(!_iteratorNormalCompletion171&&_iterator171["return"]!=null){_iterator171["return"]();}}finally{if(_didIteratorError171){throw _iteratorError171;}}}}}catch(err){_didIteratorError170=true;_iteratorError170=err;}finally{try{if(!_iteratorNormalCompletion170&&_iterator170["return"]!=null){_iterator170["return"]();}}finally{if(_didIteratorError170){throw _iteratorError170;}}}}},{key:"getChunkDependencyDeclarations",value:function getChunkDependencyDeclarations(options){var reexportDeclarations=new Map();var _iteratorNormalCompletion172=true;var _didIteratorError172=false;var _iteratorError172=undefined;try{for(var _iterator172=this.getExportNames()[Symbol.iterator](),_step172;!(_iteratorNormalCompletion172=(_step172=_iterator172.next()).done);_iteratorNormalCompletion172=true){var exportName=_step172.value;var exportChunk=void 0;var importName=void 0;var needsLiveBinding=false;if(exportName[0]==='*'){needsLiveBinding=options.externalLiveBindings!==false;exportChunk=this.graph.moduleById.get(exportName.substr(1));importName=exportName='*';}else{var variable=this.exportNames[exportName];var module=variable.module;// skip local exports
if(!module||module.chunk===this)continue;if(module instanceof Module){exportChunk=module.chunk;importName=exportChunk.getVariableExportName(variable);needsLiveBinding=variable.isReassigned;}else{exportChunk=module;importName=variable.name;needsLiveBinding=options.externalLiveBindings!==false;}}var reexportDeclaration=reexportDeclarations.get(exportChunk);if(!reexportDeclaration)reexportDeclarations.set(exportChunk,reexportDeclaration=[]);reexportDeclaration.push({imported:importName,reexported:exportName,needsLiveBinding:needsLiveBinding});}}catch(err){_didIteratorError172=true;_iteratorError172=err;}finally{try{if(!_iteratorNormalCompletion172&&_iterator172["return"]!=null){_iterator172["return"]();}}finally{if(_didIteratorError172){throw _iteratorError172;}}}var renderedImports=new Set();var dependencies=[];var _iteratorNormalCompletion173=true;var _didIteratorError173=false;var _iteratorError173=undefined;try{for(var _iterator173=this.dependencies[Symbol.iterator](),_step173;!(_iteratorNormalCompletion173=(_step173=_iterator173.next()).done);_iteratorNormalCompletion173=true){var dep=_step173.value;var imports=[];var _iteratorNormalCompletion174=true;var _didIteratorError174=false;var _iteratorError174=undefined;try{for(var _iterator174=this.imports[Symbol.iterator](),_step174;!(_iteratorNormalCompletion174=(_step174=_iterator174.next()).done);_iteratorNormalCompletion174=true){var _variable4=_step174.value;var renderedVariable=_variable4 instanceof ExportDefaultVariable?_variable4.getOriginalVariable():_variable4;if((_variable4.module instanceof Module?_variable4.module.chunk===dep:_variable4.module===dep)&&!renderedImports.has(renderedVariable)){renderedImports.add(renderedVariable);imports.push({imported:_variable4.module instanceof ExternalModule?_variable4.name:_variable4.module.chunk.getVariableExportName(_variable4),local:_variable4.getName()});}}}catch(err){_didIteratorError174=true;_iteratorError174=err;}finally{try{if(!_iteratorNormalCompletion174&&_iterator174["return"]!=null){_iterator174["return"]();}}finally{if(_didIteratorError174){throw _iteratorError174;}}}var reexports=reexportDeclarations.get(dep);var exportsNames=void 0,exportsDefault=void 0;var namedExportsMode=true;if(dep instanceof ExternalModule){exportsNames=dep.exportsNames||dep.exportsNamespace;exportsDefault='default'in dep.declarations;}else{exportsNames=true;// we don't want any interop patterns to trigger
exportsDefault=false;namedExportsMode=dep.exportMode!=='default';}var id=undefined;var globalName=undefined;if(dep instanceof ExternalModule){id=dep.renderPath;if(options.format==='umd'||options.format==='iife'){globalName=getGlobalName(dep,options.globals,this.graph,exportsNames||exportsDefault);}}dependencies.push({exportsDefault:exportsDefault,exportsNames:exportsNames,globalName:globalName,id:id,imports:imports.length>0?imports:null,isChunk:dep instanceof Chunk$1,name:dep.variableName,namedExportsMode:namedExportsMode,reexports:reexports});}}catch(err){_didIteratorError173=true;_iteratorError173=err;}finally{try{if(!_iteratorNormalCompletion173&&_iterator173["return"]!=null){_iterator173["return"]();}}finally{if(_didIteratorError173){throw _iteratorError173;}}}return dependencies;}},{key:"getChunkExportDeclarations",value:function getChunkExportDeclarations(){var exports=[];var _iteratorNormalCompletion175=true;var _didIteratorError175=false;var _iteratorError175=undefined;try{for(var _iterator175=this.getExportNames()[Symbol.iterator](),_step175;!(_iteratorNormalCompletion175=(_step175=_iterator175.next()).done);_iteratorNormalCompletion175=true){var exportName=_step175.value;if(exportName[0]==='*')continue;var variable=this.exportNames[exportName];var module=variable.module;if(module&&module.chunk!==this)continue;var hoisted=false;var uninitialized=false;if(variable instanceof LocalVariable){if(variable.init===UNDEFINED_EXPRESSION){uninitialized=true;}var _iteratorNormalCompletion176=true;var _didIteratorError176=false;var _iteratorError176=undefined;try{for(var _iterator176=variable.declarations[Symbol.iterator](),_step176;!(_iteratorNormalCompletion176=(_step176=_iterator176.next()).done);_iteratorNormalCompletion176=true){var declaration=_step176.value;if(declaration.parent instanceof FunctionDeclaration||declaration instanceof ExportDefaultDeclaration&&declaration.declaration instanceof FunctionDeclaration){hoisted=true;break;}}}catch(err){_didIteratorError176=true;_iteratorError176=err;}finally{try{if(!_iteratorNormalCompletion176&&_iterator176["return"]!=null){_iterator176["return"]();}}finally{if(_didIteratorError176){throw _iteratorError176;}}}}else if(variable instanceof GlobalVariable){hoisted=true;}var localName=variable.getName();exports.push({exported:exportName==='*'?localName:exportName,hoisted:hoisted,local:localName,uninitialized:uninitialized});}}catch(err){_didIteratorError175=true;_iteratorError175=err;}finally{try{if(!_iteratorNormalCompletion175&&_iterator175["return"]!=null){_iterator175["return"]();}}finally{if(_didIteratorError175){throw _iteratorError175;}}}return exports;}},{key:"getFallbackChunkName",value:function getFallbackChunkName(){if(this.manualChunkAlias){return this.manualChunkAlias;}if(this.fileName){return getAliasName(this.fileName);}return getAliasName(this.orderedModules[this.orderedModules.length-1].id);}},{key:"getRelativePath",value:function getRelativePath(targetPath){var relativePath=normalize(relative(path.dirname(this.id),targetPath));return relativePath.startsWith('../')?relativePath:'./'+relativePath;}},{key:"inlineChunkDependencies",value:function inlineChunkDependencies(chunk,deep){var _iteratorNormalCompletion177=true;var _didIteratorError177=false;var _iteratorError177=undefined;try{for(var _iterator177=chunk.dependencies[Symbol.iterator](),_step177;!(_iteratorNormalCompletion177=(_step177=_iterator177.next()).done);_iteratorNormalCompletion177=true){var dep=_step177.value;if(dep instanceof ExternalModule){if(this.dependencies.indexOf(dep)===-1)this.dependencies.push(dep);}else{if(dep===this||this.dependencies.indexOf(dep)!==-1)continue;if(!dep.isEmpty)this.dependencies.push(dep);if(deep)this.inlineChunkDependencies(dep,true);}}}catch(err){_didIteratorError177=true;_iteratorError177=err;}finally{try{if(!_iteratorNormalCompletion177&&_iterator177["return"]!=null){_iterator177["return"]();}}finally{if(_didIteratorError177){throw _iteratorError177;}}}}},{key:"prepareDynamicImports",value:function prepareDynamicImports(){var _iteratorNormalCompletion178=true;var _didIteratorError178=false;var _iteratorError178=undefined;try{for(var _iterator178=this.orderedModules[Symbol.iterator](),_step178;!(_iteratorNormalCompletion178=(_step178=_iterator178.next()).done);_iteratorNormalCompletion178=true){var module=_step178.value;var _iteratorNormalCompletion179=true;var _didIteratorError179=false;var _iteratorError179=undefined;try{for(var _iterator179=module.dynamicImports[Symbol.iterator](),_step179;!(_iteratorNormalCompletion179=(_step179=_iterator179.next()).done);_iteratorNormalCompletion179=true){var _step179$value=_step179.value,node=_step179$value.node,resolution=_step179$value.resolution;if(!node.included)continue;if(resolution instanceof Module){if(resolution.chunk===this){var namespace=resolution.getOrCreateNamespace();node.setResolution('named',namespace);}else{node.setResolution(resolution.chunk.exportMode);}}else{node.setResolution('auto');}}}catch(err){_didIteratorError179=true;_iteratorError179=err;}finally{try{if(!_iteratorNormalCompletion179&&_iterator179["return"]!=null){_iterator179["return"]();}}finally{if(_didIteratorError179){throw _iteratorError179;}}}}}catch(err){_didIteratorError178=true;_iteratorError178=err;}finally{try{if(!_iteratorNormalCompletion178&&_iterator178["return"]!=null){_iterator178["return"]();}}finally{if(_didIteratorError178){throw _iteratorError178;}}}}},{key:"setExternalRenderPaths",value:function setExternalRenderPaths(options,inputBase){var _iteratorNormalCompletion180=true;var _didIteratorError180=false;var _iteratorError180=undefined;try{for(var _iterator180=this.dependencies.concat(this.dynamicDependencies)[Symbol.iterator](),_step180;!(_iteratorNormalCompletion180=(_step180=_iterator180.next()).done);_iteratorNormalCompletion180=true){var dependency=_step180.value;if(dependency instanceof ExternalModule){dependency.setRenderPath(options,inputBase);}}}catch(err){_didIteratorError180=true;_iteratorError180=err;}finally{try{if(!_iteratorNormalCompletion180&&_iterator180["return"]!=null){_iterator180["return"]();}}finally{if(_didIteratorError180){throw _iteratorError180;}}}}},{key:"setIdentifierRenderResolutions",value:function setIdentifierRenderResolutions(options){var _iteratorNormalCompletion181=true;var _didIteratorError181=false;var _iteratorError181=undefined;try{for(var _iterator181=this.getExportNames()[Symbol.iterator](),_step181;!(_iteratorNormalCompletion181=(_step181=_iterator181.next()).done);_iteratorNormalCompletion181=true){var exportName=_step181.value;var exportVariable=this.exportNames[exportName];if(exportVariable){if(exportVariable instanceof ExportShimVariable){this.needsExportsShim=true;}exportVariable.exportName=exportName;if(options.format!=='es'&&options.format!=='system'&&exportVariable.isReassigned&&!exportVariable.isId&&!(exportVariable instanceof ExportDefaultVariable&&exportVariable.hasId)){exportVariable.setRenderNames('exports',exportName);}else{exportVariable.setRenderNames(null,null);}}}}catch(err){_didIteratorError181=true;_iteratorError181=err;}finally{try{if(!_iteratorNormalCompletion181&&_iterator181["return"]!=null){_iterator181["return"]();}}finally{if(_didIteratorError181){throw _iteratorError181;}}}var usedNames=new Set();if(this.needsExportsShim){usedNames.add(MISSING_EXPORT_SHIM_VARIABLE);}if(options.format!=='es'){usedNames.add('exports');if(options.format==='cjs'){usedNames.add(INTEROP_DEFAULT_VARIABLE).add('require').add('module').add('__filename').add('__dirname');}}deconflictChunk(this.orderedModules,this.dependencies,this.imports,usedNames,options.format,options.interop!==false,this.graph.preserveModules);}},{key:"setUpChunkImportsAndExportsForModule",value:function setUpChunkImportsAndExportsForModule(module){var _this35=this;var _iteratorNormalCompletion182=true;var _didIteratorError182=false;var _iteratorError182=undefined;try{for(var _iterator182=module.imports[Symbol.iterator](),_step182;!(_iteratorNormalCompletion182=(_step182=_iterator182.next()).done);_iteratorNormalCompletion182=true){var _variable5=_step182.value;if(_variable5.module.chunk!==this){this.imports.add(_variable5);if(_variable5.module instanceof Module){_variable5.module.chunk.exports.add(_variable5);}}}}catch(err){_didIteratorError182=true;_iteratorError182=err;}finally{try{if(!_iteratorNormalCompletion182&&_iterator182["return"]!=null){_iterator182["return"]();}}finally{if(_didIteratorError182){throw _iteratorError182;}}}if(module.isEntryPoint||module.dynamicallyImportedBy.some(function(importer){return importer.chunk!==_this35;})){var map=module.getExportNamesByVariable();var _iteratorNormalCompletion183=true;var _didIteratorError183=false;var _iteratorError183=undefined;try{for(var _iterator183=map.keys()[Symbol.iterator](),_step183;!(_iteratorNormalCompletion183=(_step183=_iterator183.next()).done);_iteratorNormalCompletion183=true){var exportedVariable=_step183.value;this.exports.add(exportedVariable);var exportingModule=exportedVariable.module;if(exportingModule&&exportingModule.chunk&&exportingModule.chunk!==this){exportingModule.chunk.exports.add(exportedVariable);}}}catch(err){_didIteratorError183=true;_iteratorError183=err;}finally{try{if(!_iteratorNormalCompletion183&&_iterator183["return"]!=null){_iterator183["return"]();}}finally{if(_didIteratorError183){throw _iteratorError183;}}}}if(module.getOrCreateNamespace().included){for(var _i21=0,_Object$keys11=Object.keys(module.reexportDescriptions);_i21<_Object$keys11.length;_i21++){var reexportName=_Object$keys11[_i21];var reexport=module.reexportDescriptions[reexportName];var variable=reexport.module.getVariableForExportName(reexport.localName);if(variable.module.chunk!==this){this.imports.add(variable);if(variable.module instanceof Module){variable.module.chunk.exports.add(variable);}}}}var context=createInclusionContext();var _iteratorNormalCompletion184=true;var _didIteratorError184=false;var _iteratorError184=undefined;try{for(var _iterator184=module.dynamicImports[Symbol.iterator](),_step184;!(_iteratorNormalCompletion184=(_step184=_iterator184.next()).done);_iteratorNormalCompletion184=true){var _step184$value=_step184.value,node=_step184$value.node,resolution=_step184$value.resolution;if(node.included&&resolution instanceof Module&&resolution.chunk===this)resolution.getOrCreateNamespace().include(context);}}catch(err){_didIteratorError184=true;_iteratorError184=err;}finally{try{if(!_iteratorNormalCompletion184&&_iterator184["return"]!=null){_iterator184["return"]();}}finally{if(_didIteratorError184){throw _iteratorError184;}}}}}],[{key:"generateFacade",value:function generateFacade(graph,facadedModule,facadeName){var chunk=new Chunk$1(graph,[]);chunk.assignFacadeName(facadeName,facadedModule);if(!facadedModule.facadeChunk){facadedModule.facadeChunk=chunk;}chunk.dependencies=[facadedModule.chunk];chunk.dynamicDependencies=[];chunk.facadeModule=facadedModule;var _iteratorNormalCompletion185=true;var _didIteratorError185=false;var _iteratorError185=undefined;try{for(var _iterator185=facadedModule.getAllExportNames()[Symbol.iterator](),_step185;!(_iteratorNormalCompletion185=(_step185=_iterator185.next()).done);_iteratorNormalCompletion185=true){var exportName=_step185.value;var tracedVariable=facadedModule.getVariableForExportName(exportName);chunk.exports.add(tracedVariable);chunk.exportNames[exportName]=tracedVariable;}}catch(err){_didIteratorError185=true;_iteratorError185=err;}finally{try{if(!_iteratorNormalCompletion185&&_iterator185["return"]!=null){_iterator185["return"]();}}finally{if(_didIteratorError185){throw _iteratorError185;}}}return chunk;}}]);return Chunk$1;}();/*
 * Given a chunk list, perform optimizations on that chunk list
 * to reduce the mumber of chunks. Mutates the chunks array.
 *
 * Manual chunks (with chunk.chunkAlias already set) are preserved
 * Entry points are carefully preserved as well
 *
 */function optimizeChunks(chunks,options,CHUNK_GROUPING_SIZE,inputBase){var _loop3=function _loop3(_chunkIndex){var mainChunk=chunks[_chunkIndex];var execGroup=[];mainChunk.visitStaticDependenciesUntilCondition(function(dep){if(dep instanceof Chunk$1){execGroup.push(dep);}});if(execGroup.length<2){chunkIndex=_chunkIndex;return"continue";}var execGroupIndex=1;var seekingFirstMergeCandidate=true;var lastChunk=undefined,chunk=execGroup[0],nextChunk=execGroup[1];var isMergeCandidate=function isMergeCandidate(chunk){if(chunk.facadeModule!==null||chunk.manualChunkAlias!==null){chunkIndex=_chunkIndex;return false;}if(!nextChunk||nextChunk.facadeModule!==null){chunkIndex=_chunkIndex;return false;}if(chunk.getRenderedSourceLength()>CHUNK_GROUPING_SIZE){chunkIndex=_chunkIndex;return false;}// if (!chunk.isPure()) continue;
chunkIndex=_chunkIndex;return true;};var _loop4=function _loop4(){if(seekingFirstMergeCandidate){if(isMergeCandidate(chunk)){seekingFirstMergeCandidate=false;}return"continue";}var remainingSize=CHUNK_GROUPING_SIZE-lastChunk.getRenderedSourceLength()-chunk.getRenderedSourceLength();if(remainingSize<=0){if(!isMergeCandidate(chunk)){seekingFirstMergeCandidate=true;}return"continue";}// if (!chunk.isPure()) continue;
var chunkDependencies=new Set();chunk.visitStaticDependenciesUntilCondition(function(dep){return chunkDependencies.add(dep);});var ignoreSizeChunks=new Set([chunk,lastChunk]);if(lastChunk.visitStaticDependenciesUntilCondition(function(dep){if(dep===chunk||dep===lastChunk){chunkIndex=_chunkIndex;return false;}if(chunkDependencies.has(dep)){chunkIndex=_chunkIndex;return false;}if(dep instanceof ExternalModule){chunkIndex=_chunkIndex;return true;}remainingSize-=dep.getRenderedSourceLength();if(remainingSize<=0){chunkIndex=_chunkIndex;return true;}ignoreSizeChunks.add(dep);})){if(!isMergeCandidate(chunk)){seekingFirstMergeCandidate=true;}return"continue";}if(chunk.visitStaticDependenciesUntilCondition(function(dep){if(ignoreSizeChunks.has(dep)){chunkIndex=_chunkIndex;return false;}if(dep instanceof ExternalModule){chunkIndex=_chunkIndex;return true;}remainingSize-=dep.getRenderedSourceLength();if(remainingSize<=0){chunkIndex=_chunkIndex;return true;}})){if(!isMergeCandidate(chunk)){seekingFirstMergeCandidate=true;}return"continue";}// within the size limit -> merge!
var optimizedChunkIndex=chunks.indexOf(chunk);if(optimizedChunkIndex<=_chunkIndex)_chunkIndex--;chunks.splice(optimizedChunkIndex,1);lastChunk.merge(chunk,chunks,options,inputBase);execGroup.splice(--execGroupIndex,1);chunk=lastChunk;// keep going to see if we can merge this with the next again
if(nextChunk&&!isMergeCandidate(nextChunk)){seekingFirstMergeCandidate=true;}};do{var _ret3=_loop4();if(_ret3==="continue")continue;}while((lastChunk=chunk,chunk=nextChunk,nextChunk=execGroup[++execGroupIndex],chunk));chunkIndex=_chunkIndex;};for(var chunkIndex=0;chunkIndex<chunks.length;chunkIndex++){var _ret2=_loop3(chunkIndex);if(_ret2==="continue")continue;}return chunks;}var skipWhiteSpace=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g;var tt=acorn.tokTypes;var acornExportNsFrom=function acornExportNsFrom(Parser){return(/*#__PURE__*/function(_Parser){_inherits(_class,_Parser);function _class(){_classCallCheck(this,_class);return _possibleConstructorReturn(this,_getPrototypeOf(_class).apply(this,arguments));}_createClass(_class,[{key:"parseExport",value:function parseExport(node,exports){skipWhiteSpace.lastIndex=this.pos;var skip=skipWhiteSpace.exec(this.input);var next=this.input.charAt(this.pos+skip[0].length);if(next!=="*")return _get(_getPrototypeOf(_class.prototype),"parseExport",this).call(this,node,exports);this.next();var specifier=this.startNode();this.expect(tt.star);if(this.eatContextual("as")){node.declaration=null;specifier.exported=this.parseIdent(true);this.checkExport(exports,specifier.exported.name,this.lastTokStart);node.specifiers=[this.finishNode(specifier,"ExportNamespaceSpecifier")];}this.expectContextual("from");if(this.type!==tt.string)this.unexpected();node.source=this.parseExprAtom();this.semicolon();return this.finishNode(node,node.specifiers?"ExportNamedDeclaration":"ExportAllDeclaration");}}]);return _class;}(Parser));};var tt$1=acorn.tokTypes;var skipWhiteSpace$1=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g;var nextTokenIsDot=function nextTokenIsDot(parser){skipWhiteSpace$1.lastIndex=parser.pos;var skip=skipWhiteSpace$1.exec(parser.input);var next=parser.pos+skip[0].length;return parser.input.slice(next,next+1)===".";};var acornImportMeta=function acornImportMeta(Parser){return(/*#__PURE__*/function(_Parser2){_inherits(_class2,_Parser2);function _class2(){_classCallCheck(this,_class2);return _possibleConstructorReturn(this,_getPrototypeOf(_class2).apply(this,arguments));}_createClass(_class2,[{key:"parseExprAtom",value:function parseExprAtom(refDestructuringErrors){if(this.type!==tt$1._import||!nextTokenIsDot(this))return _get(_getPrototypeOf(_class2.prototype),"parseExprAtom",this).call(this,refDestructuringErrors);if(!this.options.allowImportExportEverywhere&&!this.inModule){this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'");}var node=this.startNode();node.meta=this.parseIdent(true);this.expect(tt$1.dot);node.property=this.parseIdent(true);if(node.property.name!=="meta"){this.raiseRecoverable(node.property.start,"The only valid meta property for import is import.meta");}if(this.containsEsc){this.raiseRecoverable(node.property.start,"\"meta\" in import.meta must not contain escape sequences");}return this.finishNode(node,"MetaProperty");}},{key:"parseStatement",value:function parseStatement(context,topLevel,exports){if(this.type!==tt$1._import||!nextTokenIsDot(this)){return _get(_getPrototypeOf(_class2.prototype),"parseStatement",this).call(this,context,topLevel,exports);}var node=this.startNode();var expr=this.parseExpression();return this.parseExpressionStatement(node,expr);}}]);return _class2;}(Parser));};var UndefinedVariable=/*#__PURE__*/function(_Variable7){_inherits(UndefinedVariable,_Variable7);function UndefinedVariable(){_classCallCheck(this,UndefinedVariable);return _possibleConstructorReturn(this,_getPrototypeOf(UndefinedVariable).call(this,'undefined'));}_createClass(UndefinedVariable,[{key:"getLiteralValueAtPath",value:function getLiteralValueAtPath(){return undefined;}}]);return UndefinedVariable;}(Variable);var GlobalScope=/*#__PURE__*/function(_Scope2){_inherits(GlobalScope,_Scope2);function GlobalScope(){var _this36;_classCallCheck(this,GlobalScope);_this36=_possibleConstructorReturn(this,_getPrototypeOf(GlobalScope).call(this));_this36.variables.set('undefined',new UndefinedVariable());return _this36;}_createClass(GlobalScope,[{key:"findVariable",value:function findVariable(name){var variable=this.variables.get(name);if(!variable){variable=new GlobalVariable(name);this.variables.set(name,variable);}return variable;}}]);return GlobalScope;}(Scope);var ANONYMOUS_PLUGIN_PREFIX='at position ';var ANONYMOUS_OUTPUT_PLUGIN_PREFIX='at output position ';function throwPluginError(err,plugin){var _ref28=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},hook=_ref28.hook,id=_ref28.id;if(typeof err==='string')err={message:err};if(err.code&&err.code!==Errors.PLUGIN_ERROR){err.pluginCode=err.code;}err.code=Errors.PLUGIN_ERROR;err.plugin=plugin;if(hook){err.hook=hook;}if(id){err.id=id;}return _error(err);}var deprecatedHooks=[{active:true,deprecated:'ongenerate',replacement:'generateBundle'},{active:true,deprecated:'onwrite',replacement:'generateBundle/writeBundle'},{active:true,deprecated:'transformBundle',replacement:'renderChunk'},{active:true,deprecated:'transformChunk',replacement:'renderChunk'},{active:false,deprecated:'resolveAssetUrl',replacement:'resolveFileUrl'}];function warnDeprecatedHooks(plugins,graph){var _iteratorNormalCompletion186=true;var _didIteratorError186=false;var _iteratorError186=undefined;try{for(var _iterator186=deprecatedHooks[Symbol.iterator](),_step186;!(_iteratorNormalCompletion186=(_step186=_iterator186.next()).done);_iteratorNormalCompletion186=true){var _step186$value=_step186.value,active=_step186$value.active,deprecated=_step186$value.deprecated,replacement=_step186$value.replacement;var _iteratorNormalCompletion187=true;var _didIteratorError187=false;var _iteratorError187=undefined;try{for(var _iterator187=plugins[Symbol.iterator](),_step187;!(_iteratorNormalCompletion187=(_step187=_iterator187.next()).done);_iteratorNormalCompletion187=true){var plugin=_step187.value;if(deprecated in plugin){graph.warnDeprecation({message:"The \"".concat(deprecated,"\" hook used by plugin ").concat(plugin.name," is deprecated. The \"").concat(replacement,"\" hook should be used instead."),plugin:plugin.name},active);}}}catch(err){_didIteratorError187=true;_iteratorError187=err;}finally{try{if(!_iteratorNormalCompletion187&&_iterator187["return"]!=null){_iterator187["return"]();}}finally{if(_didIteratorError187){throw _iteratorError187;}}}}}catch(err){_didIteratorError186=true;_iteratorError186=err;}finally{try{if(!_iteratorNormalCompletion186&&_iterator186["return"]!=null){_iterator186["return"]();}}finally{if(_didIteratorError186){throw _iteratorError186;}}}}function createPluginCache(cache){return{has:function has(id){var item=cache[id];if(!item)return false;item[0]=0;return true;},get:function get(id){var item=cache[id];if(!item)return undefined;item[0]=0;return item[1];},set:function set(id,value){cache[id]=[0,value];},"delete":function _delete(id){return delete cache[id];}};}function getTrackedPluginCache(pluginCache){var trackedCache={cache:{has:function has(id){trackedCache.used=true;return pluginCache.has(id);},get:function get(id){trackedCache.used=true;return pluginCache.get(id);},set:function set(id,value){trackedCache.used=true;return pluginCache.set(id,value);},"delete":function _delete(id){trackedCache.used=true;return pluginCache["delete"](id);}},used:false};return trackedCache;}var NO_CACHE={has:function has(){return false;},get:function get(){return undefined;},set:function set(){},"delete":function _delete(){return false;}};function uncacheablePluginError(pluginName){if(pluginName.startsWith(ANONYMOUS_PLUGIN_PREFIX)||pluginName.startsWith(ANONYMOUS_OUTPUT_PLUGIN_PREFIX)){return _error({code:'ANONYMOUS_PLUGIN_CACHE',message:'A plugin is trying to use the Rollup cache but is not declaring a plugin name or cacheKey.'});}return _error({code:'DUPLICATE_PLUGIN_NAME',message:"The plugin name ".concat(pluginName," is being used twice in the same build. Plugin names must be distinct or provide a cacheKey (please post an issue to the plugin if you are a plugin user).")});}function getCacheForUncacheablePlugin(pluginName){return{has:function has(){return uncacheablePluginError(pluginName);},get:function get(){return uncacheablePluginError(pluginName);},set:function set(){return uncacheablePluginError(pluginName);},"delete":function _delete(){return uncacheablePluginError(pluginName);}};}function transform(graph,source,module){var id=module.id;var sourcemapChain=[];var originalSourcemap=source.map===null?null:decodedSourcemap(source.map);var originalCode=source.code;var ast=source.ast;var transformDependencies=[];var emittedFiles=[];var customTransformCache=false;var moduleSideEffects=null;var syntheticNamedExports=null;var trackedPluginCache;var curPlugin;var curSource=source.code;function transformReducer(code,result,plugin){// track which plugins use the custom this.cache to opt-out of transform caching
if(!customTransformCache&&trackedPluginCache.used)customTransformCache=true;if(customTransformCache){if(result&&_typeof(result)==='object'&&Array.isArray(result.dependencies)){var _iteratorNormalCompletion188=true;var _didIteratorError188=false;var _iteratorError188=undefined;try{for(var _iterator188=result.dependencies[Symbol.iterator](),_step188;!(_iteratorNormalCompletion188=(_step188=_iterator188.next()).done);_iteratorNormalCompletion188=true){var dep=_step188.value;graph.watchFiles[path.resolve(path.dirname(id),dep)]=true;}}catch(err){_didIteratorError188=true;_iteratorError188=err;}finally{try{if(!_iteratorNormalCompletion188&&_iterator188["return"]!=null){_iterator188["return"]();}}finally{if(_didIteratorError188){throw _iteratorError188;}}}}}else{// files emitted by a transform hook need to be emitted again if the hook is skipped
if(emittedFiles.length)module.transformFiles=emittedFiles;if(result&&_typeof(result)==='object'&&Array.isArray(result.dependencies)){// not great, but a useful way to track this without assuming WeakMap
if(!curPlugin.warnedTransformDependencies)graph.warnDeprecation("Returning \"dependencies\" from the \"transform\" hook as done by plugin ".concat(plugin.name," is deprecated. The \"this.addWatchFile\" plugin context function should be used instead."),true);curPlugin.warnedTransformDependencies=true;var _iteratorNormalCompletion189=true;var _didIteratorError189=false;var _iteratorError189=undefined;try{for(var _iterator189=result.dependencies[Symbol.iterator](),_step189;!(_iteratorNormalCompletion189=(_step189=_iterator189.next()).done);_iteratorNormalCompletion189=true){var _dep2=_step189.value;transformDependencies.push(path.resolve(path.dirname(id),_dep2));}}catch(err){_didIteratorError189=true;_iteratorError189=err;}finally{try{if(!_iteratorNormalCompletion189&&_iterator189["return"]!=null){_iterator189["return"]();}}finally{if(_didIteratorError189){throw _iteratorError189;}}}}}if(typeof result==='string'){result={ast:undefined,code:result,map:undefined};}else if(result&&_typeof(result)==='object'){if(typeof result.map==='string'){result.map=JSON.parse(result.map);}if(typeof result.moduleSideEffects==='boolean'){moduleSideEffects=result.moduleSideEffects;}if(typeof result.syntheticNamedExports==='boolean'){syntheticNamedExports=result.syntheticNamedExports;}}else{return code;}// strict null check allows 'null' maps to not be pushed to the chain, while 'undefined' gets the missing map warning
if(result.map!==null){var map=decodedSourcemap(result.map);sourcemapChain.push(map||{missing:true,plugin:plugin.name});}ast=result.ast;return result.code;}var setAssetSourceErr;return graph.pluginDriver.hookReduceArg0('transform',[curSource,id],transformReducer,function(pluginContext,plugin){curPlugin=plugin;if(curPlugin.cacheKey)customTransformCache=true;else trackedPluginCache=getTrackedPluginCache(pluginContext.cache);return Object.assign(Object.assign({},pluginContext),{cache:trackedPluginCache?trackedPluginCache.cache:pluginContext.cache,warn:function warn(warning,pos){if(typeof warning==='string')warning={message:warning};if(pos)augmentCodeLocation(warning,pos,curSource,id);warning.id=id;warning.hook='transform';pluginContext.warn(warning);},error:function error(err,pos){if(typeof err==='string')err={message:err};if(pos)augmentCodeLocation(err,pos,curSource,id);err.id=id;err.hook='transform';return pluginContext.error(err);},emitAsset:function emitAsset(name,source){var emittedFile={type:'asset',name:name,source:source};emittedFiles.push(Object.assign({},emittedFile));return graph.pluginDriver.emitFile(emittedFile);},emitChunk:function emitChunk(id,options){var emittedFile={type:'chunk',id:id,name:options&&options.name};emittedFiles.push(Object.assign({},emittedFile));return graph.pluginDriver.emitFile(emittedFile);},emitFile:function emitFile(emittedFile){emittedFiles.push(emittedFile);return graph.pluginDriver.emitFile(emittedFile);},addWatchFile:function addWatchFile(id){transformDependencies.push(id);pluginContext.addWatchFile(id);},setAssetSource:function setAssetSource(assetReferenceId,source){pluginContext.setAssetSource(assetReferenceId,source);if(!customTransformCache&&!setAssetSourceErr){try{return this.error({code:'INVALID_SETASSETSOURCE',message:"setAssetSource cannot be called in transform for caching reasons. Use emitFile with a source, or call setAssetSource in another hook."});}catch(err){setAssetSourceErr=err;}}},getCombinedSourcemap:function getCombinedSourcemap(){var combinedMap=collapseSourcemap(graph,id,originalCode,originalSourcemap,sourcemapChain);if(!combinedMap){var magicString=new MagicString(originalCode);return magicString.generateMap({includeContent:true,hires:true,source:id});}if(originalSourcemap!==combinedMap){originalSourcemap=combinedMap;sourcemapChain.length=0;}return new SourceMap(Object.assign(Object.assign({},combinedMap),{file:null,sourcesContent:combinedMap.sourcesContent}));}});})["catch"](function(err){return throwPluginError(err,curPlugin.name,{hook:'transform',id:id});}).then(function(code){if(!customTransformCache&&setAssetSourceErr)throw setAssetSourceErr;return{ast:ast,code:code,customTransformCache:customTransformCache,moduleSideEffects:moduleSideEffects,originalCode:originalCode,originalSourcemap:originalSourcemap,sourcemapChain:sourcemapChain,syntheticNamedExports:syntheticNamedExports,transformDependencies:transformDependencies};});}function normalizeRelativeExternalId(importer,source){return isRelative(source)?path.resolve(importer,'..',source):source;}function getIdMatcher(option){if(option===true){return function(){return true;};}if(typeof option==='function'){return function(id){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}return!id.startsWith('\0')&&option.apply(void 0,[id].concat(args))||false;};}if(option){var ids=new Set(Array.isArray(option)?option:option?[option]:[]);return function(id){return ids.has(id);};}return function(){return false;};}function getHasModuleSideEffects(moduleSideEffectsOption,pureExternalModules,graph){if(typeof moduleSideEffectsOption==='boolean'){return function(){return moduleSideEffectsOption;};}if(moduleSideEffectsOption==='no-external'){return function(_id,external){return!external;};}if(typeof moduleSideEffectsOption==='function'){return function(id,external){return!id.startsWith('\0')?moduleSideEffectsOption(id,external)!==false:true;};}if(Array.isArray(moduleSideEffectsOption)){var ids=new Set(moduleSideEffectsOption);return function(id){return ids.has(id);};}if(moduleSideEffectsOption){graph.warn(errInvalidOption('treeshake.moduleSideEffects','please use one of false, "no-external", a function or an array'));}var isPureExternalModule=getIdMatcher(pureExternalModules);return function(id,external){return!(external&&isPureExternalModule(id));};}var ModuleLoader=/*#__PURE__*/function(){function ModuleLoader(graph,modulesById,pluginDriver,external,getManualChunk,moduleSideEffects,pureExternalModules){var _this37=this;_classCallCheck(this,ModuleLoader);this.indexedEntryModules=[];this.latestLoadModulesPromise=Promise.resolve();this.manualChunkModules={};this.nextEntryModuleIndex=0;this.loadEntryModule=function(unresolvedId,isEntry){return _this37.pluginDriver.hookFirst('resolveId',[unresolvedId,undefined]).then(function(resolveIdResult){if(resolveIdResult===false||resolveIdResult&&_typeof(resolveIdResult)==='object'&&resolveIdResult.external){return _error(errEntryCannotBeExternal(unresolvedId));}var id=resolveIdResult&&_typeof(resolveIdResult)==='object'?resolveIdResult.id:resolveIdResult;if(typeof id==='string'){return _this37.fetchModule(id,undefined,true,false,isEntry);}return _error(errUnresolvedEntry(unresolvedId));});};this.graph=graph;this.modulesById=modulesById;this.pluginDriver=pluginDriver;this.isExternal=getIdMatcher(external);this.hasModuleSideEffects=getHasModuleSideEffects(moduleSideEffects,pureExternalModules,graph);this.getManualChunk=typeof getManualChunk==='function'?getManualChunk:function(){return null;};}_createClass(ModuleLoader,[{key:"addEntryModules",value:function addEntryModules(unresolvedEntryModules,isUserDefined){var _this38=this;var firstEntryModuleIndex=this.nextEntryModuleIndex;this.nextEntryModuleIndex+=unresolvedEntryModules.length;var loadNewEntryModulesPromise=Promise.all(unresolvedEntryModules.map(function(_ref29){var fileName=_ref29.fileName,id=_ref29.id,name=_ref29.name;return _this38.loadEntryModule(id,true).then(function(module){if(fileName!==null){module.chunkFileNames.add(fileName);}else if(name!==null){if(module.chunkName===null){module.chunkName=name;}if(isUserDefined){module.userChunkNames.add(name);}}return module;});})).then(function(entryModules){var moduleIndex=firstEntryModuleIndex;var _iteratorNormalCompletion190=true;var _didIteratorError190=false;var _iteratorError190=undefined;try{var _loop5=function _loop5(){var entryModule=_step190.value;entryModule.isUserDefinedEntryPoint=entryModule.isUserDefinedEntryPoint||isUserDefined;var existingIndexModule=_this38.indexedEntryModules.find(function(indexedModule){return indexedModule.module.id===entryModule.id;});if(!existingIndexModule){_this38.indexedEntryModules.push({module:entryModule,index:moduleIndex});}else{existingIndexModule.index=Math.min(existingIndexModule.index,moduleIndex);}moduleIndex++;};for(var _iterator190=entryModules[Symbol.iterator](),_step190;!(_iteratorNormalCompletion190=(_step190=_iterator190.next()).done);_iteratorNormalCompletion190=true){_loop5();}}catch(err){_didIteratorError190=true;_iteratorError190=err;}finally{try{if(!_iteratorNormalCompletion190&&_iterator190["return"]!=null){_iterator190["return"]();}}finally{if(_didIteratorError190){throw _iteratorError190;}}}_this38.indexedEntryModules.sort(function(_ref30,_ref31){var indexA=_ref30.index;var indexB=_ref31.index;return indexA>indexB?1:-1;});return entryModules;});return this.awaitLoadModulesPromise(loadNewEntryModulesPromise).then(function(newEntryModules){return{entryModules:_this38.indexedEntryModules.map(function(_ref32){var module=_ref32.module;return module;}),manualChunkModulesByAlias:_this38.manualChunkModules,newEntryModules:newEntryModules};});}},{key:"addManualChunks",value:function addManualChunks(manualChunks){var _this39=this;var unresolvedManualChunks=[];for(var _i22=0,_Object$keys12=Object.keys(manualChunks);_i22<_Object$keys12.length;_i22++){var alias=_Object$keys12[_i22];var manualChunkIds=manualChunks[alias];var _iteratorNormalCompletion191=true;var _didIteratorError191=false;var _iteratorError191=undefined;try{for(var _iterator191=manualChunkIds[Symbol.iterator](),_step191;!(_iteratorNormalCompletion191=(_step191=_iterator191.next()).done);_iteratorNormalCompletion191=true){var id=_step191.value;unresolvedManualChunks.push({id:id,alias:alias});}}catch(err){_didIteratorError191=true;_iteratorError191=err;}finally{try{if(!_iteratorNormalCompletion191&&_iterator191["return"]!=null){_iterator191["return"]();}}finally{if(_didIteratorError191){throw _iteratorError191;}}}}var loadNewManualChunkModulesPromise=Promise.all(unresolvedManualChunks.map(function(_ref33){var id=_ref33.id;return _this39.loadEntryModule(id,false);})).then(function(manualChunkModules){for(var index=0;index<manualChunkModules.length;index++){_this39.addModuleToManualChunk(unresolvedManualChunks[index].alias,manualChunkModules[index]);}});return this.awaitLoadModulesPromise(loadNewManualChunkModulesPromise);}},{key:"resolveId",value:function resolveId(source,importer,skip){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.t0=this;if(!this.isExternal(source,importer,false)){_context2.next=5;break;}_context2.t1=false;_context2.next=8;break;case 5:_context2.next=7;return this.pluginDriver.hookFirst('resolveId',[source,importer],null,skip);case 7:_context2.t1=_context2.sent;case 8:_context2.t2=_context2.t1;_context2.t3=importer;_context2.t4=source;return _context2.abrupt("return",_context2.t0.normalizeResolveIdResult.call(_context2.t0,_context2.t2,_context2.t3,_context2.t4));case 12:case"end":return _context2.stop();}}},_callee,this);}));}},{key:"addModuleToManualChunk",value:function addModuleToManualChunk(alias,module){if(module.manualChunkAlias!==null&&module.manualChunkAlias!==alias){return _error(errCannotAssignModuleToChunk(module.id,alias,module.manualChunkAlias));}module.manualChunkAlias=alias;if(!this.manualChunkModules[alias]){this.manualChunkModules[alias]=[];}this.manualChunkModules[alias].push(module);}},{key:"awaitLoadModulesPromise",value:function awaitLoadModulesPromise(loadNewModulesPromise){var _this40=this;this.latestLoadModulesPromise=Promise.all([loadNewModulesPromise,this.latestLoadModulesPromise]);var getCombinedPromise=function getCombinedPromise(){var startingPromise=_this40.latestLoadModulesPromise;return startingPromise.then(function(){if(_this40.latestLoadModulesPromise!==startingPromise){return getCombinedPromise();}});};return getCombinedPromise().then(function(){return loadNewModulesPromise;});}},{key:"fetchAllDependencies",value:function fetchAllDependencies(module){var _this41=this;return Promise.all([].concat(_toConsumableArray(Array.from(module.sources).map(function(source){return __awaiter(_this41,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.t0=this;_context3.t1=source;_context3.t2=module.id;_context3.t3=module.resolvedIds[source];if(_context3.t3){_context3.next=12;break;}_context3.t4=this;_context3.next=8;return this.resolveId(source,module.id);case 8:_context3.t5=_context3.sent;_context3.t6=source;_context3.t7=module.id;_context3.t3=_context3.t4.handleResolveId.call(_context3.t4,_context3.t5,_context3.t6,_context3.t7);case 12:_context3.t8=module.resolvedIds[source]=_context3.t3;return _context3.abrupt("return",_context3.t0.fetchResolvedDependency.call(_context3.t0,_context3.t1,_context3.t2,_context3.t8));case 14:case"end":return _context3.stop();}}},_callee2,this);}));})),_toConsumableArray(module.getDynamicImportExpressions().map(function(specifier,index){return _this41.resolveDynamicImport(module,specifier,module.id).then(function(resolvedId){if(resolvedId===null)return;var dynamicImport=module.dynamicImports[index];if(typeof resolvedId==='string'){dynamicImport.resolution=resolvedId;return;}return _this41.fetchResolvedDependency(relativeId(resolvedId.id),module.id,resolvedId).then(function(module){dynamicImport.resolution=module;});});}))));}},{key:"fetchModule",value:function fetchModule(id,importer,moduleSideEffects,syntheticNamedExports,isEntry){var _this42=this;var existingModule=this.modulesById.get(id);if(existingModule instanceof Module){existingModule.isEntryPoint=existingModule.isEntryPoint||isEntry;return Promise.resolve(existingModule);}var module=new Module(this.graph,id,moduleSideEffects,syntheticNamedExports,isEntry);this.modulesById.set(id,module);this.graph.watchFiles[id]=true;var manualChunkAlias=this.getManualChunk(id);if(typeof manualChunkAlias==='string'){this.addModuleToManualChunk(manualChunkAlias,module);}timeStart('load modules',3);return Promise.resolve(this.pluginDriver.hookFirst('load',[id]))["catch"](function(err){timeEnd('load modules',3);var msg="Could not load ".concat(id);if(importer)msg+=" (imported by ".concat(importer,")");msg+=": ".concat(err.message);err.message=msg;throw err;}).then(function(source){timeEnd('load modules',3);if(typeof source==='string')return{code:source};if(source&&_typeof(source)==='object'&&typeof source.code==='string')return source;return _error(errBadLoader(id));}).then(function(sourceDescription){var cachedModule=_this42.graph.cachedModules.get(id);if(cachedModule&&!cachedModule.customTransformCache&&cachedModule.originalCode===sourceDescription.code){if(cachedModule.transformFiles){var _iteratorNormalCompletion192=true;var _didIteratorError192=false;var _iteratorError192=undefined;try{for(var _iterator192=cachedModule.transformFiles[Symbol.iterator](),_step192;!(_iteratorNormalCompletion192=(_step192=_iterator192.next()).done);_iteratorNormalCompletion192=true){var emittedFile=_step192.value;_this42.pluginDriver.emitFile(emittedFile);}}catch(err){_didIteratorError192=true;_iteratorError192=err;}finally{try{if(!_iteratorNormalCompletion192&&_iterator192["return"]!=null){_iterator192["return"]();}}finally{if(_didIteratorError192){throw _iteratorError192;}}}}return cachedModule;}if(typeof sourceDescription.moduleSideEffects==='boolean'){module.moduleSideEffects=sourceDescription.moduleSideEffects;}if(typeof sourceDescription.syntheticNamedExports==='boolean'){module.syntheticNamedExports=sourceDescription.syntheticNamedExports;}return transform(_this42.graph,sourceDescription,module);}).then(function(source){module.setSource(source);_this42.modulesById.set(id,module);return _this42.fetchAllDependencies(module).then(function(){for(var name in module.exports){if(name!=='default'){module.exportsAll[name]=module.id;}}var _iteratorNormalCompletion193=true;var _didIteratorError193=false;var _iteratorError193=undefined;try{for(var _iterator193=module.exportAllSources[Symbol.iterator](),_step193;!(_iteratorNormalCompletion193=(_step193=_iterator193.next()).done);_iteratorNormalCompletion193=true){var _source3=_step193.value;var _id2=module.resolvedIds[_source3].id;var exportAllModule=_this42.modulesById.get(_id2);if(exportAllModule instanceof ExternalModule)continue;for(var _name7 in exportAllModule.exportsAll){if(_name7 in module.exportsAll){_this42.graph.warn(errNamespaceConflict(_name7,module,exportAllModule));}else{module.exportsAll[_name7]=exportAllModule.exportsAll[_name7];}}}}catch(err){_didIteratorError193=true;_iteratorError193=err;}finally{try{if(!_iteratorNormalCompletion193&&_iterator193["return"]!=null){_iterator193["return"]();}}finally{if(_didIteratorError193){throw _iteratorError193;}}}return module;});});}},{key:"fetchResolvedDependency",value:function fetchResolvedDependency(source,importer,resolvedId){if(resolvedId.external){if(!this.modulesById.has(resolvedId.id)){this.modulesById.set(resolvedId.id,new ExternalModule(this.graph,resolvedId.id,resolvedId.moduleSideEffects));}var externalModule=this.modulesById.get(resolvedId.id);if(!(externalModule instanceof ExternalModule)){return _error(errInternalIdCannotBeExternal(source,importer));}return Promise.resolve(externalModule);}else{return this.fetchModule(resolvedId.id,importer,resolvedId.moduleSideEffects,resolvedId.syntheticNamedExports,false);}}},{key:"handleResolveId",value:function handleResolveId(resolvedId,source,importer){if(resolvedId===null){if(isRelative(source)){return _error(errUnresolvedImport(source,importer));}this.graph.warn(errUnresolvedImportTreatedAsExternal(source,importer));return{external:true,id:source,moduleSideEffects:this.hasModuleSideEffects(source,true),syntheticNamedExports:false};}else{if(resolvedId.external&&resolvedId.syntheticNamedExports){this.graph.warn(errExternalSyntheticExports(source,importer));}}return resolvedId;}},{key:"normalizeResolveIdResult",value:function normalizeResolveIdResult(resolveIdResult,importer,source){var id='';var external=false;var moduleSideEffects=null;var syntheticNamedExports=false;if(resolveIdResult){if(_typeof(resolveIdResult)==='object'){id=resolveIdResult.id;if(resolveIdResult.external){external=true;}if(typeof resolveIdResult.moduleSideEffects==='boolean'){moduleSideEffects=resolveIdResult.moduleSideEffects;}if(typeof resolveIdResult.syntheticNamedExports==='boolean'){syntheticNamedExports=resolveIdResult.syntheticNamedExports;}}else{if(this.isExternal(resolveIdResult,importer,true)){external=true;}id=external?normalizeRelativeExternalId(importer,resolveIdResult):resolveIdResult;}}else{id=normalizeRelativeExternalId(importer,source);if(resolveIdResult!==false&&!this.isExternal(id,importer,true)){return null;}external=true;}return{external:external,id:id,moduleSideEffects:typeof moduleSideEffects==='boolean'?moduleSideEffects:this.hasModuleSideEffects(id,external),syntheticNamedExports:syntheticNamedExports};}},{key:"resolveDynamicImport",value:function resolveDynamicImport(module,specifier,importer){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee3(){var resolution;return regeneratorRuntime.wrap(function _callee3$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return this.pluginDriver.hookFirst('resolveDynamicImport',[specifier,importer]);case 2:resolution=_context4.sent;if(!(typeof specifier!=='string')){_context4.next=9;break;}if(!(typeof resolution==='string')){_context4.next=6;break;}return _context4.abrupt("return",resolution);case 6:if(resolution){_context4.next=8;break;}return _context4.abrupt("return",null);case 8:return _context4.abrupt("return",Object.assign({external:false,moduleSideEffects:true},resolution));case 9:if(!(resolution==null)){_context4.next=20;break;}_context4.t0=module.resolvedIds[specifier];if(_context4.t0){_context4.next=19;break;}_context4.t1=this;_context4.next=15;return this.resolveId(specifier,module.id);case 15:_context4.t2=_context4.sent;_context4.t3=specifier;_context4.t4=module.id;_context4.t0=_context4.t1.handleResolveId.call(_context4.t1,_context4.t2,_context4.t3,_context4.t4);case 19:return _context4.abrupt("return",module.resolvedIds[specifier]=_context4.t0);case 20:return _context4.abrupt("return",this.handleResolveId(this.normalizeResolveIdResult(resolution,importer,specifier),specifier,importer));case 21:case"end":return _context4.stop();}}},_callee3,this);}));}}]);return ModuleLoader;}();var BuildPhase;(function(BuildPhase){BuildPhase[BuildPhase["LOAD_AND_PARSE"]=0]="LOAD_AND_PARSE";BuildPhase[BuildPhase["ANALYSE"]=1]="ANALYSE";BuildPhase[BuildPhase["GENERATE"]=2]="GENERATE";})(BuildPhase||(BuildPhase={}));var CHAR_CODE_A=97;var CHAR_CODE_0=48;function intToHex(num){if(num<10)return String.fromCharCode(CHAR_CODE_0+num);else return String.fromCharCode(CHAR_CODE_A+(num-10));}function Uint8ArrayToHexString(buffer){var str='';// hex conversion - 2 chars per 8 bit component
for(var _i23=0;_i23<buffer.length;_i23++){var num=buffer[_i23];// big endian conversion, but whatever
str+=intToHex(num>>4);str+=intToHex(num&0xf);}return str;}function randomUint8Array(len){var buffer=new Uint8Array(len);for(var _i24=0;_i24<buffer.length;_i24++){buffer[_i24]=Math.random()*(2<<8);}return buffer;}function Uint8ArrayXor(to,from){for(var _i25=0;_i25<to.length;_i25++){to[_i25]=to[_i25]^from[_i25];}return to;}function assignChunkColouringHashes(entryModules,manualChunkModules){var _analyzeModuleGraph=analyzeModuleGraph(entryModules),dependentEntryPointsByModule=_analyzeModuleGraph.dependentEntryPointsByModule,dynamicImportersByModule=_analyzeModuleGraph.dynamicImportersByModule;var dynamicDependentEntryPointsByDynamicEntry=getDynamicDependentEntryPoints(dependentEntryPointsByModule,dynamicImportersByModule);var staticEntries=new Set(entryModules);function addColourToModuleDependencies(entry,colour,dynamicDependentEntryPoints){var manualChunkAlias=entry.manualChunkAlias;var modulesToHandle=new Set([entry]);var _iteratorNormalCompletion194=true;var _didIteratorError194=false;var _iteratorError194=undefined;try{for(var _iterator194=modulesToHandle[Symbol.iterator](),_step194;!(_iteratorNormalCompletion194=(_step194=_iterator194.next()).done);_iteratorNormalCompletion194=true){var module=_step194.value;if(manualChunkAlias){module.manualChunkAlias=manualChunkAlias;module.entryPointsHash=colour;}else if(dynamicDependentEntryPoints&&areEntryPointsContainedOrDynamicallyDependent(dynamicDependentEntryPoints,dependentEntryPointsByModule.get(module))){continue;}else{Uint8ArrayXor(module.entryPointsHash,colour);}var _iteratorNormalCompletion195=true;var _didIteratorError195=false;var _iteratorError195=undefined;try{for(var _iterator195=module.dependencies[Symbol.iterator](),_step195;!(_iteratorNormalCompletion195=(_step195=_iterator195.next()).done);_iteratorNormalCompletion195=true){var dependency=_step195.value;if(!(dependency instanceof ExternalModule||dependency.manualChunkAlias)){modulesToHandle.add(dependency);}}}catch(err){_didIteratorError195=true;_iteratorError195=err;}finally{try{if(!_iteratorNormalCompletion195&&_iterator195["return"]!=null){_iterator195["return"]();}}finally{if(_didIteratorError195){throw _iteratorError195;}}}}}catch(err){_didIteratorError194=true;_iteratorError194=err;}finally{try{if(!_iteratorNormalCompletion194&&_iterator194["return"]!=null){_iterator194["return"]();}}finally{if(_didIteratorError194){throw _iteratorError194;}}}}function areEntryPointsContainedOrDynamicallyDependent(entryPoints,superSet){var entriesToCheck=new Set(entryPoints);var _iteratorNormalCompletion196=true;var _didIteratorError196=false;var _iteratorError196=undefined;try{for(var _iterator196=entriesToCheck[Symbol.iterator](),_step196;!(_iteratorNormalCompletion196=(_step196=_iterator196.next()).done);_iteratorNormalCompletion196=true){var entry=_step196.value;if(!superSet.has(entry)){if(staticEntries.has(entry))return false;var dynamicDependentEntryPoints=dynamicDependentEntryPointsByDynamicEntry.get(entry);var _iteratorNormalCompletion197=true;var _didIteratorError197=false;var _iteratorError197=undefined;try{for(var _iterator197=dynamicDependentEntryPoints[Symbol.iterator](),_step197;!(_iteratorNormalCompletion197=(_step197=_iterator197.next()).done);_iteratorNormalCompletion197=true){var dependentEntry=_step197.value;entriesToCheck.add(dependentEntry);}}catch(err){_didIteratorError197=true;_iteratorError197=err;}finally{try{if(!_iteratorNormalCompletion197&&_iterator197["return"]!=null){_iterator197["return"]();}}finally{if(_didIteratorError197){throw _iteratorError197;}}}}}}catch(err){_didIteratorError196=true;_iteratorError196=err;}finally{try{if(!_iteratorNormalCompletion196&&_iterator196["return"]!=null){_iterator196["return"]();}}finally{if(_didIteratorError196){throw _iteratorError196;}}}return true;}if(manualChunkModules){for(var _i26=0,_Object$keys13=Object.keys(manualChunkModules);_i26<_Object$keys13.length;_i26++){var chunkName=_Object$keys13[_i26];var entryHash=randomUint8Array(10);var _iteratorNormalCompletion198=true;var _didIteratorError198=false;var _iteratorError198=undefined;try{for(var _iterator198=manualChunkModules[chunkName][Symbol.iterator](),_step198;!(_iteratorNormalCompletion198=(_step198=_iterator198.next()).done);_iteratorNormalCompletion198=true){var entry=_step198.value;addColourToModuleDependencies(entry,entryHash,null);}}catch(err){_didIteratorError198=true;_iteratorError198=err;}finally{try{if(!_iteratorNormalCompletion198&&_iterator198["return"]!=null){_iterator198["return"]();}}finally{if(_didIteratorError198){throw _iteratorError198;}}}}}var _iteratorNormalCompletion199=true;var _didIteratorError199=false;var _iteratorError199=undefined;try{for(var _iterator199=entryModules[Symbol.iterator](),_step199;!(_iteratorNormalCompletion199=(_step199=_iterator199.next()).done);_iteratorNormalCompletion199=true){var _entry=_step199.value;if(!_entry.manualChunkAlias){var _entryHash=randomUint8Array(10);addColourToModuleDependencies(_entry,_entryHash,null);}}}catch(err){_didIteratorError199=true;_iteratorError199=err;}finally{try{if(!_iteratorNormalCompletion199&&_iterator199["return"]!=null){_iterator199["return"]();}}finally{if(_didIteratorError199){throw _iteratorError199;}}}var _iteratorNormalCompletion200=true;var _didIteratorError200=false;var _iteratorError200=undefined;try{for(var _iterator200=dynamicImportersByModule.keys()[Symbol.iterator](),_step200;!(_iteratorNormalCompletion200=(_step200=_iterator200.next()).done);_iteratorNormalCompletion200=true){var _entry2=_step200.value;if(!_entry2.manualChunkAlias){var _entryHash2=randomUint8Array(10);addColourToModuleDependencies(_entry2,_entryHash2,dynamicDependentEntryPointsByDynamicEntry.get(_entry2));}}}catch(err){_didIteratorError200=true;_iteratorError200=err;}finally{try{if(!_iteratorNormalCompletion200&&_iterator200["return"]!=null){_iterator200["return"]();}}finally{if(_didIteratorError200){throw _iteratorError200;}}}}function analyzeModuleGraph(entryModules){var dynamicImportersByModule=new Map();var dependentEntryPointsByModule=new Map();var entriesToHandle=new Set(entryModules);var _iteratorNormalCompletion201=true;var _didIteratorError201=false;var _iteratorError201=undefined;try{for(var _iterator201=entriesToHandle[Symbol.iterator](),_step201;!(_iteratorNormalCompletion201=(_step201=_iterator201.next()).done);_iteratorNormalCompletion201=true){var currentEntry=_step201.value;var modulesToHandle=new Set([currentEntry]);var _iteratorNormalCompletion202=true;var _didIteratorError202=false;var _iteratorError202=undefined;try{for(var _iterator202=modulesToHandle[Symbol.iterator](),_step202;!(_iteratorNormalCompletion202=(_step202=_iterator202.next()).done);_iteratorNormalCompletion202=true){var module=_step202.value;getDependentModules(dependentEntryPointsByModule,module).add(currentEntry);var _iteratorNormalCompletion203=true;var _didIteratorError203=false;var _iteratorError203=undefined;try{for(var _iterator203=module.dependencies[Symbol.iterator](),_step203;!(_iteratorNormalCompletion203=(_step203=_iterator203.next()).done);_iteratorNormalCompletion203=true){var dependency=_step203.value;if(!(dependency instanceof ExternalModule)){modulesToHandle.add(dependency);}}}catch(err){_didIteratorError203=true;_iteratorError203=err;}finally{try{if(!_iteratorNormalCompletion203&&_iterator203["return"]!=null){_iterator203["return"]();}}finally{if(_didIteratorError203){throw _iteratorError203;}}}var _iteratorNormalCompletion204=true;var _didIteratorError204=false;var _iteratorError204=undefined;try{for(var _iterator204=module.dynamicImports[Symbol.iterator](),_step204;!(_iteratorNormalCompletion204=(_step204=_iterator204.next()).done);_iteratorNormalCompletion204=true){var resolution=_step204.value.resolution;if(resolution instanceof Module&&resolution.dynamicallyImportedBy.length>0&&!resolution.manualChunkAlias){getDependentModules(dynamicImportersByModule,resolution).add(module);entriesToHandle.add(resolution);}}}catch(err){_didIteratorError204=true;_iteratorError204=err;}finally{try{if(!_iteratorNormalCompletion204&&_iterator204["return"]!=null){_iterator204["return"]();}}finally{if(_didIteratorError204){throw _iteratorError204;}}}}}catch(err){_didIteratorError202=true;_iteratorError202=err;}finally{try{if(!_iteratorNormalCompletion202&&_iterator202["return"]!=null){_iterator202["return"]();}}finally{if(_didIteratorError202){throw _iteratorError202;}}}}}catch(err){_didIteratorError201=true;_iteratorError201=err;}finally{try{if(!_iteratorNormalCompletion201&&_iterator201["return"]!=null){_iterator201["return"]();}}finally{if(_didIteratorError201){throw _iteratorError201;}}}return{dependentEntryPointsByModule:dependentEntryPointsByModule,dynamicImportersByModule:dynamicImportersByModule};}function getDependentModules(moduleMap,module){var dependentModules=moduleMap.get(module)||new Set();moduleMap.set(module,dependentModules);return dependentModules;}function getDynamicDependentEntryPoints(dependentEntryPointsByModule,dynamicImportersByModule){var dynamicDependentEntryPointsByDynamicEntry=new Map();var _iteratorNormalCompletion205=true;var _didIteratorError205=false;var _iteratorError205=undefined;try{for(var _iterator205=dynamicImportersByModule.entries()[Symbol.iterator](),_step205;!(_iteratorNormalCompletion205=(_step205=_iterator205.next()).done);_iteratorNormalCompletion205=true){var _step205$value=_slicedToArray(_step205.value,2),dynamicEntry=_step205$value[0],importers=_step205$value[1];var dynamicDependentEntryPoints=getDependentModules(dynamicDependentEntryPointsByDynamicEntry,dynamicEntry);var _iteratorNormalCompletion206=true;var _didIteratorError206=false;var _iteratorError206=undefined;try{for(var _iterator206=importers[Symbol.iterator](),_step206;!(_iteratorNormalCompletion206=(_step206=_iterator206.next()).done);_iteratorNormalCompletion206=true){var importer=_step206.value;var _iteratorNormalCompletion207=true;var _didIteratorError207=false;var _iteratorError207=undefined;try{for(var _iterator207=dependentEntryPointsByModule.get(importer)[Symbol.iterator](),_step207;!(_iteratorNormalCompletion207=(_step207=_iterator207.next()).done);_iteratorNormalCompletion207=true){var entryPoint=_step207.value;dynamicDependentEntryPoints.add(entryPoint);}}catch(err){_didIteratorError207=true;_iteratorError207=err;}finally{try{if(!_iteratorNormalCompletion207&&_iterator207["return"]!=null){_iterator207["return"]();}}finally{if(_didIteratorError207){throw _iteratorError207;}}}}}catch(err){_didIteratorError206=true;_iteratorError206=err;}finally{try{if(!_iteratorNormalCompletion206&&_iterator206["return"]!=null){_iterator206["return"]();}}finally{if(_didIteratorError206){throw _iteratorError206;}}}}}catch(err){_didIteratorError205=true;_iteratorError205=err;}finally{try{if(!_iteratorNormalCompletion205&&_iterator205["return"]!=null){_iterator205["return"]();}}finally{if(_didIteratorError205){throw _iteratorError205;}}}return dynamicDependentEntryPointsByDynamicEntry;}var createHash$1=function createHash$1(){return crypto.createHash('sha256');};function generateAssetFileName(name,source,output){var emittedName=name||'asset';return makeUnique(renderNamePattern(output.assetFileNames,'output.assetFileNames',{hash:function hash(){var hash=createHash$1();hash.update(emittedName);hash.update(':');hash.update(source);return hash.digest('hex').substr(0,8);},ext:function ext(){return path.extname(emittedName).substr(1);},extname:function extname(){return path.extname(emittedName);},name:function name(){return emittedName.substr(0,emittedName.length-path.extname(emittedName).length);}}),output.bundle);}function reserveFileNameInBundle(fileName,bundle,graph){if(fileName in bundle){graph.warn(errFileNameConflict(fileName));}bundle[fileName]=FILE_PLACEHOLDER;}var FILE_PLACEHOLDER={type:'placeholder'};function hasValidType(emittedFile){return emittedFile&&(emittedFile.type==='asset'||emittedFile.type==='chunk');}function hasValidName(emittedFile){var validatedName=emittedFile.fileName||emittedFile.name;return!validatedName||typeof validatedName==='string'&&isPlainPathFragment(validatedName);}function getValidSource(source,emittedFile,fileReferenceId){if(typeof source!=='string'&&!Buffer.isBuffer(source)){var assetName=emittedFile.fileName||emittedFile.name||fileReferenceId;return _error(errFailedValidation("Could not set source for ".concat(typeof assetName==='string'?"asset \"".concat(assetName,"\""):'unnamed asset',", asset source needs to be a string of Buffer.")));}return source;}function getAssetFileName(file,referenceId){if(typeof file.fileName!=='string'){return _error(errAssetNotFinalisedForFileName(file.name||referenceId));}return file.fileName;}function getChunkFileName(file){var fileName=file.fileName||file.module&&file.module.facadeChunk.id;if(!fileName)return _error(errChunkNotGeneratedForFileName(file.fileName||file.name));return fileName;}var FileEmitter=/*#__PURE__*/function(){function FileEmitter(graph,baseFileEmitter){var _this43=this;_classCallCheck(this,FileEmitter);this.output=null;this.assertAssetsFinalized=function(){var _iteratorNormalCompletion208=true;var _didIteratorError208=false;var _iteratorError208=undefined;try{for(var _iterator208=_this43.filesByReferenceId.entries()[Symbol.iterator](),_step208;!(_iteratorNormalCompletion208=(_step208=_iterator208.next()).done);_iteratorNormalCompletion208=true){var _step208$value=_slicedToArray(_step208.value,2),referenceId=_step208$value[0],emittedFile=_step208$value[1];if(emittedFile.type==='asset'&&typeof emittedFile.fileName!=='string')return _error(errNoAssetSourceSet(emittedFile.name||referenceId));}}catch(err){_didIteratorError208=true;_iteratorError208=err;}finally{try{if(!_iteratorNormalCompletion208&&_iterator208["return"]!=null){_iterator208["return"]();}}finally{if(_didIteratorError208){throw _iteratorError208;}}}};this.emitFile=function(emittedFile){if(!hasValidType(emittedFile)){return _error(errFailedValidation("Emitted files must be of type \"asset\" or \"chunk\", received \"".concat(emittedFile&&emittedFile.type,"\".")));}if(!hasValidName(emittedFile)){return _error(errFailedValidation("The \"fileName\" or \"name\" properties of emitted files must be strings that are neither absolute nor relative paths and do not contain invalid characters, received \"".concat(emittedFile.fileName||emittedFile.name,"\".")));}if(emittedFile.type==='chunk'){return _this43.emitChunk(emittedFile);}else{return _this43.emitAsset(emittedFile);}};this.getFileName=function(fileReferenceId){var emittedFile=_this43.filesByReferenceId.get(fileReferenceId);if(!emittedFile)return _error(errFileReferenceIdNotFoundForFilename(fileReferenceId));if(emittedFile.type==='chunk'){return getChunkFileName(emittedFile);}else{return getAssetFileName(emittedFile,fileReferenceId);}};this.setAssetSource=function(referenceId,requestedSource){var consumedFile=_this43.filesByReferenceId.get(referenceId);if(!consumedFile)return _error(errAssetReferenceIdNotFoundForSetSource(referenceId));if(consumedFile.type!=='asset'){return _error(errFailedValidation("Asset sources can only be set for emitted assets but \"".concat(referenceId,"\" is an emitted chunk.")));}if(consumedFile.source!==undefined){return _error(errAssetSourceAlreadySet(consumedFile.name||referenceId));}var source=getValidSource(requestedSource,consumedFile,referenceId);if(_this43.output){_this43.finalizeAsset(consumedFile,source,referenceId,_this43.output);}else{consumedFile.source=source;}};this.setOutputBundle=function(outputBundle,assetFileNames){_this43.output={assetFileNames:assetFileNames,bundle:outputBundle};var _iteratorNormalCompletion209=true;var _didIteratorError209=false;var _iteratorError209=undefined;try{for(var _iterator209=_this43.filesByReferenceId.values()[Symbol.iterator](),_step209;!(_iteratorNormalCompletion209=(_step209=_iterator209.next()).done);_iteratorNormalCompletion209=true){var emittedFile=_step209.value;if(emittedFile.fileName){reserveFileNameInBundle(emittedFile.fileName,_this43.output.bundle,_this43.graph);}}}catch(err){_didIteratorError209=true;_iteratorError209=err;}finally{try{if(!_iteratorNormalCompletion209&&_iterator209["return"]!=null){_iterator209["return"]();}}finally{if(_didIteratorError209){throw _iteratorError209;}}}var _iteratorNormalCompletion210=true;var _didIteratorError210=false;var _iteratorError210=undefined;try{for(var _iterator210=_this43.filesByReferenceId.entries()[Symbol.iterator](),_step210;!(_iteratorNormalCompletion210=(_step210=_iterator210.next()).done);_iteratorNormalCompletion210=true){var _step210$value=_slicedToArray(_step210.value,2),referenceId=_step210$value[0],consumedFile=_step210$value[1];if(consumedFile.type==='asset'&&consumedFile.source!==undefined){_this43.finalizeAsset(consumedFile,consumedFile.source,referenceId,_this43.output);}}}catch(err){_didIteratorError210=true;_iteratorError210=err;}finally{try{if(!_iteratorNormalCompletion210&&_iterator210["return"]!=null){_iterator210["return"]();}}finally{if(_didIteratorError210){throw _iteratorError210;}}}};this.graph=graph;this.filesByReferenceId=baseFileEmitter?new Map(baseFileEmitter.filesByReferenceId):new Map();}_createClass(FileEmitter,[{key:"assignReferenceId",value:function assignReferenceId(file,idBase){var referenceId;do{var hash=createHash$1();if(referenceId){hash.update(referenceId);}else{hash.update(idBase);}referenceId=hash.digest('hex').substr(0,8);}while(this.filesByReferenceId.has(referenceId));this.filesByReferenceId.set(referenceId,file);return referenceId;}},{key:"emitAsset",value:function emitAsset(emittedAsset){var source=typeof emittedAsset.source!=='undefined'?getValidSource(emittedAsset.source,emittedAsset,null):undefined;var consumedAsset={fileName:emittedAsset.fileName,name:emittedAsset.name,source:source,type:'asset'};var referenceId=this.assignReferenceId(consumedAsset,emittedAsset.fileName||emittedAsset.name||emittedAsset.type);if(this.output){if(emittedAsset.fileName){reserveFileNameInBundle(emittedAsset.fileName,this.output.bundle,this.graph);}if(source!==undefined){this.finalizeAsset(consumedAsset,source,referenceId,this.output);}}return referenceId;}},{key:"emitChunk",value:function emitChunk(emittedChunk){if(this.graph.phase>BuildPhase.LOAD_AND_PARSE){return _error(errInvalidRollupPhaseForChunkEmission());}if(typeof emittedChunk.id!=='string'){return _error(errFailedValidation("Emitted chunks need to have a valid string id, received \"".concat(emittedChunk.id,"\"")));}var consumedChunk={fileName:emittedChunk.fileName,module:null,name:emittedChunk.name||emittedChunk.id,type:'chunk'};this.graph.moduleLoader.addEntryModules([{fileName:emittedChunk.fileName||null,id:emittedChunk.id,name:emittedChunk.name||null}],false).then(function(_ref34){var _ref34$newEntryModule=_slicedToArray(_ref34.newEntryModules,1),module=_ref34$newEntryModule[0];consumedChunk.module=module;})["catch"](function(){// Avoid unhandled Promise rejection as the error will be thrown later
// once module loading has finished
});return this.assignReferenceId(consumedChunk,emittedChunk.id);}},{key:"finalizeAsset",value:function finalizeAsset(consumedFile,source,referenceId,output){var fileName=consumedFile.fileName||this.findExistingAssetFileNameWithSource(output.bundle,source)||generateAssetFileName(consumedFile.name,source,output);// We must not modify the original assets to avoid interaction between outputs
var assetWithFileName=Object.assign(Object.assign({},consumedFile),{source:source,fileName:fileName});this.filesByReferenceId.set(referenceId,assetWithFileName);var graph=this.graph;output.bundle[fileName]={fileName:fileName,get isAsset(){graph.warnDeprecation('Accessing "isAsset" on files in the bundle is deprecated, please use "type === \'asset\'" instead',false);return true;},source:source,type:'asset'};}},{key:"findExistingAssetFileNameWithSource",value:function findExistingAssetFileNameWithSource(bundle,source){for(var _i27=0,_Object$keys14=Object.keys(bundle);_i27<_Object$keys14.length;_i27++){var fileName=_Object$keys14[_i27];var outputFile=bundle[fileName];if(outputFile.type==='asset'&&(Buffer.isBuffer(source)&&Buffer.isBuffer(outputFile.source)?source.equals(outputFile.source):source===outputFile.source))return fileName;}return null;}}]);return FileEmitter;}();function getDeprecatedContextHandler(handler,handlerName,newHandlerName,pluginName,activeDeprecation,graph){var deprecationWarningShown=false;return function(){if(!deprecationWarningShown){deprecationWarningShown=true;graph.warnDeprecation({message:"The \"this.".concat(handlerName,"\" plugin context function used by plugin ").concat(pluginName," is deprecated. The \"this.").concat(newHandlerName,"\" plugin context function should be used instead."),plugin:pluginName},activeDeprecation);}return handler.apply(void 0,arguments);};}function getPluginContexts(pluginCache,graph,fileEmitter,watcher){var existingPluginNames=new Set();return function(plugin,pidx){var cacheable=true;if(typeof plugin.cacheKey!=='string'){if(plugin.name.startsWith(ANONYMOUS_PLUGIN_PREFIX)||plugin.name.startsWith(ANONYMOUS_OUTPUT_PLUGIN_PREFIX)||existingPluginNames.has(plugin.name)){cacheable=false;}else{existingPluginNames.add(plugin.name);}}var cacheInstance;if(!pluginCache){cacheInstance=NO_CACHE;}else if(cacheable){var cacheKey=plugin.cacheKey||plugin.name;cacheInstance=createPluginCache(pluginCache[cacheKey]||(pluginCache[cacheKey]=Object.create(null)));}else{cacheInstance=getCacheForUncacheablePlugin(plugin.name);}var context={addWatchFile:function addWatchFile(id){if(graph.phase>=BuildPhase.GENERATE){return this.error(errInvalidRollupPhaseForAddWatchFile());}graph.watchFiles[id]=true;},cache:cacheInstance,emitAsset:getDeprecatedContextHandler(function(name,source){return fileEmitter.emitFile({type:'asset',name:name,source:source});},'emitAsset','emitFile',plugin.name,false,graph),emitChunk:getDeprecatedContextHandler(function(id,options){return fileEmitter.emitFile({type:'chunk',id:id,name:options&&options.name});},'emitChunk','emitFile',plugin.name,false,graph),emitFile:fileEmitter.emitFile,error:function error(err){return throwPluginError(err,plugin.name);},getAssetFileName:getDeprecatedContextHandler(fileEmitter.getFileName,'getAssetFileName','getFileName',plugin.name,false,graph),getChunkFileName:getDeprecatedContextHandler(fileEmitter.getFileName,'getChunkFileName','getFileName',plugin.name,false,graph),getFileName:fileEmitter.getFileName,getModuleInfo:function getModuleInfo(moduleId){var foundModule=graph.moduleById.get(moduleId);if(foundModule==null){throw new Error("Unable to find module ".concat(moduleId));}return{hasModuleSideEffects:foundModule.moduleSideEffects,id:foundModule.id,importedIds:foundModule instanceof ExternalModule?[]:Array.from(foundModule.sources).map(function(id){return foundModule.resolvedIds[id].id;}),isEntry:foundModule instanceof Module&&foundModule.isEntryPoint,isExternal:foundModule instanceof ExternalModule};},isExternal:getDeprecatedContextHandler(function(id,parentId){var isResolved=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return graph.moduleLoader.isExternal(id,parentId,isResolved);},'isExternal','resolve',plugin.name,false,graph),meta:{rollupVersion:version},get moduleIds(){return graph.moduleById.keys();},parse:graph.contextParse,resolve:function resolve(source,importer,options){return graph.moduleLoader.resolveId(source,importer,options&&options.skipSelf?pidx:null);},resolveId:getDeprecatedContextHandler(function(source,importer){return graph.moduleLoader.resolveId(source,importer).then(function(resolveId){return resolveId&&resolveId.id;});},'resolveId','resolve',plugin.name,false,graph),setAssetSource:fileEmitter.setAssetSource,warn:function warn(warning){if(typeof warning==='string')warning={message:warning};if(warning.code)warning.pluginCode=warning.code;warning.code='PLUGIN_WARNING';warning.plugin=plugin.name;graph.warn(warning);},watcher:watcher?function(){var deprecationWarningShown=false;function deprecatedWatchListener(event,handler){if(!deprecationWarningShown){context.warn({code:'PLUGIN_WATCHER_DEPRECATED',message:"this.watcher usage is deprecated in plugins. Use the watchChange plugin hook and this.addWatchFile() instead."});deprecationWarningShown=true;}return watcher.on(event,handler);}return Object.assign(Object.assign({},watcher),{addListener:deprecatedWatchListener,on:deprecatedWatchListener});}():undefined};return context;};}var PluginDriver=/*#__PURE__*/function(){function PluginDriver(graph,userPlugins,pluginCache,preserveSymlinks,watcher,basePluginDriver){_classCallCheck(this,PluginDriver);this.previousHooks=new Set(['options']);warnDeprecatedHooks(userPlugins,graph);this.graph=graph;this.pluginCache=pluginCache;this.preserveSymlinks=preserveSymlinks;this.watcher=watcher;this.fileEmitter=new FileEmitter(graph,basePluginDriver&&basePluginDriver.fileEmitter);this.emitFile=this.fileEmitter.emitFile;this.getFileName=this.fileEmitter.getFileName;this.finaliseAssets=this.fileEmitter.assertAssetsFinalized;this.setOutputBundle=this.fileEmitter.setOutputBundle;this.plugins=userPlugins.concat(basePluginDriver?basePluginDriver.plugins:[getRollupDefaultPlugin(preserveSymlinks)]);this.pluginContexts=this.plugins.map(getPluginContexts(pluginCache,graph,this.fileEmitter,watcher));if(basePluginDriver){var _iteratorNormalCompletion211=true;var _didIteratorError211=false;var _iteratorError211=undefined;try{for(var _iterator211=userPlugins[Symbol.iterator](),_step211;!(_iteratorNormalCompletion211=(_step211=_iterator211.next()).done);_iteratorNormalCompletion211=true){var plugin=_step211.value;var _iteratorNormalCompletion212=true;var _didIteratorError212=false;var _iteratorError212=undefined;try{for(var _iterator212=basePluginDriver.previousHooks[Symbol.iterator](),_step212;!(_iteratorNormalCompletion212=(_step212=_iterator212.next()).done);_iteratorNormalCompletion212=true){var hook=_step212.value;if(hook in plugin){graph.warn(errInputHookInOutputPlugin(plugin.name,hook));}}}catch(err){_didIteratorError212=true;_iteratorError212=err;}finally{try{if(!_iteratorNormalCompletion212&&_iterator212["return"]!=null){_iterator212["return"]();}}finally{if(_didIteratorError212){throw _iteratorError212;}}}}}catch(err){_didIteratorError211=true;_iteratorError211=err;}finally{try{if(!_iteratorNormalCompletion211&&_iterator211["return"]!=null){_iterator211["return"]();}}finally{if(_didIteratorError211){throw _iteratorError211;}}}}}_createClass(PluginDriver,[{key:"createOutputPluginDriver",value:function createOutputPluginDriver(plugins){return new PluginDriver(this.graph,plugins,this.pluginCache,this.preserveSymlinks,this.watcher,this);}// chains, first non-null result stops and returns
},{key:"hookFirst",value:function hookFirst(hookName,args,replaceContext,skip){var _this44=this;var promise=Promise.resolve();var _loop6=function _loop6(_i28){if(skip===_i28)return"continue";promise=promise.then(function(result){if(result!=null)return result;return _this44.runHook(hookName,args,_i28,false,replaceContext);});};for(var _i28=0;_i28<this.plugins.length;_i28++){var _ret4=_loop6(_i28);if(_ret4==="continue")continue;}return promise;}// chains synchronously, first non-null result stops and returns
},{key:"hookFirstSync",value:function hookFirstSync(hookName,args,replaceContext){for(var _i29=0;_i29<this.plugins.length;_i29++){var result=this.runHookSync(hookName,args,_i29,replaceContext);if(result!=null)return result;}return null;}// parallel, ignores returns
},{key:"hookParallel",value:function hookParallel(hookName,args,replaceContext){var promises=[];for(var _i30=0;_i30<this.plugins.length;_i30++){var hookPromise=this.runHook(hookName,args,_i30,false,replaceContext);if(!hookPromise)continue;promises.push(hookPromise);}return Promise.all(promises).then(function(){});}// chains, reduces returns of type R, to type T, handling the reduced value as the first hook argument
},{key:"hookReduceArg0",value:function hookReduceArg0(hookName,_ref35,reduce,replaceContext){var _this45=this;var _ref36=_toArray(_ref35),arg0=_ref36[0],args=_ref36.slice(1);var promise=Promise.resolve(arg0);var _loop7=function _loop7(_i31){promise=promise.then(function(arg0){var hookPromise=_this45.runHook(hookName,[arg0].concat(_toConsumableArray(args)),_i31,false,replaceContext);if(!hookPromise)return arg0;return hookPromise.then(function(result){return reduce.call(_this45.pluginContexts[_i31],arg0,result,_this45.plugins[_i31]);});});};for(var _i31=0;_i31<this.plugins.length;_i31++){_loop7(_i31);}return promise;}// chains synchronously, reduces returns of type R, to type T, handling the reduced value as the first hook argument
},{key:"hookReduceArg0Sync",value:function hookReduceArg0Sync(hookName,_ref37,reduce,replaceContext){var _ref38=_toArray(_ref37),arg0=_ref38[0],args=_ref38.slice(1);for(var _i32=0;_i32<this.plugins.length;_i32++){var result=this.runHookSync(hookName,[arg0].concat(_toConsumableArray(args)),_i32,replaceContext);arg0=reduce.call(this.pluginContexts[_i32],arg0,result,this.plugins[_i32]);}return arg0;}// chains, reduces returns of type R, to type T, handling the reduced value separately. permits hooks as values.
},{key:"hookReduceValue",value:function hookReduceValue(hookName,initialValue,args,reduce,replaceContext){var _this46=this;var promise=Promise.resolve(initialValue);var _loop8=function _loop8(_i33){promise=promise.then(function(value){var hookPromise=_this46.runHook(hookName,args,_i33,true,replaceContext);if(!hookPromise)return value;return hookPromise.then(function(result){return reduce.call(_this46.pluginContexts[_i33],value,result,_this46.plugins[_i33]);});});};for(var _i33=0;_i33<this.plugins.length;_i33++){_loop8(_i33);}return promise;}// chains, reduces returns of type R, to type T, handling the reduced value separately. permits hooks as values.
},{key:"hookReduceValueSync",value:function hookReduceValueSync(hookName,initialValue,args,reduce,replaceContext){var acc=initialValue;for(var _i34=0;_i34<this.plugins.length;_i34++){var result=this.runHookSync(hookName,args,_i34,replaceContext);acc=reduce.call(this.pluginContexts[_i34],acc,result,this.plugins[_i34]);}return acc;}// chains, ignores returns
},{key:"hookSeq",value:function hookSeq(hookName,args,replaceContext){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee4(){var _this47=this;var promise,_loop9,_i35;return regeneratorRuntime.wrap(function _callee4$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:promise=Promise.resolve();_loop9=function _loop9(_i35){promise=promise.then(function(){return _this47.runHook(hookName,args,_i35,false,replaceContext);});};for(_i35=0;_i35<this.plugins.length;_i35++){_loop9(_i35);}return _context5.abrupt("return",promise);case 4:case"end":return _context5.stop();}}},_callee4,this);}));}// chains, ignores returns
},{key:"hookSeqSync",value:function hookSeqSync(hookName,args,replaceContext){for(var _i36=0;_i36<this.plugins.length;_i36++){this.runHookSync(hookName,args,_i36,replaceContext);}}},{key:"runHook",value:function runHook(hookName,args,pluginIndex,permitValues,hookContext){this.previousHooks.add(hookName);var plugin=this.plugins[pluginIndex];var hook=plugin[hookName];if(!hook)return undefined;var context=this.pluginContexts[pluginIndex];if(hookContext){context=hookContext(context,plugin);}return Promise.resolve().then(function(){// permit values allows values to be returned instead of a functional hook
if(typeof hook!=='function'){if(permitValues)return hook;return _error({code:'INVALID_PLUGIN_HOOK',message:"Error running plugin hook ".concat(hookName," for ").concat(plugin.name,", expected a function hook.")});}return hook.apply(context,args);})["catch"](function(err){return throwPluginError(err,plugin.name,{hook:hookName});});}},{key:"runHookSync",value:function runHookSync(hookName,args,pluginIndex,hookContext){this.previousHooks.add(hookName);var plugin=this.plugins[pluginIndex];var context=this.pluginContexts[pluginIndex];var hook=plugin[hookName];if(!hook)return undefined;if(hookContext){context=hookContext(context,plugin);}try{// permit values allows values to be returned instead of a functional hook
if(typeof hook!=='function'){return _error({code:'INVALID_PLUGIN_HOOK',message:"Error running plugin hook ".concat(hookName," for ").concat(plugin.name,", expected a function hook.")});}return hook.apply(context,args);}catch(err){return throwPluginError(err,plugin.name,{hook:hookName});}}}]);return PluginDriver;}();function makeOnwarn(){var warned=Object.create(null);return function(warning){var str=warning.toString();if(str in warned)return;console.error(str);warned[str]=true;};}function normalizeEntryModules(entryModules){if(typeof entryModules==='string'){return[{fileName:null,name:null,id:entryModules}];}if(Array.isArray(entryModules)){return entryModules.map(function(id){return{fileName:null,name:null,id:id};});}return Object.keys(entryModules).map(function(name){return{fileName:null,id:entryModules[name],name:name};});}var Graph=/*#__PURE__*/function(){function Graph(options,watcher){var _this48=this,_acorn$Parser;_classCallCheck(this,Graph);this.moduleById=new Map();this.needsTreeshakingPass=false;this.phase=BuildPhase.LOAD_AND_PARSE;this.watchFiles=Object.create(null);this.externalModules=[];this.modules=[];this.onwarn=options.onwarn||makeOnwarn();this.deoptimizationTracker=new PathTracker();this.cachedModules=new Map();if(options.cache){if(options.cache.modules){var _iteratorNormalCompletion213=true;var _didIteratorError213=false;var _iteratorError213=undefined;try{for(var _iterator213=options.cache.modules[Symbol.iterator](),_step213;!(_iteratorNormalCompletion213=(_step213=_iterator213.next()).done);_iteratorNormalCompletion213=true){var module=_step213.value;this.cachedModules.set(module.id,module);}}catch(err){_didIteratorError213=true;_iteratorError213=err;}finally{try{if(!_iteratorNormalCompletion213&&_iterator213["return"]!=null){_iterator213["return"]();}}finally{if(_didIteratorError213){throw _iteratorError213;}}}}}if(options.cache!==false){this.pluginCache=options.cache&&options.cache.plugins||Object.create(null);// increment access counter
for(var name in this.pluginCache){var cache=this.pluginCache[name];for(var _i37=0,_Object$keys15=Object.keys(cache);_i37<_Object$keys15.length;_i37++){var key=_Object$keys15[_i37];cache[key][0]++;}}}this.preserveModules=options.preserveModules;this.strictDeprecations=options.strictDeprecations;this.cacheExpiry=options.experimentalCacheExpiry;if(options.treeshake!==false){this.treeshakingOptions=options.treeshake&&options.treeshake!==true?{annotations:options.treeshake.annotations!==false,moduleSideEffects:options.treeshake.moduleSideEffects,propertyReadSideEffects:options.treeshake.propertyReadSideEffects!==false,pureExternalModules:options.treeshake.pureExternalModules,tryCatchDeoptimization:options.treeshake.tryCatchDeoptimization!==false,unknownGlobalSideEffects:options.treeshake.unknownGlobalSideEffects!==false}:{annotations:true,moduleSideEffects:true,propertyReadSideEffects:true,tryCatchDeoptimization:true,unknownGlobalSideEffects:true};if(typeof this.treeshakingOptions.pureExternalModules!=='undefined'){this.warnDeprecation("The \"treeshake.pureExternalModules\" option is deprecated. The \"treeshake.moduleSideEffects\" option should be used instead. \"treeshake.pureExternalModules: true\" is equivalent to \"treeshake.moduleSideEffects: 'no-external'\"",false);}}this.contextParse=function(code){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return _this48.acornParser.parse(code,Object.assign(Object.assign(Object.assign({},defaultAcornOptions),options),_this48.acornOptions));};this.pluginDriver=new PluginDriver(this,options.plugins,this.pluginCache,options.preserveSymlinks===true,watcher);if(watcher){var handleChange=function handleChange(id){return _this48.pluginDriver.hookSeqSync('watchChange',[id]);};watcher.on('change',handleChange);watcher.once('restart',function(){watcher.removeListener('change',handleChange);});}this.shimMissingExports=options.shimMissingExports;this.scope=new GlobalScope();this.context=String(options.context);var optionsModuleContext=options.moduleContext;if(typeof optionsModuleContext==='function'){this.getModuleContext=function(id){return optionsModuleContext(id)||_this48.context;};}else if(_typeof(optionsModuleContext)==='object'){var moduleContext=new Map();for(var _key2 in optionsModuleContext){moduleContext.set(path.resolve(_key2),optionsModuleContext[_key2]);}this.getModuleContext=function(id){return moduleContext.get(id)||_this48.context;};}else{this.getModuleContext=function(){return _this48.context;};}this.acornOptions=options.acorn?Object.assign({},options.acorn):{};var acornPluginsToInject=[];acornPluginsToInject.push(acornImportMeta,acornExportNsFrom);this.acornOptions.allowAwaitOutsideFunction=true;var acornInjectPlugins=options.acornInjectPlugins;acornPluginsToInject.push.apply(acornPluginsToInject,_toConsumableArray(Array.isArray(acornInjectPlugins)?acornInjectPlugins:acornInjectPlugins?[acornInjectPlugins]:[]));this.acornParser=(_acorn$Parser=acorn.Parser).extend.apply(_acorn$Parser,acornPluginsToInject);this.moduleLoader=new ModuleLoader(this,this.moduleById,this.pluginDriver,options.external,typeof options.manualChunks==='function'&&options.manualChunks,this.treeshakingOptions?this.treeshakingOptions.moduleSideEffects:null,this.treeshakingOptions?this.treeshakingOptions.pureExternalModules:false);}_createClass(Graph,[{key:"build",value:function build(entryModules,manualChunks,inlineDynamicImports){var _this49=this;// Phase 1 – discovery. We load the entry module and find which
// modules it imports, and import those, until we have all
// of the entry module's dependencies
timeStart('parse modules',2);return Promise.all([this.moduleLoader.addEntryModules(normalizeEntryModules(entryModules),true),manualChunks&&_typeof(manualChunks)==='object'&&this.moduleLoader.addManualChunks(manualChunks)]).then(function(_ref39){var _ref40=_slicedToArray(_ref39,1),_ref40$=_ref40[0],entryModules=_ref40$.entryModules,manualChunkModulesByAlias=_ref40$.manualChunkModulesByAlias;if(entryModules.length===0){throw new Error('You must supply options.input to rollup');}var _iteratorNormalCompletion214=true;var _didIteratorError214=false;var _iteratorError214=undefined;try{for(var _iterator214=_this49.moduleById.values()[Symbol.iterator](),_step214;!(_iteratorNormalCompletion214=(_step214=_iterator214.next()).done);_iteratorNormalCompletion214=true){var _module6=_step214.value;if(_module6 instanceof Module){_this49.modules.push(_module6);}else{_this49.externalModules.push(_module6);}}}catch(err){_didIteratorError214=true;_iteratorError214=err;}finally{try{if(!_iteratorNormalCompletion214&&_iterator214["return"]!=null){_iterator214["return"]();}}finally{if(_didIteratorError214){throw _iteratorError214;}}}timeEnd('parse modules',2);_this49.phase=BuildPhase.ANALYSE;// Phase 2 - linking. We populate the module dependency links and
// determine the topological execution order for the bundle
timeStart('analyse dependency graph',2);_this49.link(entryModules);timeEnd('analyse dependency graph',2);// Phase 3 – marking. We include all statements that should be included
timeStart('mark included statements',2);if(inlineDynamicImports){if(entryModules.length>1){throw new Error('Internal Error: can only inline dynamic imports for single-file builds.');}}var _iteratorNormalCompletion215=true;var _didIteratorError215=false;var _iteratorError215=undefined;try{for(var _iterator215=entryModules[Symbol.iterator](),_step215;!(_iteratorNormalCompletion215=(_step215=_iterator215.next()).done);_iteratorNormalCompletion215=true){var _module7=_step215.value;_module7.includeAllExports();}}catch(err){_didIteratorError215=true;_iteratorError215=err;}finally{try{if(!_iteratorNormalCompletion215&&_iterator215["return"]!=null){_iterator215["return"]();}}finally{if(_didIteratorError215){throw _iteratorError215;}}}_this49.includeMarked(_this49.modules);// check for unused external imports
var _iteratorNormalCompletion216=true;var _didIteratorError216=false;var _iteratorError216=undefined;try{for(var _iterator216=_this49.externalModules[Symbol.iterator](),_step216;!(_iteratorNormalCompletion216=(_step216=_iterator216.next()).done);_iteratorNormalCompletion216=true){var externalModule=_step216.value;externalModule.warnUnusedImports();}}catch(err){_didIteratorError216=true;_iteratorError216=err;}finally{try{if(!_iteratorNormalCompletion216&&_iterator216["return"]!=null){_iterator216["return"]();}}finally{if(_didIteratorError216){throw _iteratorError216;}}}timeEnd('mark included statements',2);// Phase 4 – we construct the chunks, working out the optimal chunking using
// entry point graph colouring, before generating the import and export facades
timeStart('generate chunks',2);if(!_this49.preserveModules&&!inlineDynamicImports){assignChunkColouringHashes(entryModules,manualChunkModulesByAlias);}// TODO: there is one special edge case unhandled here and that is that any module
//       exposed as an unresolvable export * (to a graph external export *,
//       either as a namespace import reexported or top-level export *)
//       should be made to be its own entry point module before chunking
var chunks=[];if(_this49.preserveModules){var _iteratorNormalCompletion217=true;var _didIteratorError217=false;var _iteratorError217=undefined;try{for(var _iterator217=_this49.modules[Symbol.iterator](),_step217;!(_iteratorNormalCompletion217=(_step217=_iterator217.next()).done);_iteratorNormalCompletion217=true){var module=_step217.value;var chunk=new Chunk$1(_this49,[module]);if(module.isEntryPoint||!chunk.isEmpty){chunk.entryModules=[module];}chunks.push(chunk);}}catch(err){_didIteratorError217=true;_iteratorError217=err;}finally{try{if(!_iteratorNormalCompletion217&&_iterator217["return"]!=null){_iterator217["return"]();}}finally{if(_didIteratorError217){throw _iteratorError217;}}}}else{var chunkModules={};var _iteratorNormalCompletion218=true;var _didIteratorError218=false;var _iteratorError218=undefined;try{for(var _iterator218=_this49.modules[Symbol.iterator](),_step218;!(_iteratorNormalCompletion218=(_step218=_iterator218.next()).done);_iteratorNormalCompletion218=true){var _module5=_step218.value;var entryPointsHashStr=Uint8ArrayToHexString(_module5.entryPointsHash);var curChunk=chunkModules[entryPointsHashStr];if(curChunk){curChunk.push(_module5);}else{chunkModules[entryPointsHashStr]=[_module5];}}}catch(err){_didIteratorError218=true;_iteratorError218=err;}finally{try{if(!_iteratorNormalCompletion218&&_iterator218["return"]!=null){_iterator218["return"]();}}finally{if(_didIteratorError218){throw _iteratorError218;}}}for(var entryHashSum in chunkModules){var chunkModulesOrdered=chunkModules[entryHashSum];sortByExecutionOrder(chunkModulesOrdered);var _chunk=new Chunk$1(_this49,chunkModulesOrdered);chunks.push(_chunk);}}for(var _i38=0,_chunks=chunks;_i38<_chunks.length;_i38++){var _chunk2=_chunks[_i38];_chunk2.link();}chunks=chunks.filter(isChunkRendered);var facades=[];var _iteratorNormalCompletion219=true;var _didIteratorError219=false;var _iteratorError219=undefined;try{for(var _iterator219=chunks[Symbol.iterator](),_step219;!(_iteratorNormalCompletion219=(_step219=_iterator219.next()).done);_iteratorNormalCompletion219=true){var _chunk3=_step219.value;facades.push.apply(facades,_toConsumableArray(_chunk3.generateFacades()));}}catch(err){_didIteratorError219=true;_iteratorError219=err;}finally{try{if(!_iteratorNormalCompletion219&&_iterator219["return"]!=null){_iterator219["return"]();}}finally{if(_didIteratorError219){throw _iteratorError219;}}}timeEnd('generate chunks',2);_this49.phase=BuildPhase.GENERATE;return chunks.concat(facades);});}},{key:"getCache",value:function getCache(){// handle plugin cache eviction
for(var name in this.pluginCache){var cache=this.pluginCache[name];var allDeleted=true;for(var _i39=0,_Object$keys16=Object.keys(cache);_i39<_Object$keys16.length;_i39++){var key=_Object$keys16[_i39];if(cache[key][0]>=this.cacheExpiry)delete cache[key];else allDeleted=false;}if(allDeleted)delete this.pluginCache[name];}return{modules:this.modules.map(function(module){return module.toJSON();}),plugins:this.pluginCache};}},{key:"includeMarked",value:function includeMarked(modules){if(this.treeshakingOptions){var treeshakingPass=1;do{timeStart("treeshaking pass ".concat(treeshakingPass),3);this.needsTreeshakingPass=false;var _iteratorNormalCompletion220=true;var _didIteratorError220=false;var _iteratorError220=undefined;try{for(var _iterator220=modules[Symbol.iterator](),_step220;!(_iteratorNormalCompletion220=(_step220=_iterator220.next()).done);_iteratorNormalCompletion220=true){var module=_step220.value;if(module.isExecuted)module.include();}}catch(err){_didIteratorError220=true;_iteratorError220=err;}finally{try{if(!_iteratorNormalCompletion220&&_iterator220["return"]!=null){_iterator220["return"]();}}finally{if(_didIteratorError220){throw _iteratorError220;}}}timeEnd("treeshaking pass ".concat(treeshakingPass++),3);}while(this.needsTreeshakingPass);}else{// Necessary to properly replace namespace imports
var _iteratorNormalCompletion221=true;var _didIteratorError221=false;var _iteratorError221=undefined;try{for(var _iterator221=modules[Symbol.iterator](),_step221;!(_iteratorNormalCompletion221=(_step221=_iterator221.next()).done);_iteratorNormalCompletion221=true){var _module8=_step221.value;_module8.includeAllInBundle();}}catch(err){_didIteratorError221=true;_iteratorError221=err;}finally{try{if(!_iteratorNormalCompletion221&&_iterator221["return"]!=null){_iterator221["return"]();}}finally{if(_didIteratorError221){throw _iteratorError221;}}}}}},{key:"warn",value:function warn(warning){warning.toString=function(){var str='';if(warning.plugin)str+="(".concat(warning.plugin," plugin) ");if(warning.loc)str+="".concat(relativeId(warning.loc.file)," (").concat(warning.loc.line,":").concat(warning.loc.column,") ");str+=warning.message;return str;};this.onwarn(warning);}},{key:"warnDeprecation",value:function warnDeprecation(deprecation,activeDeprecation){if(activeDeprecation||this.strictDeprecations){var warning=errDeprecation(deprecation);if(this.strictDeprecations){return _error(warning);}this.warn(warning);}}},{key:"link",value:function link(entryModules){var _iteratorNormalCompletion222=true;var _didIteratorError222=false;var _iteratorError222=undefined;try{for(var _iterator222=this.modules[Symbol.iterator](),_step222;!(_iteratorNormalCompletion222=(_step222=_iterator222.next()).done);_iteratorNormalCompletion222=true){var module=_step222.value;module.linkDependencies();}}catch(err){_didIteratorError222=true;_iteratorError222=err;}finally{try{if(!_iteratorNormalCompletion222&&_iterator222["return"]!=null){_iterator222["return"]();}}finally{if(_didIteratorError222){throw _iteratorError222;}}}var _analyseModuleExecuti=analyseModuleExecution(entryModules),orderedModules=_analyseModuleExecuti.orderedModules,cyclePaths=_analyseModuleExecuti.cyclePaths;var _iteratorNormalCompletion223=true;var _didIteratorError223=false;var _iteratorError223=undefined;try{for(var _iterator223=cyclePaths[Symbol.iterator](),_step223;!(_iteratorNormalCompletion223=(_step223=_iterator223.next()).done);_iteratorNormalCompletion223=true){var cyclePath=_step223.value;this.warn({code:'CIRCULAR_DEPENDENCY',cycle:cyclePath,importer:cyclePath[0],message:"Circular dependency: ".concat(cyclePath.join(' -> '))});}}catch(err){_didIteratorError223=true;_iteratorError223=err;}finally{try{if(!_iteratorNormalCompletion223&&_iterator223["return"]!=null){_iterator223["return"]();}}finally{if(_didIteratorError223){throw _iteratorError223;}}}this.modules=orderedModules;var _iteratorNormalCompletion224=true;var _didIteratorError224=false;var _iteratorError224=undefined;try{for(var _iterator224=this.modules[Symbol.iterator](),_step224;!(_iteratorNormalCompletion224=(_step224=_iterator224.next()).done);_iteratorNormalCompletion224=true){var _module9=_step224.value;_module9.bindReferences();}}catch(err){_didIteratorError224=true;_iteratorError224=err;}finally{try{if(!_iteratorNormalCompletion224&&_iterator224["return"]!=null){_iterator224["return"]();}}finally{if(_didIteratorError224){throw _iteratorError224;}}}this.warnForMissingExports();}},{key:"warnForMissingExports",value:function warnForMissingExports(){var _iteratorNormalCompletion225=true;var _didIteratorError225=false;var _iteratorError225=undefined;try{for(var _iterator225=this.modules[Symbol.iterator](),_step225;!(_iteratorNormalCompletion225=(_step225=_iterator225.next()).done);_iteratorNormalCompletion225=true){var module=_step225.value;for(var _i40=0,_Object$keys17=Object.keys(module.importDescriptions);_i40<_Object$keys17.length;_i40++){var importName=_Object$keys17[_i40];var importDescription=module.importDescriptions[importName];if(importDescription.name!=='*'&&!importDescription.module.getVariableForExportName(importDescription.name)){module.warn({code:'NON_EXISTENT_EXPORT',message:"Non-existent export '".concat(importDescription.name,"' is imported from ").concat(relativeId(importDescription.module.id)),name:importDescription.name,source:importDescription.module.id},importDescription.start);}}}}catch(err){_didIteratorError225=true;_iteratorError225=err;}finally{try{if(!_iteratorNormalCompletion225&&_iterator225["return"]!=null){_iterator225["return"]();}}finally{if(_didIteratorError225){throw _iteratorError225;}}}}}]);return Graph;}();function evalIfFn(strOrFn){switch(_typeof(strOrFn)){case'function':return strOrFn();case'string':return strOrFn;default:return'';}}var concatSep=function concatSep(out,next){return next?"".concat(out,"\n").concat(next):out;};var concatDblSep=function concatDblSep(out,next){return next?"".concat(out,"\n\n").concat(next):out;};function createAddons(options,outputPluginDriver){return Promise.all([outputPluginDriver.hookReduceValue('banner',evalIfFn(options.banner),[],concatSep),outputPluginDriver.hookReduceValue('footer',evalIfFn(options.footer),[],concatSep),outputPluginDriver.hookReduceValue('intro',evalIfFn(options.intro),[],concatDblSep),outputPluginDriver.hookReduceValue('outro',evalIfFn(options.outro),[],concatDblSep)]).then(function(_ref41){var _ref42=_slicedToArray(_ref41,4),banner=_ref42[0],footer=_ref42[1],intro=_ref42[2],outro=_ref42[3];if(intro)intro+='\n\n';if(outro)outro="\n\n".concat(outro);if(banner.length)banner+='\n';if(footer.length)footer='\n'+footer;return{intro:intro,outro:outro,banner:banner,footer:footer};})["catch"](function(err){return _error({code:'ADDON_ERROR',message:"Could not retrieve ".concat(err.hook,". Check configuration of plugin ").concat(err.plugin,".\n\tError Message: ").concat(err.message)});});}function assignChunkIds(chunks,inputOptions,outputOptions,inputBase,addons,bundle,outputPluginDriver){var entryChunks=[];var otherChunks=[];var _iteratorNormalCompletion226=true;var _didIteratorError226=false;var _iteratorError226=undefined;try{for(var _iterator226=chunks[Symbol.iterator](),_step226;!(_iteratorNormalCompletion226=(_step226=_iterator226.next()).done);_iteratorNormalCompletion226=true){var chunk=_step226.value;(chunk.facadeModule&&chunk.facadeModule.isUserDefinedEntryPoint?entryChunks:otherChunks).push(chunk);}// make sure entry chunk names take precedence with regard to deconflicting
}catch(err){_didIteratorError226=true;_iteratorError226=err;}finally{try{if(!_iteratorNormalCompletion226&&_iterator226["return"]!=null){_iterator226["return"]();}}finally{if(_didIteratorError226){throw _iteratorError226;}}}var chunksForNaming=entryChunks.concat(otherChunks);var _iteratorNormalCompletion227=true;var _didIteratorError227=false;var _iteratorError227=undefined;try{for(var _iterator227=chunksForNaming[Symbol.iterator](),_step227;!(_iteratorNormalCompletion227=(_step227=_iterator227.next()).done);_iteratorNormalCompletion227=true){var _chunk4=_step227.value;if(outputOptions.file){_chunk4.id=path.basename(outputOptions.file);}else if(inputOptions.preserveModules){_chunk4.id=_chunk4.generateIdPreserveModules(inputBase,outputOptions,bundle);}else{_chunk4.id=_chunk4.generateId(addons,outputOptions,bundle,true,outputPluginDriver);}bundle[_chunk4.id]=FILE_PLACEHOLDER;}}catch(err){_didIteratorError227=true;_iteratorError227=err;}finally{try{if(!_iteratorNormalCompletion227&&_iterator227["return"]!=null){_iterator227["return"]();}}finally{if(_didIteratorError227){throw _iteratorError227;}}}}// ported from https://github.com/substack/node-commondir
function commondir(files){if(files.length===0)return'/';if(files.length===1)return path.dirname(files[0]);var commonSegments=files.slice(1).reduce(function(commonSegments,file){var pathSegements=file.split(/\/+|\\+/);var i;for(i=0;commonSegments[i]===pathSegements[i]&&i<Math.min(commonSegments.length,pathSegements.length);i++){;}return commonSegments.slice(0,i);},files[0].split(/\/+|\\+/));// Windows correctly handles paths with forward-slashes
return commonSegments.length>1?commonSegments.join('/'):'/';}function getExportMode(chunk,_ref43,facadeModuleId){var exportMode=_ref43.exports,name=_ref43.name,format=_ref43.format;var exportKeys=chunk.getExportNames();if(exportMode==='default'){if(exportKeys.length!==1||exportKeys[0]!=='default'){return _error(errIncompatibleExportOptionValue('default',exportKeys,facadeModuleId));}}else if(exportMode==='none'&&exportKeys.length){return _error(errIncompatibleExportOptionValue('none',exportKeys,facadeModuleId));}if(!exportMode||exportMode==='auto'){if(exportKeys.length===0){exportMode='none';}else if(exportKeys.length===1&&exportKeys[0]==='default'){exportMode='default';}else{if(format!=='es'&&exportKeys.indexOf('default')!==-1){chunk.graph.warn(errMixedExport(facadeModuleId,name));}exportMode='named';}}return exportMode;}var createGetOption=function createGetOption(config,command){return function(name,defaultValue){return command[name]!==undefined?command[name]:config[name]!==undefined?config[name]:defaultValue;};};var normalizeObjectOptionValue=function normalizeObjectOptionValue(optionValue){if(!optionValue){return optionValue;}if(_typeof(optionValue)!=='object'){return{};}return optionValue;};var getObjectOption=function getObjectOption(config,command,name){var commandOption=normalizeObjectOptionValue(command[name]);var configOption=normalizeObjectOptionValue(config[name]);if(commandOption!==undefined){return commandOption&&configOption?Object.assign(Object.assign({},configOption),commandOption):commandOption;}return configOption;};function ensureArray(items){if(Array.isArray(items)){return items.filter(Boolean);}if(items){return[items];}return[];}var defaultOnWarn=function defaultOnWarn(warning){if(typeof warning==='string'){console.warn(warning);}else{console.warn(warning.message);}};var getOnWarn=function getOnWarn(config){var defaultOnWarnHandler=arguments.length>1&&arguments[1]!==undefined?arguments[1]:defaultOnWarn;return config.onwarn?function(warning){return config.onwarn(warning,defaultOnWarnHandler);}:defaultOnWarnHandler;};var getExternal=function getExternal(config,command){var configExternal=config.external;return typeof configExternal==='function'?function(id){for(var _len2=arguments.length,rest=new Array(_len2>1?_len2-1:0),_key3=1;_key3<_len2;_key3++){rest[_key3-1]=arguments[_key3];}return configExternal.apply(void 0,[id].concat(rest))||command.external.indexOf(id)!==-1;}:(typeof config.external==='string'?[configExternal]:Array.isArray(configExternal)?configExternal:[]).concat(command.external);};var commandAliases={c:'config',d:'dir',e:'external',f:'format',g:'globals',h:'help',i:'input',m:'sourcemap',n:'name',o:'file',p:'plugin',v:'version',w:'watch'};function mergeOptions(_ref44){var _ref44$config=_ref44.config,config=_ref44$config===void 0?{}:_ref44$config,_ref44$command=_ref44.command,rawCommandOptions=_ref44$command===void 0?{}:_ref44$command,defaultOnWarnHandler=_ref44.defaultOnWarnHandler;var command=getCommandOptions(rawCommandOptions);var inputOptions=getInputOptions(config,command,defaultOnWarnHandler);if(command.output){Object.assign(command,command.output);}var output=config.output;var normalizedOutputOptions=Array.isArray(output)?output:output?[output]:[];if(normalizedOutputOptions.length===0)normalizedOutputOptions.push({});var outputOptions=normalizedOutputOptions.map(function(singleOutputOptions){return getOutputOptions(singleOutputOptions,command);});var unknownOptionErrors=[];var validInputOptions=Object.keys(inputOptions);addUnknownOptionErrors(unknownOptionErrors,Object.keys(config),validInputOptions,'input option',/^output$/);var validOutputOptions=Object.keys(outputOptions[0]);addUnknownOptionErrors(unknownOptionErrors,outputOptions.reduce(function(allKeys,options){return allKeys.concat(Object.keys(options));},[]),validOutputOptions,'output option');var validCliOutputOptions=validOutputOptions.filter(function(option){return option!=='sourcemapPathTransform';});addUnknownOptionErrors(unknownOptionErrors,Object.keys(command),validInputOptions.concat(validCliOutputOptions,Object.keys(commandAliases),'config','environment','plugin','silent','stdin'),'CLI flag',/^_|output|(config.*)$/);return{inputOptions:inputOptions,optionError:unknownOptionErrors.length>0?unknownOptionErrors.join('\n'):null,outputOptions:outputOptions};}function addUnknownOptionErrors(errors,options,validOptions,optionType){var ignoredKeys=arguments.length>4&&arguments[4]!==undefined?arguments[4]:/$./;var validOptionSet=new Set(validOptions);var unknownOptions=options.filter(function(key){return!validOptionSet.has(key)&&!ignoredKeys.test(key);});if(unknownOptions.length>0)errors.push("Unknown ".concat(optionType,": ").concat(unknownOptions.join(', '),". Allowed options: ").concat(Array.from(validOptionSet).sort().join(', ')));}function getCommandOptions(rawCommandOptions){var external=rawCommandOptions.external&&typeof rawCommandOptions.external==='string'?rawCommandOptions.external.split(','):[];return Object.assign(Object.assign({},rawCommandOptions),{external:external,globals:typeof rawCommandOptions.globals==='string'?rawCommandOptions.globals.split(',').reduce(function(globals,globalDefinition){var _globalDefinition$spl=globalDefinition.split(':'),_globalDefinition$spl2=_slicedToArray(_globalDefinition$spl,2),id=_globalDefinition$spl2[0],variableName=_globalDefinition$spl2[1];globals[id]=variableName;if(external.indexOf(id)===-1){external.push(id);}return globals;},Object.create(null)):undefined});}function getInputOptions(config){var command=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{external:[],globals:undefined};var defaultOnWarnHandler=arguments.length>2?arguments[2]:undefined;var getOption=createGetOption(config,command);var inputOptions={acorn:config.acorn,acornInjectPlugins:config.acornInjectPlugins,cache:getOption('cache'),chunkGroupingSize:getOption('chunkGroupingSize',5000),context:getOption('context'),experimentalCacheExpiry:getOption('experimentalCacheExpiry',10),experimentalOptimizeChunks:getOption('experimentalOptimizeChunks'),external:getExternal(config,command),inlineDynamicImports:getOption('inlineDynamicImports',false),input:getOption('input',[]),manualChunks:getOption('manualChunks'),moduleContext:config.moduleContext,onwarn:getOnWarn(config,defaultOnWarnHandler),perf:getOption('perf',false),plugins:ensureArray(config.plugins),preserveModules:getOption('preserveModules'),preserveSymlinks:getOption('preserveSymlinks'),shimMissingExports:getOption('shimMissingExports'),strictDeprecations:getOption('strictDeprecations',false),treeshake:getObjectOption(config,command,'treeshake'),watch:config.watch};// support rollup({ cache: prevBuildObject })
if(inputOptions.cache&&inputOptions.cache.cache)inputOptions.cache=inputOptions.cache.cache;return inputOptions;}function getOutputOptions(config){var command=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var getOption=createGetOption(config,command);var format=getOption('format');// Handle format aliases
switch(format){case undefined:case'esm':case'module':format='es';break;case'commonjs':format='cjs';}return{amd:Object.assign(Object.assign({},config.amd),command.amd),assetFileNames:getOption('assetFileNames'),banner:getOption('banner'),chunkFileNames:getOption('chunkFileNames'),compact:getOption('compact',false),dir:getOption('dir'),dynamicImportFunction:getOption('dynamicImportFunction'),entryFileNames:getOption('entryFileNames'),esModule:getOption('esModule',true),exports:getOption('exports'),extend:getOption('extend'),externalLiveBindings:getOption('externalLiveBindings',true),file:getOption('file'),footer:getOption('footer'),format:format,freeze:getOption('freeze',true),globals:getOption('globals'),hoistTransitiveImports:getOption('hoistTransitiveImports',true),indent:getOption('indent',true),interop:getOption('interop',true),intro:getOption('intro'),name:getOption('name'),namespaceToStringTag:getOption('namespaceToStringTag',false),noConflict:getOption('noConflict'),outro:getOption('outro'),paths:getOption('paths'),plugins:ensureArray(config.plugins),preferConst:getOption('preferConst'),sourcemap:getOption('sourcemap'),sourcemapExcludeSources:getOption('sourcemapExcludeSources'),sourcemapFile:getOption('sourcemapFile'),sourcemapPathTransform:getOption('sourcemapPathTransform'),strict:getOption('strict',true)};}function checkOutputOptions(options){if(options.format==='es6'){return _error(errDeprecation({message:'The "es6" output format is deprecated – use "esm" instead',url:"https://rollupjs.org/guide/en/#output-format"}));}if(['amd','cjs','system','es','iife','umd'].indexOf(options.format)<0){return _error({message:"You must specify \"output.format\", which can be one of \"amd\", \"cjs\", \"system\", \"esm\", \"iife\" or \"umd\".",url:"https://rollupjs.org/guide/en/#output-format"});}if(options.exports&&!['default','named','none','auto'].includes(options.exports)){return _error(errInvalidExportOptionValue(options.exports));}}function getAbsoluteEntryModulePaths(chunks){var absoluteEntryModulePaths=[];var _iteratorNormalCompletion228=true;var _didIteratorError228=false;var _iteratorError228=undefined;try{for(var _iterator228=chunks[Symbol.iterator](),_step228;!(_iteratorNormalCompletion228=(_step228=_iterator228.next()).done);_iteratorNormalCompletion228=true){var chunk=_step228.value;var _iteratorNormalCompletion229=true;var _didIteratorError229=false;var _iteratorError229=undefined;try{for(var _iterator229=chunk.entryModules[Symbol.iterator](),_step229;!(_iteratorNormalCompletion229=(_step229=_iterator229.next()).done);_iteratorNormalCompletion229=true){var entryModule=_step229.value;if(isAbsolute(entryModule.id)){absoluteEntryModulePaths.push(entryModule.id);}}}catch(err){_didIteratorError229=true;_iteratorError229=err;}finally{try{if(!_iteratorNormalCompletion229&&_iterator229["return"]!=null){_iterator229["return"]();}}finally{if(_didIteratorError229){throw _iteratorError229;}}}}}catch(err){_didIteratorError228=true;_iteratorError228=err;}finally{try{if(!_iteratorNormalCompletion228&&_iterator228["return"]!=null){_iterator228["return"]();}}finally{if(_didIteratorError228){throw _iteratorError228;}}}return absoluteEntryModulePaths;}var throwAsyncGenerateError={get:function get(){throw new Error("bundle.generate(...) now returns a Promise instead of a { code, map } object");}};function applyOptionHook(inputOptions,plugin){if(plugin.options)return plugin.options.call({meta:{rollupVersion:version}},inputOptions)||inputOptions;return inputOptions;}function normalizePlugins(rawPlugins,anonymousPrefix){var plugins=ensureArray(rawPlugins);for(var pluginIndex=0;pluginIndex<plugins.length;pluginIndex++){var plugin=plugins[pluginIndex];if(!plugin.name){plugin.name="".concat(anonymousPrefix).concat(pluginIndex+1);}}return plugins;}function getInputOptions$1(rawInputOptions){if(!rawInputOptions){throw new Error('You must supply an options object to rollup');}var _mergeOptions=mergeOptions({config:rawInputOptions}),inputOptions=_mergeOptions.inputOptions,optionError=_mergeOptions.optionError;if(optionError)inputOptions.onwarn({message:optionError,code:'UNKNOWN_OPTION'});inputOptions=inputOptions.plugins.reduce(applyOptionHook,inputOptions);inputOptions.plugins=normalizePlugins(inputOptions.plugins,ANONYMOUS_PLUGIN_PREFIX);if(inputOptions.inlineDynamicImports){if(inputOptions.preserveModules)return _error({code:'INVALID_OPTION',message:"\"preserveModules\" does not support the \"inlineDynamicImports\" option."});if(inputOptions.manualChunks)return _error({code:'INVALID_OPTION',message:'"manualChunks" option is not supported for "inlineDynamicImports".'});if(inputOptions.experimentalOptimizeChunks)return _error({code:'INVALID_OPTION',message:'"experimentalOptimizeChunks" option is not supported for "inlineDynamicImports".'});if(inputOptions.input instanceof Array&&inputOptions.input.length>1||_typeof(inputOptions.input)==='object'&&Object.keys(inputOptions.input).length>1)return _error({code:'INVALID_OPTION',message:'Multiple inputs are not supported for "inlineDynamicImports".'});}else if(inputOptions.preserveModules){if(inputOptions.manualChunks)return _error({code:'INVALID_OPTION',message:'"preserveModules" does not support the "manualChunks" option.'});if(inputOptions.experimentalOptimizeChunks)return _error({code:'INVALID_OPTION',message:'"preserveModules" does not support the "experimentalOptimizeChunks" option.'});}return inputOptions;}var curWatcher;function setWatcher(watcher){curWatcher=watcher;}function assignChunksToBundle(chunks,outputBundle){var _loop10=function _loop10(_i41){var chunk=chunks[_i41];var facadeModule=chunk.facadeModule;outputBundle[chunk.id]={code:undefined,dynamicImports:chunk.getDynamicImportIds(),exports:chunk.getExportNames(),facadeModuleId:facadeModule&&facadeModule.id,fileName:chunk.id,imports:chunk.getImportIds(),isDynamicEntry:facadeModule!==null&&facadeModule.dynamicallyImportedBy.length>0,isEntry:facadeModule!==null&&facadeModule.isEntryPoint,map:undefined,modules:chunk.renderedModules,get name(){return chunk.getChunkName();},type:'chunk'};};for(var _i41=0;_i41<chunks.length;_i41++){_loop10(_i41);}return outputBundle;}function rollup(rawInputOptions){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee7(){var _this50=this;var inputOptions,graph,useCache,chunks,watchFiles,optimized,getOutputOptionsAndPluginDriver,_generate,cache,result;return regeneratorRuntime.wrap(function _callee7$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_generate=function _ref46(outputOptions,isWrite,outputPluginDriver){return __awaiter(this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee5(){var assetFileNames,inputBase,outputBundleWithPlaceholders,outputBundle,addons,_iteratorNormalCompletion230,_didIteratorError230,_iteratorError230,_iterator230,_step230,chunk,_iteratorNormalCompletion231,_didIteratorError231,_iteratorError231,_iterator231,_step231,_chunk5,_i42,_Object$keys18,key,file;return regeneratorRuntime.wrap(function _callee5$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:timeStart('GENERATE',1);assetFileNames=outputOptions.assetFileNames||'assets/[name]-[hash][extname]';inputBase=commondir(getAbsoluteEntryModulePaths(chunks));outputBundleWithPlaceholders=Object.create(null);outputPluginDriver.setOutputBundle(outputBundleWithPlaceholders,assetFileNames);_context6.prev=5;_context6.next=8;return outputPluginDriver.hookParallel('renderStart',[outputOptions,inputOptions]);case 8:_context6.next=10;return createAddons(outputOptions,outputPluginDriver);case 10:addons=_context6.sent;_iteratorNormalCompletion230=true;_didIteratorError230=false;_iteratorError230=undefined;_context6.prev=14;for(_iterator230=chunks[Symbol.iterator]();!(_iteratorNormalCompletion230=(_step230=_iterator230.next()).done);_iteratorNormalCompletion230=true){chunk=_step230.value;if(!inputOptions.preserveModules)chunk.generateInternalExports(outputOptions);if(inputOptions.preserveModules||chunk.facadeModule&&chunk.facadeModule.isEntryPoint)chunk.exportMode=getExportMode(chunk,outputOptions,chunk.facadeModule.id);}_context6.next=22;break;case 18:_context6.prev=18;_context6.t0=_context6["catch"](14);_didIteratorError230=true;_iteratorError230=_context6.t0;case 22:_context6.prev=22;_context6.prev=23;if(!_iteratorNormalCompletion230&&_iterator230["return"]!=null){_iterator230["return"]();}case 25:_context6.prev=25;if(!_didIteratorError230){_context6.next=28;break;}throw _iteratorError230;case 28:return _context6.finish(25);case 29:return _context6.finish(22);case 30:_iteratorNormalCompletion231=true;_didIteratorError231=false;_iteratorError231=undefined;_context6.prev=33;for(_iterator231=chunks[Symbol.iterator]();!(_iteratorNormalCompletion231=(_step231=_iterator231.next()).done);_iteratorNormalCompletion231=true){_chunk5=_step231.value;_chunk5.preRender(outputOptions,inputBase);}_context6.next=41;break;case 37:_context6.prev=37;_context6.t1=_context6["catch"](33);_didIteratorError231=true;_iteratorError231=_context6.t1;case 41:_context6.prev=41;_context6.prev=42;if(!_iteratorNormalCompletion231&&_iterator231["return"]!=null){_iterator231["return"]();}case 44:_context6.prev=44;if(!_didIteratorError231){_context6.next=47;break;}throw _iteratorError231;case 47:return _context6.finish(44);case 48:return _context6.finish(41);case 49:if(!optimized&&inputOptions.experimentalOptimizeChunks){optimizeChunks(chunks,outputOptions,inputOptions.chunkGroupingSize,inputBase);optimized=true;}assignChunkIds(chunks,inputOptions,outputOptions,inputBase,addons,outputBundleWithPlaceholders,outputPluginDriver);outputBundle=assignChunksToBundle(chunks,outputBundleWithPlaceholders);_context6.next=54;return Promise.all(chunks.map(function(chunk){var outputChunk=outputBundleWithPlaceholders[chunk.id];return chunk.render(outputOptions,addons,outputChunk,outputPluginDriver).then(function(rendered){outputChunk.code=rendered.code;outputChunk.map=rendered.map;return outputPluginDriver.hookParallel('ongenerate',[Object.assign({bundle:outputChunk},outputOptions),outputChunk]);});}));case 54:_context6.next=61;break;case 56:_context6.prev=56;_context6.t2=_context6["catch"](5);_context6.next=60;return outputPluginDriver.hookParallel('renderError',[_context6.t2]);case 60:throw _context6.t2;case 61:_context6.next=63;return outputPluginDriver.hookSeq('generateBundle',[outputOptions,outputBundle,isWrite]);case 63:for(_i42=0,_Object$keys18=Object.keys(outputBundle);_i42<_Object$keys18.length;_i42++){key=_Object$keys18[_i42];file=outputBundle[key];if(!file.type){graph.warnDeprecation('A plugin is directly adding properties to the bundle object in the "generateBundle" hook. This is deprecated and will be removed in a future Rollup version, please use "this.emitFile" instead.',false);file.type='asset';}}outputPluginDriver.finaliseAssets();timeEnd('GENERATE',1);return _context6.abrupt("return",outputBundle);case 67:case"end":return _context6.stop();}}},_callee5,null,[[5,56],[14,18,22,30],[23,,25,29],[33,37,41,49],[42,,44,48]]);}));};getOutputOptionsAndPluginDriver=function _ref45(rawOutputOptions){if(!rawOutputOptions){throw new Error('You must supply an options object');}var outputPluginDriver=graph.pluginDriver.createOutputPluginDriver(normalizePlugins(rawOutputOptions.plugins,ANONYMOUS_OUTPUT_PLUGIN_PREFIX));return{outputOptions:normalizeOutputOptions(inputOptions,rawOutputOptions,chunks.length>1,outputPluginDriver),outputPluginDriver:outputPluginDriver};};inputOptions=getInputOptions$1(rawInputOptions);initialiseTimers(inputOptions);graph=new Graph(inputOptions,curWatcher);curWatcher=undefined;// remove the cache option from the memory after graph creation (cache is not used anymore)
useCache=rawInputOptions.cache!==false;delete inputOptions.cache;delete rawInputOptions.cache;timeStart('BUILD',1);_context8.prev=10;_context8.next=13;return graph.pluginDriver.hookParallel('buildStart',[inputOptions]);case 13:_context8.next=15;return graph.build(inputOptions.input,inputOptions.manualChunks,inputOptions.inlineDynamicImports);case 15:chunks=_context8.sent;_context8.next=25;break;case 18:_context8.prev=18;_context8.t0=_context8["catch"](10);watchFiles=Object.keys(graph.watchFiles);if(watchFiles.length>0){_context8.t0.watchFiles=watchFiles;}_context8.next=24;return graph.pluginDriver.hookParallel('buildEnd',[_context8.t0]);case 24:throw _context8.t0;case 25:_context8.next=27;return graph.pluginDriver.hookParallel('buildEnd',[]);case 27:timeEnd('BUILD',1);// ensure we only do one optimization pass per build
optimized=false;cache=useCache?graph.getCache():undefined;result={cache:cache,generate:function generate(rawOutputOptions){var _getOutputOptionsAndP=getOutputOptionsAndPluginDriver(rawOutputOptions),outputOptions=_getOutputOptionsAndP.outputOptions,outputPluginDriver=_getOutputOptionsAndP.outputPluginDriver;var promise=_generate(outputOptions,false,outputPluginDriver).then(function(result){return createOutput(result);});Object.defineProperty(promise,'code',throwAsyncGenerateError);Object.defineProperty(promise,'map',throwAsyncGenerateError);return promise;},watchFiles:Object.keys(graph.watchFiles),write:function write(rawOutputOptions){var _getOutputOptionsAndP2=getOutputOptionsAndPluginDriver(rawOutputOptions),outputOptions=_getOutputOptionsAndP2.outputOptions,outputPluginDriver=_getOutputOptionsAndP2.outputPluginDriver;if(!outputOptions.dir&&!outputOptions.file){return _error({code:'MISSING_OPTION',message:'You must specify "output.file" or "output.dir" for the build.'});}return _generate(outputOptions,true,outputPluginDriver).then(function(bundle){return __awaiter(_this50,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee6(){var chunkCount,_i43,_Object$keys19,fileName,file;return regeneratorRuntime.wrap(function _callee6$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:chunkCount=0;_i43=0,_Object$keys19=Object.keys(bundle);case 2:if(!(_i43<_Object$keys19.length)){_context7.next=13;break;}fileName=_Object$keys19[_i43];file=bundle[fileName];if(!(file.type==='asset')){_context7.next=7;break;}return _context7.abrupt("continue",10);case 7:chunkCount++;if(!(chunkCount>1)){_context7.next=10;break;}return _context7.abrupt("break",13);case 10:_i43++;_context7.next=2;break;case 13:if(!(chunkCount>1)){_context7.next=18;break;}if(!outputOptions.sourcemapFile){_context7.next=16;break;}return _context7.abrupt("return",_error({code:'INVALID_OPTION',message:'"output.sourcemapFile" is only supported for single-file builds.'}));case 16:if(!(typeof outputOptions.file==='string')){_context7.next=18;break;}return _context7.abrupt("return",_error({code:'INVALID_OPTION',message:'When building multiple chunks, the "output.dir" option must be used, not "output.file".'+(typeof inputOptions.input!=='string'||inputOptions.inlineDynamicImports===true?'':' To inline dynamic imports, set the "inlineDynamicImports" option.')}));case 18:_context7.next=20;return Promise.all(Object.keys(bundle).map(function(chunkId){return writeOutputFile(result,bundle[chunkId],outputOptions,outputPluginDriver);}));case 20:_context7.next=22;return outputPluginDriver.hookParallel('writeBundle',[bundle]);case 22:return _context7.abrupt("return",createOutput(bundle));case 23:case"end":return _context7.stop();}}},_callee6);}));});}};if(inputOptions.perf===true)result.getTimings=getTimings;return _context8.abrupt("return",result);case 33:case"end":return _context8.stop();}}},_callee7,null,[[10,18]]);}));}var SortingFileType;(function(SortingFileType){SortingFileType[SortingFileType["ENTRY_CHUNK"]=0]="ENTRY_CHUNK";SortingFileType[SortingFileType["SECONDARY_CHUNK"]=1]="SECONDARY_CHUNK";SortingFileType[SortingFileType["ASSET"]=2]="ASSET";})(SortingFileType||(SortingFileType={}));function getSortingFileType(file){if(file.type==='asset'){return SortingFileType.ASSET;}if(file.isEntry){return SortingFileType.ENTRY_CHUNK;}return SortingFileType.SECONDARY_CHUNK;}function createOutput(outputBundle){return{output:Object.keys(outputBundle).map(function(fileName){return outputBundle[fileName];}).filter(function(outputFile){return Object.keys(outputFile).length>0;}).sort(function(outputFileA,outputFileB){var fileTypeA=getSortingFileType(outputFileA);var fileTypeB=getSortingFileType(outputFileB);if(fileTypeA===fileTypeB)return 0;return fileTypeA<fileTypeB?-1:1;})};}function writeOutputFile(build,outputFile,outputOptions,outputPluginDriver){var fileName=path.resolve(outputOptions.dir||path.dirname(outputOptions.file),outputFile.fileName);var writeSourceMapPromise;var source;if(outputFile.type==='asset'){source=outputFile.source;}else{source=outputFile.code;if(outputOptions.sourcemap&&outputFile.map){var url;if(outputOptions.sourcemap==='inline'){url=outputFile.map.toUrl();}else{url="".concat(path.basename(outputFile.fileName),".map");writeSourceMapPromise=writeFile("".concat(fileName,".map"),outputFile.map.toString());}if(outputOptions.sourcemap!=='hidden'){source+="//# ".concat(SOURCEMAPPING_URL,"=").concat(url,"\n");}}}return writeFile(fileName,source).then(function(){return writeSourceMapPromise;}).then(function(){return outputFile.type==='chunk'&&outputPluginDriver.hookSeq('onwrite',[Object.assign({bundle:build},outputOptions),outputFile]);}).then(function(){});}function normalizeOutputOptions(inputOptions,rawOutputOptions,hasMultipleChunks,outputPluginDriver){var mergedOptions=mergeOptions({config:{output:Object.assign(Object.assign(Object.assign({},rawOutputOptions),rawOutputOptions.output),inputOptions.output)}});if(mergedOptions.optionError)throw new Error(mergedOptions.optionError);// now outputOptions is an array, but rollup.rollup API doesn't support arrays
var mergedOutputOptions=mergedOptions.outputOptions[0];var outputOptionsReducer=function outputOptionsReducer(outputOptions,result){return result||outputOptions;};var outputOptions=outputPluginDriver.hookReduceArg0Sync('outputOptions',[mergedOutputOptions],outputOptionsReducer,function(pluginContext){var emitError=function emitError(){return pluginContext.error(errCannotEmitFromOptionsHook());};return Object.assign(Object.assign({},pluginContext),{emitFile:emitError,setAssetSource:emitError});});checkOutputOptions(outputOptions);if(typeof outputOptions.file==='string'){if(typeof outputOptions.dir==='string')return _error({code:'INVALID_OPTION',message:'You must set either "output.file" for a single-file build or "output.dir" when generating multiple chunks.'});if(inputOptions.preserveModules){return _error({code:'INVALID_OPTION',message:'You must set "output.dir" instead of "output.file" when using the "preserveModules" option.'});}if(_typeof(inputOptions.input)==='object'&&!Array.isArray(inputOptions.input))return _error({code:'INVALID_OPTION',message:'You must set "output.dir" instead of "output.file" when providing named inputs.'});}if(hasMultipleChunks){if(outputOptions.format==='umd'||outputOptions.format==='iife')return _error({code:'INVALID_OPTION',message:'UMD and IIFE output formats are not supported for code-splitting builds.'});if(typeof outputOptions.file==='string')return _error({code:'INVALID_OPTION',message:'You must set "output.dir" instead of "output.file" when generating multiple chunks.'});}return outputOptions;}var utils$1=createCommonjsModule(function(module,exports){exports.isInteger=function(num){if(typeof num==='number'){return Number.isInteger(num);}if(typeof num==='string'&&num.trim()!==''){return Number.isInteger(Number(num));}return false;};/**
     * Find a node of the given type
     */exports.find=function(node,type){return node.nodes.find(function(node){return node.type===type;});};/**
     * Find a node of the given type
     */exports.exceedsLimit=function(min,max){var step=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var limit=arguments.length>3?arguments[3]:undefined;if(limit===false)return false;if(!exports.isInteger(min)||!exports.isInteger(max))return false;return(Number(max)-Number(min))/Number(step)>=limit;};/**
     * Escape the given node with '\\' before node.value
     */exports.escapeNode=function(block){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var type=arguments.length>2?arguments[2]:undefined;var node=block.nodes[n];if(!node)return;if(type&&node.type===type||node.type==='open'||node.type==='close'){if(node.escaped!==true){node.value='\\'+node.value;node.escaped=true;}}};/**
     * Returns true if the given brace node should be enclosed in literal braces
     */exports.encloseBrace=function(node){if(node.type!=='brace')return false;if(node.commas>>0+node.ranges>>0===0){node.invalid=true;return true;}return false;};/**
     * Returns true if a brace node is invalid.
     */exports.isInvalidBrace=function(block){if(block.type!=='brace')return false;if(block.invalid===true||block.dollar)return true;if(block.commas>>0+block.ranges>>0===0){block.invalid=true;return true;}if(block.open!==true||block.close!==true){block.invalid=true;return true;}return false;};/**
     * Returns true if a node is an open or close node
     */exports.isOpenOrClose=function(node){if(node.type==='open'||node.type==='close'){return true;}return node.open===true||node.close===true;};/**
     * Reduce an array of text nodes.
     */exports.reduce=function(nodes){return nodes.reduce(function(acc,node){if(node.type==='text')acc.push(node.value);if(node.type==='range')node.type='text';return acc;},[]);};/**
     * Flatten an array
     */exports.flatten=function(){var result=[];var flat=function flat(arr){for(var _i44=0;_i44<arr.length;_i44++){var ele=arr[_i44];Array.isArray(ele)?flat(ele):ele!==void 0&&result.push(ele);}return result;};for(var _len3=arguments.length,args=new Array(_len3),_key4=0;_key4<_len3;_key4++){args[_key4]=arguments[_key4];}flat(args);return result;};});var stringify=function stringify(ast){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var stringify=function stringify(node){var parent=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var invalidBlock=options.escapeInvalid&&utils$1.isInvalidBrace(parent);var invalidNode=node.invalid===true&&options.escapeInvalid===true;var output='';if(node.value){if((invalidBlock||invalidNode)&&utils$1.isOpenOrClose(node)){return'\\'+node.value;}return node.value;}if(node.value){return node.value;}if(node.nodes){var _iteratorNormalCompletion232=true;var _didIteratorError232=false;var _iteratorError232=undefined;try{for(var _iterator232=node.nodes[Symbol.iterator](),_step232;!(_iteratorNormalCompletion232=(_step232=_iterator232.next()).done);_iteratorNormalCompletion232=true){var child=_step232.value;output+=stringify(child);}}catch(err){_didIteratorError232=true;_iteratorError232=err;}finally{try{if(!_iteratorNormalCompletion232&&_iterator232["return"]!=null){_iterator232["return"]();}}finally{if(_didIteratorError232){throw _iteratorError232;}}}}return output;};return stringify(ast);};/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */var isNumber=function isNumber(num){if(typeof num==='number'){return num-num===0;}if(typeof num==='string'&&num.trim()!==''){return Number.isFinite?Number.isFinite(+num):isFinite(+num);}return false;};var toRegexRange=function toRegexRange(min,max,options){if(isNumber(min)===false){throw new TypeError('toRegexRange: expected the first argument to be a number');}if(max===void 0||min===max){return String(min);}if(isNumber(max)===false){throw new TypeError('toRegexRange: expected the second argument to be a number.');}var opts=Object.assign({relaxZeros:true},options);if(typeof opts.strictZeros==='boolean'){opts.relaxZeros=opts.strictZeros===false;}var relax=String(opts.relaxZeros);var shorthand=String(opts.shorthand);var capture=String(opts.capture);var wrap=String(opts.wrap);var cacheKey=min+':'+max+'='+relax+shorthand+capture+wrap;if(toRegexRange.cache.hasOwnProperty(cacheKey)){return toRegexRange.cache[cacheKey].result;}var a=Math.min(min,max);var b=Math.max(min,max);if(Math.abs(a-b)===1){var result=min+'|'+max;if(opts.capture){return"(".concat(result,")");}if(opts.wrap===false){return result;}return"(?:".concat(result,")");}var isPadded=hasPadding(min)||hasPadding(max);var state={min:min,max:max,a:a,b:b};var positives=[];var negatives=[];if(isPadded){state.isPadded=isPadded;state.maxLen=String(state.max).length;}if(a<0){var newMin=b<0?Math.abs(b):1;negatives=splitToPatterns(newMin,Math.abs(a),state,opts);a=state.a=0;}if(b>=0){positives=splitToPatterns(a,b,state,opts);}state.negatives=negatives;state.positives=positives;state.result=collatePatterns(negatives,positives);if(opts.capture===true){state.result="(".concat(state.result,")");}else if(opts.wrap!==false&&positives.length+negatives.length>1){state.result="(?:".concat(state.result,")");}toRegexRange.cache[cacheKey]=state;return state.result;};function collatePatterns(neg,pos,options){var onlyNegative=filterPatterns(neg,pos,'-',false)||[];var onlyPositive=filterPatterns(pos,neg,'',false)||[];var intersected=filterPatterns(neg,pos,'-?',true)||[];var subpatterns=onlyNegative.concat(intersected).concat(onlyPositive);return subpatterns.join('|');}function splitToRanges(min,max){var nines=1;var zeros=1;var stop=countNines(min,nines);var stops=new Set([max]);while(min<=stop&&stop<=max){stops.add(stop);nines+=1;stop=countNines(min,nines);}stop=countZeros(max+1,zeros)-1;while(min<stop&&stop<=max){stops.add(stop);zeros+=1;stop=countZeros(max+1,zeros)-1;}stops=_toConsumableArray(stops);stops.sort(compare);return stops;}/**
 * Convert a range to a regex pattern
 * @param {Number} `start`
 * @param {Number} `stop`
 * @return {String}
 */function rangeToPattern(start,stop,options){if(start===stop){return{pattern:start,count:[],digits:0};}var zipped=zip(start,stop);var digits=zipped.length;var pattern='';var count=0;for(var _i45=0;_i45<digits;_i45++){var _zipped$_i=_slicedToArray(zipped[_i45],2),startDigit=_zipped$_i[0],stopDigit=_zipped$_i[1];if(startDigit===stopDigit){pattern+=startDigit;}else if(startDigit!=='0'||stopDigit!=='9'){pattern+=toCharacterClass(startDigit,stopDigit);}else{count++;}}if(count){pattern+=options.shorthand===true?'\\d':'[0-9]';}return{pattern:pattern,count:[count],digits:digits};}function splitToPatterns(min,max,tok,options){var ranges=splitToRanges(min,max);var tokens=[];var start=min;var prev;for(var _i46=0;_i46<ranges.length;_i46++){var _max=ranges[_i46];var obj=rangeToPattern(String(start),String(_max),options);var _zeros='';if(!tok.isPadded&&prev&&prev.pattern===obj.pattern){if(prev.count.length>1){prev.count.pop();}prev.count.push(obj.count[0]);prev.string=prev.pattern+toQuantifier(prev.count);start=_max+1;continue;}if(tok.isPadded){_zeros=padZeros(_max,tok,options);}obj.string=_zeros+obj.pattern+toQuantifier(obj.count);tokens.push(obj);start=_max+1;prev=obj;}return tokens;}function filterPatterns(arr,comparison,prefix,intersection,options){var result=[];var _iteratorNormalCompletion233=true;var _didIteratorError233=false;var _iteratorError233=undefined;try{for(var _iterator233=arr[Symbol.iterator](),_step233;!(_iteratorNormalCompletion233=(_step233=_iterator233.next()).done);_iteratorNormalCompletion233=true){var ele=_step233.value;var string=ele.string;// only push if _both_ are negative...
if(!intersection&&!contains(comparison,'string',string)){result.push(prefix+string);}// or _both_ are positive
if(intersection&&contains(comparison,'string',string)){result.push(prefix+string);}}}catch(err){_didIteratorError233=true;_iteratorError233=err;}finally{try{if(!_iteratorNormalCompletion233&&_iterator233["return"]!=null){_iterator233["return"]();}}finally{if(_didIteratorError233){throw _iteratorError233;}}}return result;}/**
 * Zip strings
 */function zip(a,b){var arr=[];for(var _i47=0;_i47<a.length;_i47++){arr.push([a[_i47],b[_i47]]);}return arr;}function compare(a,b){return a>b?1:b>a?-1:0;}function contains(arr,key,val){return arr.some(function(ele){return ele[key]===val;});}function countNines(min,len){return Number(String(min).slice(0,-len)+'9'.repeat(len));}function countZeros(integer,zeros){return integer-integer%Math.pow(10,zeros);}function toQuantifier(digits){var _digits=_slicedToArray(digits,2),_digits$=_digits[0],start=_digits$===void 0?0:_digits$,_digits$2=_digits[1],stop=_digits$2===void 0?'':_digits$2;if(stop||start>1){return"{".concat(start+(stop?','+stop:''),"}");}return'';}function toCharacterClass(a,b,options){return"[".concat(a).concat(b-a===1?'':'-').concat(b,"]");}function hasPadding(str){return /^-?(0+)\d/.test(str);}function padZeros(value,tok,options){if(!tok.isPadded){return value;}var diff=Math.abs(tok.maxLen-String(value).length);var relax=options.relaxZeros!==false;switch(diff){case 0:return'';case 1:return relax?'0?':'0';case 2:return relax?'0{0,2}':'00';default:{return relax?"0{0,".concat(diff,"}"):"0{".concat(diff,"}");}}}/**
 * Cache
 */toRegexRange.cache={};toRegexRange.clearCache=function(){return toRegexRange.cache={};};/**
 * Expose `toRegexRange`
 */var toRegexRange_1=toRegexRange;var isObject$1=function isObject$1(val){return val!==null&&_typeof(val)==='object'&&!Array.isArray(val);};var transform$1=function transform$1(toNumber){return function(value){return toNumber===true?Number(value):String(value);};};var isValidValue=function isValidValue(value){return typeof value==='number'||typeof value==='string'&&value!=='';};var isNumber$1=function isNumber$1(num){return Number.isInteger(+num);};var zeros=function zeros(input){var value="".concat(input);var index=-1;if(value[0]==='-')value=value.slice(1);if(value==='0')return false;while(value[++index]==='0'){;}return index>0;};var stringify$1=function stringify$1(start,end,options){if(typeof start==='string'||typeof end==='string'){return true;}return options.stringify===true;};var pad=function pad(input,maxLength,toNumber){if(maxLength>0){var dash=input[0]==='-'?'-':'';if(dash)input=input.slice(1);input=dash+input.padStart(dash?maxLength-1:maxLength,'0');}if(toNumber===false){return String(input);}return input;};var toMaxLen=function toMaxLen(input,maxLength){var negative=input[0]==='-'?'-':'';if(negative){input=input.slice(1);maxLength--;}while(input.length<maxLength){input='0'+input;}return negative?'-'+input:input;};var toSequence=function toSequence(parts,options){parts.negatives.sort(function(a,b){return a<b?-1:a>b?1:0;});parts.positives.sort(function(a,b){return a<b?-1:a>b?1:0;});var prefix=options.capture?'':'?:';var positives='';var negatives='';var result;if(parts.positives.length){positives=parts.positives.join('|');}if(parts.negatives.length){negatives="-(".concat(prefix).concat(parts.negatives.join('|'),")");}if(positives&&negatives){result="".concat(positives,"|").concat(negatives);}else{result=positives||negatives;}if(options.wrap){return"(".concat(prefix).concat(result,")");}return result;};var toRange=function toRange(a,b,isNumbers,options){if(isNumbers){return toRegexRange_1(a,b,Object.assign({wrap:false},options));}var start=String.fromCharCode(a);if(a===b)return start;var stop=String.fromCharCode(b);return"[".concat(start,"-").concat(stop,"]");};var toRegex=function toRegex(start,end,options){if(Array.isArray(start)){var wrap=options.wrap===true;var prefix=options.capture?'':'?:';return wrap?"(".concat(prefix).concat(start.join('|'),")"):start.join('|');}return toRegexRange_1(start,end,options);};var rangeError=function rangeError(){return new RangeError('Invalid range arguments: '+util.inspect.apply(util,arguments));};var invalidRange=function invalidRange(start,end,options){if(options.strictRanges===true)throw rangeError([start,end]);return[];};var invalidStep=function invalidStep(step,options){if(options.strictRanges===true){throw new TypeError("Expected step \"".concat(step,"\" to be a number"));}return[];};var fillNumbers=function fillNumbers(start,end){var step=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var a=Number(start);var b=Number(end);if(!Number.isInteger(a)||!Number.isInteger(b)){if(options.strictRanges===true)throw rangeError([start,end]);return[];}// fix negative zero
if(a===0)a=0;if(b===0)b=0;var descending=a>b;var startString=String(start);var endString=String(end);var stepString=String(step);step=Math.max(Math.abs(step),1);var padded=zeros(startString)||zeros(endString)||zeros(stepString);var maxLen=padded?Math.max(startString.length,endString.length,stepString.length):0;var toNumber=padded===false&&stringify$1(start,end,options)===false;var format=options.transform||transform$1(toNumber);if(options.toRegex&&step===1){return toRange(toMaxLen(start,maxLen),toMaxLen(end,maxLen),true,options);}var parts={negatives:[],positives:[]};var push=function push(num){return parts[num<0?'negatives':'positives'].push(Math.abs(num));};var range=[];var index=0;while(descending?a>=b:a<=b){if(options.toRegex===true&&step>1){push(a);}else{range.push(pad(format(a,index),maxLen,toNumber));}a=descending?a-step:a+step;index++;}if(options.toRegex===true){return step>1?toSequence(parts,options):toRegex(range,null,Object.assign({wrap:false},options));}return range;};var fillLetters=function fillLetters(start,end){var step=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};if(!isNumber$1(start)&&start.length>1||!isNumber$1(end)&&end.length>1){return invalidRange(start,end,options);}var format=options.transform||function(val){return String.fromCharCode(val);};var a="".concat(start).charCodeAt(0);var b="".concat(end).charCodeAt(0);var descending=a>b;var min=Math.min(a,b);var max=Math.max(a,b);if(options.toRegex&&step===1){return toRange(min,max,false,options);}var range=[];var index=0;while(descending?a>=b:a<=b){range.push(format(a,index));a=descending?a-step:a+step;index++;}if(options.toRegex===true){return toRegex(range,null,{wrap:false,options:options});}return range;};var fill=function fill(start,end,step){var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};if(end==null&&isValidValue(start)){return[start];}if(!isValidValue(start)||!isValidValue(end)){return invalidRange(start,end,options);}if(typeof step==='function'){return fill(start,end,1,{transform:step});}if(isObject$1(step)){return fill(start,end,0,step);}var opts=Object.assign({},options);if(opts.capture===true)opts.wrap=true;step=step||opts.step||1;if(!isNumber$1(step)){if(step!=null&&!isObject$1(step))return invalidStep(step,opts);return fill(start,end,1,step);}if(isNumber$1(start)&&isNumber$1(end)){return fillNumbers(start,end,step,opts);}return fillLetters(start,end,Math.max(Math.abs(step),1),opts);};var fillRange=fill;var compile=function compile(ast){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var walk=function walk(node){var parent=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var invalidBlock=utils$1.isInvalidBrace(parent);var invalidNode=node.invalid===true&&options.escapeInvalid===true;var invalid=invalidBlock===true||invalidNode===true;var prefix=options.escapeInvalid===true?'\\':'';var output='';if(node.isOpen===true){return prefix+node.value;}if(node.isClose===true){return prefix+node.value;}if(node.type==='open'){return invalid?prefix+node.value:'(';}if(node.type==='close'){return invalid?prefix+node.value:')';}if(node.type==='comma'){return node.prev.type==='comma'?'':invalid?node.value:'|';}if(node.value){return node.value;}if(node.nodes&&node.ranges>0){var args=utils$1.reduce(node.nodes);var range=fillRange.apply(void 0,_toConsumableArray(args).concat([Object.assign(Object.assign({},options),{wrap:false,toRegex:true})]));if(range.length!==0){return args.length>1&&range.length>1?"(".concat(range,")"):range;}}if(node.nodes){var _iteratorNormalCompletion234=true;var _didIteratorError234=false;var _iteratorError234=undefined;try{for(var _iterator234=node.nodes[Symbol.iterator](),_step234;!(_iteratorNormalCompletion234=(_step234=_iterator234.next()).done);_iteratorNormalCompletion234=true){var child=_step234.value;output+=walk(child,node);}}catch(err){_didIteratorError234=true;_iteratorError234=err;}finally{try{if(!_iteratorNormalCompletion234&&_iterator234["return"]!=null){_iterator234["return"]();}}finally{if(_didIteratorError234){throw _iteratorError234;}}}}return output;};return walk(ast);};var compile_1=compile;var append=function append(){var queue=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var stash=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var enclose=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var result=[];queue=[].concat(queue);stash=[].concat(stash);if(!stash.length)return queue;if(!queue.length){return enclose?utils$1.flatten(stash).map(function(ele){return"{".concat(ele,"}");}):stash;}var _iteratorNormalCompletion235=true;var _didIteratorError235=false;var _iteratorError235=undefined;try{for(var _iterator235=queue[Symbol.iterator](),_step235;!(_iteratorNormalCompletion235=(_step235=_iterator235.next()).done);_iteratorNormalCompletion235=true){var item=_step235.value;if(Array.isArray(item)){var _iteratorNormalCompletion236=true;var _didIteratorError236=false;var _iteratorError236=undefined;try{for(var _iterator236=item[Symbol.iterator](),_step236;!(_iteratorNormalCompletion236=(_step236=_iterator236.next()).done);_iteratorNormalCompletion236=true){var value=_step236.value;result.push(append(value,stash,enclose));}}catch(err){_didIteratorError236=true;_iteratorError236=err;}finally{try{if(!_iteratorNormalCompletion236&&_iterator236["return"]!=null){_iterator236["return"]();}}finally{if(_didIteratorError236){throw _iteratorError236;}}}}else{var _iteratorNormalCompletion237=true;var _didIteratorError237=false;var _iteratorError237=undefined;try{for(var _iterator237=stash[Symbol.iterator](),_step237;!(_iteratorNormalCompletion237=(_step237=_iterator237.next()).done);_iteratorNormalCompletion237=true){var ele=_step237.value;if(enclose===true&&typeof ele==='string')ele="{".concat(ele,"}");result.push(Array.isArray(ele)?append(item,ele,enclose):item+ele);}}catch(err){_didIteratorError237=true;_iteratorError237=err;}finally{try{if(!_iteratorNormalCompletion237&&_iterator237["return"]!=null){_iterator237["return"]();}}finally{if(_didIteratorError237){throw _iteratorError237;}}}}}}catch(err){_didIteratorError235=true;_iteratorError235=err;}finally{try{if(!_iteratorNormalCompletion235&&_iterator235["return"]!=null){_iterator235["return"]();}}finally{if(_didIteratorError235){throw _iteratorError235;}}}return utils$1.flatten(result);};var expand=function expand(ast){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var rangeLimit=options.rangeLimit===void 0?1000:options.rangeLimit;var walk=function walk(node){var parent=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};node.queue=[];var p=parent;var q=parent.queue;while(p.type!=='brace'&&p.type!=='root'&&p.parent){p=p.parent;q=p.queue;}if(node.invalid||node.dollar){q.push(append(q.pop(),stringify(node,options)));return;}if(node.type==='brace'&&node.invalid!==true&&node.nodes.length===2){q.push(append(q.pop(),['{}']));return;}if(node.nodes&&node.ranges>0){var args=utils$1.reduce(node.nodes);if(utils$1.exceedsLimit.apply(utils$1,_toConsumableArray(args).concat([options.step,rangeLimit]))){throw new RangeError('expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.');}var range=fillRange.apply(void 0,_toConsumableArray(args).concat([options]));if(range.length===0){range=stringify(node,options);}q.push(append(q.pop(),range));node.nodes=[];return;}var enclose=utils$1.encloseBrace(node);var queue=node.queue;var block=node;while(block.type!=='brace'&&block.type!=='root'&&block.parent){block=block.parent;queue=block.queue;}for(var _i48=0;_i48<node.nodes.length;_i48++){var child=node.nodes[_i48];if(child.type==='comma'&&node.type==='brace'){if(_i48===1)queue.push('');queue.push('');continue;}if(child.type==='close'){q.push(append(q.pop(),queue,enclose));continue;}if(child.value&&child.type!=='open'){queue.push(append(queue.pop(),child.value));continue;}if(child.nodes){walk(child,node);}}return queue;};return utils$1.flatten(walk(ast));};var expand_1=expand;var constants={MAX_LENGTH:1024*64,// Digits
CHAR_0:'0',CHAR_9:'9',// Alphabet chars.
CHAR_UPPERCASE_A:'A',CHAR_LOWERCASE_A:'a',CHAR_UPPERCASE_Z:'Z',CHAR_LOWERCASE_Z:'z',CHAR_LEFT_PARENTHESES:'(',CHAR_RIGHT_PARENTHESES:')',CHAR_ASTERISK:'*',// Non-alphabetic chars.
CHAR_AMPERSAND:'&',CHAR_AT:'@',CHAR_BACKSLASH:'\\',CHAR_BACKTICK:'`',CHAR_CARRIAGE_RETURN:'\r',CHAR_CIRCUMFLEX_ACCENT:'^',CHAR_COLON:':',CHAR_COMMA:',',CHAR_DOLLAR:'$',CHAR_DOT:'.',CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:'=',CHAR_EXCLAMATION_MARK:'!',CHAR_FORM_FEED:'\f',CHAR_FORWARD_SLASH:'/',CHAR_HASH:'#',CHAR_HYPHEN_MINUS:'-',CHAR_LEFT_ANGLE_BRACKET:'<',CHAR_LEFT_CURLY_BRACE:'{',CHAR_LEFT_SQUARE_BRACKET:'[',CHAR_LINE_FEED:'\n',CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:'%',CHAR_PLUS:'+',CHAR_QUESTION_MARK:'?',CHAR_RIGHT_ANGLE_BRACKET:'>',CHAR_RIGHT_CURLY_BRACE:'}',CHAR_RIGHT_SQUARE_BRACKET:']',CHAR_SEMICOLON:';',CHAR_SINGLE_QUOTE:'\'',CHAR_SPACE:' ',CHAR_TAB:'\t',CHAR_UNDERSCORE:'_',CHAR_VERTICAL_LINE:'|',CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"/* \uFEFF */};/**
 * Constants
 */var MAX_LENGTH=constants.MAX_LENGTH,CHAR_BACKSLASH=constants.CHAR_BACKSLASH,CHAR_BACKTICK=constants.CHAR_BACKTICK,CHAR_COMMA=constants.CHAR_COMMA,CHAR_DOT=constants.CHAR_DOT,CHAR_LEFT_PARENTHESES=constants.CHAR_LEFT_PARENTHESES,CHAR_RIGHT_PARENTHESES=constants.CHAR_RIGHT_PARENTHESES,CHAR_LEFT_CURLY_BRACE=constants.CHAR_LEFT_CURLY_BRACE,CHAR_RIGHT_CURLY_BRACE=constants.CHAR_RIGHT_CURLY_BRACE,CHAR_LEFT_SQUARE_BRACKET=constants.CHAR_LEFT_SQUARE_BRACKET,CHAR_RIGHT_SQUARE_BRACKET=constants.CHAR_RIGHT_SQUARE_BRACKET,CHAR_DOUBLE_QUOTE=constants.CHAR_DOUBLE_QUOTE,CHAR_SINGLE_QUOTE=constants.CHAR_SINGLE_QUOTE,CHAR_NO_BREAK_SPACE=constants.CHAR_NO_BREAK_SPACE,CHAR_ZERO_WIDTH_NOBREAK_SPACE=constants.CHAR_ZERO_WIDTH_NOBREAK_SPACE;/**
 * parse
 */var parse=function parse(input){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(typeof input!=='string'){throw new TypeError('Expected a string');}var opts=options||{};var max=typeof opts.maxLength==='number'?Math.min(MAX_LENGTH,opts.maxLength):MAX_LENGTH;if(input.length>max){throw new SyntaxError("Input length (".concat(input.length,"), exceeds max characters (").concat(max,")"));}var ast={type:'root',input:input,nodes:[]};var stack=[ast];var block=ast;var prev=ast;var brackets=0;var length=input.length;var index=0;var depth=0;var value;/**
     * Helpers
     */var advance=function advance(){return input[index++];};var push=function push(node){if(node.type==='text'&&prev.type==='dot'){prev.type='text';}if(prev&&prev.type==='text'&&node.type==='text'){prev.value+=node.value;return;}block.nodes.push(node);node.parent=block;node.prev=prev;prev=node;return node;};push({type:'bos'});while(index<length){block=stack[stack.length-1];value=advance();/**
         * Invalid chars
         */if(value===CHAR_ZERO_WIDTH_NOBREAK_SPACE||value===CHAR_NO_BREAK_SPACE){continue;}/**
         * Escaped chars
         */if(value===CHAR_BACKSLASH){push({type:'text',value:(options.keepEscaping?value:'')+advance()});continue;}/**
         * Right square bracket (literal): ']'
         */if(value===CHAR_RIGHT_SQUARE_BRACKET){push({type:'text',value:'\\'+value});continue;}/**
         * Left square bracket: '['
         */if(value===CHAR_LEFT_SQUARE_BRACKET){brackets++;var next=void 0;while(index<length&&(next=advance())){value+=next;if(next===CHAR_LEFT_SQUARE_BRACKET){brackets++;continue;}if(next===CHAR_BACKSLASH){value+=advance();continue;}if(next===CHAR_RIGHT_SQUARE_BRACKET){brackets--;if(brackets===0){break;}}}push({type:'text',value:value});continue;}/**
         * Parentheses
         */if(value===CHAR_LEFT_PARENTHESES){block=push({type:'paren',nodes:[]});stack.push(block);push({type:'text',value:value});continue;}if(value===CHAR_RIGHT_PARENTHESES){if(block.type!=='paren'){push({type:'text',value:value});continue;}block=stack.pop();push({type:'text',value:value});block=stack[stack.length-1];continue;}/**
         * Quotes: '|"|`
         */if(value===CHAR_DOUBLE_QUOTE||value===CHAR_SINGLE_QUOTE||value===CHAR_BACKTICK){var open=value;var _next=void 0;if(options.keepQuotes!==true){value='';}while(index<length&&(_next=advance())){if(_next===CHAR_BACKSLASH){value+=_next+advance();continue;}if(_next===open){if(options.keepQuotes===true)value+=_next;break;}value+=_next;}push({type:'text',value:value});continue;}/**
         * Left curly brace: '{'
         */if(value===CHAR_LEFT_CURLY_BRACE){depth++;var dollar=prev.value&&prev.value.slice(-1)==='$'||block.dollar===true;var brace={type:'brace',open:true,close:false,dollar:dollar,depth:depth,commas:0,ranges:0,nodes:[]};block=push(brace);stack.push(block);push({type:'open',value:value});continue;}/**
         * Right curly brace: '}'
         */if(value===CHAR_RIGHT_CURLY_BRACE){if(block.type!=='brace'){push({type:'text',value:value});continue;}var type='close';block=stack.pop();block.close=true;push({type:type,value:value});depth--;block=stack[stack.length-1];continue;}/**
         * Comma: ','
         */if(value===CHAR_COMMA&&depth>0){if(block.ranges>0){block.ranges=0;var _open=block.nodes.shift();block.nodes=[_open,{type:'text',value:stringify(block)}];}push({type:'comma',value:value});block.commas++;continue;}/**
         * Dot: '.'
         */if(value===CHAR_DOT&&depth>0&&block.commas===0){var siblings=block.nodes;if(depth===0||siblings.length===0){push({type:'text',value:value});continue;}if(prev.type==='dot'){block.range=[];prev.value+=value;prev.type='range';if(block.nodes.length!==3&&block.nodes.length!==5){block.invalid=true;block.ranges=0;prev.type='text';continue;}block.ranges++;block.args=[];continue;}if(prev.type==='range'){siblings.pop();var before=siblings[siblings.length-1];before.value+=prev.value+value;prev=before;block.ranges--;continue;}push({type:'dot',value:value});continue;}/**
         * Text
         */push({type:'text',value:value});}// Mark imbalanced braces and brackets as invalid
do{block=stack.pop();if(block.type!=='root'){var _parent$nodes;block.nodes.forEach(function(node){if(!node.nodes){if(node.type==='open')node.isOpen=true;if(node.type==='close')node.isClose=true;if(!node.nodes)node.type='text';node.invalid=true;}});// get the location of the block on parent.nodes (block's siblings)
var parent=stack[stack.length-1];var _index=parent.nodes.indexOf(block);// replace the (invalid) block with it's nodes
(_parent$nodes=parent.nodes).splice.apply(_parent$nodes,[_index,1].concat(_toConsumableArray(block.nodes)));}}while(stack.length>0);push({type:'eos'});return ast;};var parse_1=parse;/**
 * Expand the given pattern or create a regex-compatible string.
 *
 * ```js
 * const braces = require('braces');
 * console.log(braces('{a,b,c}', { compile: true })); //=> ['(a|b|c)']
 * console.log(braces('{a,b,c}')); //=> ['a', 'b', 'c']
 * ```
 * @param {String} `str`
 * @param {Object} `options`
 * @return {String}
 * @api public
 */var braces=function braces(input){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var output=[];if(Array.isArray(input)){var _iteratorNormalCompletion238=true;var _didIteratorError238=false;var _iteratorError238=undefined;try{for(var _iterator238=input[Symbol.iterator](),_step238;!(_iteratorNormalCompletion238=(_step238=_iterator238.next()).done);_iteratorNormalCompletion238=true){var pattern=_step238.value;var result=braces.create(pattern,options);if(Array.isArray(result)){var _output;(_output=output).push.apply(_output,_toConsumableArray(result));}else{output.push(result);}}}catch(err){_didIteratorError238=true;_iteratorError238=err;}finally{try{if(!_iteratorNormalCompletion238&&_iterator238["return"]!=null){_iterator238["return"]();}}finally{if(_didIteratorError238){throw _iteratorError238;}}}}else{output=[].concat(braces.create(input,options));}if(options&&options.expand===true&&options.nodupes===true){output=_toConsumableArray(new Set(output));}return output;};/**
 * Parse the given `str` with the given `options`.
 *
 * ```js
 * // braces.parse(pattern, [, options]);
 * const ast = braces.parse('a/{b,c}/d');
 * console.log(ast);
 * ```
 * @param {String} pattern Brace pattern to parse
 * @param {Object} options
 * @return {Object} Returns an AST
 * @api public
 */braces.parse=function(input){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return parse_1(input,options);};/**
 * Creates a braces string from an AST, or an AST node.
 *
 * ```js
 * const braces = require('braces');
 * let ast = braces.parse('foo/{a,b}/bar');
 * console.log(stringify(ast.nodes[2])); //=> '{a,b}'
 * ```
 * @param {String} `input` Brace pattern or AST.
 * @param {Object} `options`
 * @return {Array} Returns an array of expanded values.
 * @api public
 */braces.stringify=function(input){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(typeof input==='string'){return stringify(braces.parse(input,options),options);}return stringify(input,options);};/**
 * Compiles a brace pattern into a regex-compatible, optimized string.
 * This method is called by the main [braces](#braces) function by default.
 *
 * ```js
 * const braces = require('braces');
 * console.log(braces.compile('a/{b,c}/d'));
 * //=> ['a/(b|c)/d']
 * ```
 * @param {String} `input` Brace pattern or AST.
 * @param {Object} `options`
 * @return {Array} Returns an array of expanded values.
 * @api public
 */braces.compile=function(input){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(typeof input==='string'){input=braces.parse(input,options);}return compile_1(input,options);};/**
 * Expands a brace pattern into an array. This method is called by the
 * main [braces](#braces) function when `options.expand` is true. Before
 * using this method it's recommended that you read the [performance notes](#performance))
 * and advantages of using [.compile](#compile) instead.
 *
 * ```js
 * const braces = require('braces');
 * console.log(braces.expand('a/{b,c}/d'));
 * //=> ['a/b/d', 'a/c/d'];
 * ```
 * @param {String} `pattern` Brace pattern
 * @param {Object} `options`
 * @return {Array} Returns an array of expanded values.
 * @api public
 */braces.expand=function(input){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(typeof input==='string'){input=braces.parse(input,options);}var result=expand_1(input,options);// filter out empty strings if specified
if(options.noempty===true){result=result.filter(Boolean);}// filter out duplicates if specified
if(options.nodupes===true){result=_toConsumableArray(new Set(result));}return result;};/**
 * Processes a brace pattern and returns either an expanded array
 * (if `options.expand` is true), a highly optimized regex-compatible string.
 * This method is called by the main [braces](#braces) function.
 *
 * ```js
 * const braces = require('braces');
 * console.log(braces.create('user-{200..300}/project-{a,b,c}-{1..10}'))
 * //=> 'user-(20[0-9]|2[1-9][0-9]|300)/project-(a|b|c)-([1-9]|10)'
 * ```
 * @param {String} `pattern` Brace pattern
 * @param {Object} `options`
 * @return {Array} Returns an array of expanded values.
 * @api public
 */braces.create=function(input){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(input===''||input.length<3){return[input];}return options.expand!==true?braces.compile(input,options):braces.expand(input,options);};/**
 * Expose "braces"
 */var braces_1=braces;var WIN_SLASH='\\\\/';var WIN_NO_SLASH="[^".concat(WIN_SLASH,"]");/**
 * Posix glob regex
 */var DOT_LITERAL='\\.';var PLUS_LITERAL='\\+';var QMARK_LITERAL='\\?';var SLASH_LITERAL='\\/';var ONE_CHAR='(?=.)';var QMARK='[^/]';var END_ANCHOR="(?:".concat(SLASH_LITERAL,"|$)");var START_ANCHOR="(?:^|".concat(SLASH_LITERAL,")");var DOTS_SLASH="".concat(DOT_LITERAL,"{1,2}").concat(END_ANCHOR);var NO_DOT="(?!".concat(DOT_LITERAL,")");var NO_DOTS="(?!".concat(START_ANCHOR).concat(DOTS_SLASH,")");var NO_DOT_SLASH="(?!".concat(DOT_LITERAL,"{0,1}").concat(END_ANCHOR,")");var NO_DOTS_SLASH="(?!".concat(DOTS_SLASH,")");var QMARK_NO_DOT="[^.".concat(SLASH_LITERAL,"]");var STAR="".concat(QMARK,"*?");var POSIX_CHARS={DOT_LITERAL:DOT_LITERAL,PLUS_LITERAL:PLUS_LITERAL,QMARK_LITERAL:QMARK_LITERAL,SLASH_LITERAL:SLASH_LITERAL,ONE_CHAR:ONE_CHAR,QMARK:QMARK,END_ANCHOR:END_ANCHOR,DOTS_SLASH:DOTS_SLASH,NO_DOT:NO_DOT,NO_DOTS:NO_DOTS,NO_DOT_SLASH:NO_DOT_SLASH,NO_DOTS_SLASH:NO_DOTS_SLASH,QMARK_NO_DOT:QMARK_NO_DOT,STAR:STAR,START_ANCHOR:START_ANCHOR};/**
 * Windows glob regex
 */var WINDOWS_CHARS=Object.assign(Object.assign({},POSIX_CHARS),{SLASH_LITERAL:"[".concat(WIN_SLASH,"]"),QMARK:WIN_NO_SLASH,STAR:"".concat(WIN_NO_SLASH,"*?"),DOTS_SLASH:"".concat(DOT_LITERAL,"{1,2}(?:[").concat(WIN_SLASH,"]|$)"),NO_DOT:"(?!".concat(DOT_LITERAL,")"),NO_DOTS:"(?!(?:^|[".concat(WIN_SLASH,"])").concat(DOT_LITERAL,"{1,2}(?:[").concat(WIN_SLASH,"]|$))"),NO_DOT_SLASH:"(?!".concat(DOT_LITERAL,"{0,1}(?:[").concat(WIN_SLASH,"]|$))"),NO_DOTS_SLASH:"(?!".concat(DOT_LITERAL,"{1,2}(?:[").concat(WIN_SLASH,"]|$))"),QMARK_NO_DOT:"[^.".concat(WIN_SLASH,"]"),START_ANCHOR:"(?:^|[".concat(WIN_SLASH,"])"),END_ANCHOR:"(?:[".concat(WIN_SLASH,"]|$)")});/**
 * POSIX Bracket Regex
 */var POSIX_REGEX_SOURCE={alnum:'a-zA-Z0-9',alpha:'a-zA-Z',ascii:'\\x00-\\x7F',blank:' \\t',cntrl:'\\x00-\\x1F\\x7F',digit:'0-9',graph:'\\x21-\\x7E',lower:'a-z',print:'\\x20-\\x7E ',punct:'\\-!"#$%&\'()\\*+,./:;<=>?@[\\]^_`{|}~',space:' \\t\\r\\n\\v\\f',upper:'A-Z',word:'A-Za-z0-9_',xdigit:'A-Fa-f0-9'};var constants$1={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:POSIX_REGEX_SOURCE,// regular expressions
REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHAR:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,// Replace globs with equivalent patterns to reduce parsing time.
REPLACEMENTS:{'***':'*','**/**':'**','**/**/**':'**'},// Digits
CHAR_0:48,CHAR_9:57,// Alphabet chars.
CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,// Non-alphabetic chars.
CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:path.sep,/**
     * Create EXTGLOB_CHARS
     */extglobChars:function extglobChars(chars){return{'!':{type:'negate',open:'(?:(?!(?:',close:"))".concat(chars.STAR,")")},'?':{type:'qmark',open:'(?:',close:')?'},'+':{type:'plus',open:'(?:',close:')+'},'*':{type:'star',open:'(?:',close:')*'},'@':{type:'at',open:'(?:',close:')'}};},/**
     * Create GLOB_CHARS
     */globChars:function globChars(win32){return win32===true?WINDOWS_CHARS:POSIX_CHARS;}};var utils$2=createCommonjsModule(function(module,exports){var win32=process.platform==='win32';var REGEX_SPECIAL_CHARS=constants$1.REGEX_SPECIAL_CHARS,REGEX_SPECIAL_CHARS_GLOBAL=constants$1.REGEX_SPECIAL_CHARS_GLOBAL,REGEX_REMOVE_BACKSLASH=constants$1.REGEX_REMOVE_BACKSLASH;exports.isObject=function(val){return val!==null&&_typeof(val)==='object'&&!Array.isArray(val);};exports.hasRegexChars=function(str){return REGEX_SPECIAL_CHARS.test(str);};exports.isRegexChar=function(str){return str.length===1&&exports.hasRegexChars(str);};exports.escapeRegex=function(str){return str.replace(REGEX_SPECIAL_CHARS_GLOBAL,'\\$1');};exports.toPosixSlashes=function(str){return str.replace(/\\/g,'/');};exports.removeBackslashes=function(str){return str.replace(REGEX_REMOVE_BACKSLASH,function(match){return match==='\\'?'':match;});};exports.supportsLookbehinds=function(){var segs=process.version.slice(1).split('.');if(segs.length===3&&+segs[0]>=9||+segs[0]===8&&+segs[1]>=10){return true;}return false;};exports.isWindows=function(options){if(options&&typeof options.windows==='boolean'){return options.windows;}return win32===true||path.sep==='\\';};exports.escapeLast=function(input,_char4,lastIdx){var idx=input.lastIndexOf(_char4,lastIdx);if(idx===-1)return input;if(input[idx-1]==='\\')return exports.escapeLast(input,_char4,idx-1);return input.slice(0,idx)+'\\'+input.slice(idx);};});var CHAR_ASTERISK=constants$1.CHAR_ASTERISK,CHAR_AT=constants$1.CHAR_AT,CHAR_BACKWARD_SLASH=constants$1.CHAR_BACKWARD_SLASH,CHAR_COMMA$1=constants$1.CHAR_COMMA,CHAR_DOT$1=constants$1.CHAR_DOT,CHAR_EXCLAMATION_MARK=constants$1.CHAR_EXCLAMATION_MARK,CHAR_FORWARD_SLASH=constants$1.CHAR_FORWARD_SLASH,CHAR_LEFT_CURLY_BRACE$1=constants$1.CHAR_LEFT_CURLY_BRACE,CHAR_LEFT_PARENTHESES$1=constants$1.CHAR_LEFT_PARENTHESES,CHAR_LEFT_SQUARE_BRACKET$1=constants$1.CHAR_LEFT_SQUARE_BRACKET,CHAR_PLUS=constants$1.CHAR_PLUS,CHAR_QUESTION_MARK=constants$1.CHAR_QUESTION_MARK,CHAR_RIGHT_CURLY_BRACE$1=constants$1.CHAR_RIGHT_CURLY_BRACE,CHAR_RIGHT_PARENTHESES$1=constants$1.CHAR_RIGHT_PARENTHESES,CHAR_RIGHT_SQUARE_BRACKET$1=constants$1.CHAR_RIGHT_SQUARE_BRACKET;var isPathSeparator=function isPathSeparator(code){return code===CHAR_FORWARD_SLASH||code===CHAR_BACKWARD_SLASH;};/**
 * Quickly scans a glob pattern and returns an object with a handful of
 * useful properties, like `isGlob`, `path` (the leading non-glob, if it exists),
 * `glob` (the actual pattern), and `negated` (true if the path starts with `!`).
 *
 * ```js
 * const pm = require('picomatch');
 * console.log(pm.scan('foo/bar/*.js'));
 * { isGlob: true, input: 'foo/bar/*.js', base: 'foo/bar', glob: '*.js' }
 * ```
 * @param {String} `str`
 * @param {Object} `options`
 * @return {Object} Returns an object with tokens and regex source string.
 * @api public
 */var scan=function scan(input,options){var opts=options||{};var length=input.length-1;var index=-1;var start=0;var lastIndex=0;var isGlob=false;var backslashes=false;var negated=false;var braces=0;var prev;var code;var braceEscaped=false;var eos=function eos(){return index>=length;};var advance=function advance(){prev=code;return input.charCodeAt(++index);};while(index<length){code=advance();var next=void 0;if(code===CHAR_BACKWARD_SLASH){backslashes=true;next=advance();if(next===CHAR_LEFT_CURLY_BRACE$1){braceEscaped=true;}continue;}if(braceEscaped===true||code===CHAR_LEFT_CURLY_BRACE$1){braces++;while(!eos()&&(next=advance())){if(next===CHAR_BACKWARD_SLASH){backslashes=true;next=advance();continue;}if(next===CHAR_LEFT_CURLY_BRACE$1){braces++;continue;}if(!braceEscaped&&next===CHAR_DOT$1&&(next=advance())===CHAR_DOT$1){isGlob=true;break;}if(!braceEscaped&&next===CHAR_COMMA$1){isGlob=true;break;}if(next===CHAR_RIGHT_CURLY_BRACE$1){braces--;if(braces===0){braceEscaped=false;break;}}}}if(code===CHAR_FORWARD_SLASH){if(prev===CHAR_DOT$1&&index===start+1){start+=2;continue;}lastIndex=index+1;continue;}if(code===CHAR_ASTERISK){isGlob=true;break;}if(code===CHAR_ASTERISK||code===CHAR_QUESTION_MARK){isGlob=true;break;}if(code===CHAR_LEFT_SQUARE_BRACKET$1){while(!eos()&&(next=advance())){if(next===CHAR_BACKWARD_SLASH){backslashes=true;next=advance();continue;}if(next===CHAR_RIGHT_SQUARE_BRACKET$1){isGlob=true;break;}}}var isExtglobChar=code===CHAR_PLUS||code===CHAR_AT||code===CHAR_EXCLAMATION_MARK;if(isExtglobChar&&input.charCodeAt(index+1)===CHAR_LEFT_PARENTHESES$1){isGlob=true;break;}if(code===CHAR_EXCLAMATION_MARK&&index===start){negated=true;start++;continue;}if(code===CHAR_LEFT_PARENTHESES$1){while(!eos()&&(next=advance())){if(next===CHAR_BACKWARD_SLASH){backslashes=true;next=advance();continue;}if(next===CHAR_RIGHT_PARENTHESES$1){isGlob=true;break;}}}if(isGlob){break;}}var prefix='';var orig=input;var base=input;var glob='';if(start>0){prefix=input.slice(0,start);input=input.slice(start);lastIndex-=start;}if(base&&isGlob===true&&lastIndex>0){base=input.slice(0,lastIndex);glob=input.slice(lastIndex);}else if(isGlob===true){base='';glob=input;}else{base=input;}if(base&&base!==''&&base!=='/'&&base!==input){if(isPathSeparator(base.charCodeAt(base.length-1))){base=base.slice(0,-1);}}if(opts.unescape===true){if(glob)glob=utils$2.removeBackslashes(glob);if(base&&backslashes===true){base=utils$2.removeBackslashes(base);}}return{prefix:prefix,input:orig,base:base,glob:glob,negated:negated,isGlob:isGlob};};/**
 * Constants
 */var MAX_LENGTH$1=constants$1.MAX_LENGTH,POSIX_REGEX_SOURCE$1=constants$1.POSIX_REGEX_SOURCE,REGEX_NON_SPECIAL_CHAR=constants$1.REGEX_NON_SPECIAL_CHAR,REGEX_SPECIAL_CHARS_BACKREF=constants$1.REGEX_SPECIAL_CHARS_BACKREF,REPLACEMENTS=constants$1.REPLACEMENTS;/**
 * Helpers
 */var expandRange=function expandRange(args,options){if(typeof options.expandRange==='function'){return options.expandRange.apply(options,_toConsumableArray(args).concat([options]));}args.sort();var value="[".concat(args.join('-'),"]");return value;};var negate=function negate(state){var count=1;while(state.peek()==='!'&&(state.peek(2)!=='('||state.peek(3)==='?')){state.advance();state.start++;count++;}if(count%2===0){return false;}state.negated=true;state.start++;return true;};/**
 * Create the message for a syntax error
 */var syntaxError=function syntaxError(type,_char5){return"Missing ".concat(type,": \"").concat(_char5,"\" - use \"\\\\").concat(_char5,"\" to match literal characters");};/**
 * Parse the given input string.
 * @param {String} input
 * @param {Object} options
 * @return {Object}
 */var parse$1=function parse$1(input,options){if(typeof input!=='string'){throw new TypeError('Expected a string');}input=REPLACEMENTS[input]||input;var opts=Object.assign({},options);var max=typeof opts.maxLength==='number'?Math.min(MAX_LENGTH$1,opts.maxLength):MAX_LENGTH$1;var len=input.length;if(len>max){throw new SyntaxError("Input length: ".concat(len,", exceeds maximum allowed length: ").concat(max));}var bos={type:'bos',value:'',output:opts.prepend||''};var tokens=[bos];var capture=opts.capture?'':'?:';var win32=utils$2.isWindows(options);// create constants based on platform, for windows or posix
var PLATFORM_CHARS=constants$1.globChars(win32);var EXTGLOB_CHARS=constants$1.extglobChars(PLATFORM_CHARS);var DOT_LITERAL=PLATFORM_CHARS.DOT_LITERAL,PLUS_LITERAL=PLATFORM_CHARS.PLUS_LITERAL,SLASH_LITERAL=PLATFORM_CHARS.SLASH_LITERAL,ONE_CHAR=PLATFORM_CHARS.ONE_CHAR,DOTS_SLASH=PLATFORM_CHARS.DOTS_SLASH,NO_DOT=PLATFORM_CHARS.NO_DOT,NO_DOT_SLASH=PLATFORM_CHARS.NO_DOT_SLASH,NO_DOTS_SLASH=PLATFORM_CHARS.NO_DOTS_SLASH,QMARK=PLATFORM_CHARS.QMARK,QMARK_NO_DOT=PLATFORM_CHARS.QMARK_NO_DOT,STAR=PLATFORM_CHARS.STAR,START_ANCHOR=PLATFORM_CHARS.START_ANCHOR;var globstar=function globstar(opts){return"(".concat(capture,"(?:(?!").concat(START_ANCHOR).concat(opts.dot?DOTS_SLASH:DOT_LITERAL,").)*?)");};var nodot=opts.dot?'':NO_DOT;var star=opts.bash===true?globstar(opts):STAR;var qmarkNoDot=opts.dot?QMARK:QMARK_NO_DOT;if(opts.capture){star="(".concat(star,")");}// minimatch options support
if(typeof opts.noext==='boolean'){opts.noextglob=opts.noext;}var state={index:-1,start:0,consumed:'',output:'',backtrack:false,brackets:0,braces:0,parens:0,quotes:0,tokens:tokens};var extglobs=[];var stack=[];var prev=bos;var value;/**
     * Tokenizing helpers
     */var eos=function eos(){return state.index===len-1;};var peek=state.peek=function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;return input[state.index+n];};var advance=state.advance=function(){return input[++state.index];};var append=function append(token){state.output+=token.output!=null?token.output:token.value;state.consumed+=token.value||'';};var increment=function increment(type){state[type]++;stack.push(type);};var decrement=function decrement(type){state[type]--;stack.pop();};/**
     * Push tokens onto the tokens array. This helper speeds up
     * tokenizing by 1) helping us avoid backtracking as much as possible,
     * and 2) helping us avoid creating extra tokens when consecutive
     * characters are plain text. This improves performance and simplifies
     * lookbehinds.
     */var push=function push(tok){if(prev.type==='globstar'){var isBrace=state.braces>0&&(tok.type==='comma'||tok.type==='brace');var isExtglob=extglobs.length&&(tok.type==='pipe'||tok.type==='paren');if(tok.type!=='slash'&&tok.type!=='paren'&&!isBrace&&!isExtglob){state.output=state.output.slice(0,-prev.output.length);prev.type='star';prev.value='*';prev.output=star;state.output+=prev.output;}}if(extglobs.length&&tok.type!=='paren'&&!EXTGLOB_CHARS[tok.value]){extglobs[extglobs.length-1].inner+=tok.value;}if(tok.value||tok.output)append(tok);if(prev&&prev.type==='text'&&tok.type==='text'){prev.value+=tok.value;return;}tok.prev=prev;tokens.push(tok);prev=tok;};var extglobOpen=function extglobOpen(type,value){var token=Object.assign(Object.assign({},EXTGLOB_CHARS[value]),{conditions:1,inner:''});token.prev=prev;token.parens=state.parens;token.output=state.output;var output=(opts.capture?'(':'')+token.open;push({type:type,value:value,output:state.output?'':ONE_CHAR});push({type:'paren',extglob:true,value:advance(),output:output});increment('parens');extglobs.push(token);};var extglobClose=function extglobClose(token){var output=token.close+(opts.capture?')':'');if(token.type==='negate'){var extglobStar=star;if(token.inner&&token.inner.length>1&&token.inner.includes('/')){extglobStar=globstar(opts);}if(extglobStar!==star||eos()||/^\)+$/.test(input.slice(state.index+1))){output=token.close=')$))'+extglobStar;}if(token.prev.type==='bos'&&eos()){state.negatedExtglob=true;}}push({type:'paren',extglob:true,value:value,output:output});decrement('parens');};if(opts.fastpaths!==false&&!/(^[*!]|[/{[()\]}"])/.test(input)){var backslashes=false;var output=input.replace(REGEX_SPECIAL_CHARS_BACKREF,function(m,esc,chars,first,rest,index){if(first==='\\'){backslashes=true;return m;}if(first==='?'){if(esc){return esc+first+(rest?QMARK.repeat(rest.length):'');}if(index===0){return qmarkNoDot+(rest?QMARK.repeat(rest.length):'');}return QMARK.repeat(chars.length);}if(first==='.'){return DOT_LITERAL.repeat(chars.length);}if(first==='*'){if(esc){return esc+first+(rest?star:'');}return star;}return esc?m:'\\'+m;});if(backslashes===true){if(opts.unescape===true){output=output.replace(/\\/g,'');}else{output=output.replace(/\\+/g,function(m){return m.length%2===0?'\\\\':m?'\\':'';});}}state.output=output;return state;}/**
     * Tokenize input until we reach end-of-string
     */while(!eos()){value=advance();if(value==="\0"){continue;}/**
         * Escaped characters
         */if(value==='\\'){var next=peek();if(next==='/'&&opts.bash!==true){continue;}if(next==='.'||next===';'){continue;}if(!next){value+='\\';push({type:'text',value:value});continue;}// collapse slashes to reduce potential for exploits
var match=/^\\+/.exec(input.slice(state.index+1));var slashes=0;if(match&&match[0].length>2){slashes=match[0].length;state.index+=slashes;if(slashes%2!==0){value+='\\';}}if(opts.unescape===true){value=advance()||'';}else{value+=advance()||'';}if(state.brackets===0){push({type:'text',value:value});continue;}}/**
         * If we're inside a regex character class, continue
         * until we reach the closing bracket.
         */if(state.brackets>0&&(value!==']'||prev.value==='['||prev.value==='[^')){if(opts.posix!==false&&value===':'){var inner=prev.value.slice(1);if(inner.includes('[')){prev.posix=true;if(inner.includes(':')){var idx=prev.value.lastIndexOf('[');var pre=prev.value.slice(0,idx);var rest=prev.value.slice(idx+2);var posix=POSIX_REGEX_SOURCE$1[rest];if(posix){prev.value=pre+posix;state.backtrack=true;advance();if(!bos.output&&tokens.indexOf(prev)===1){bos.output=ONE_CHAR;}continue;}}}}if(value==='['&&peek()!==':'||value==='-'&&peek()===']'){value='\\'+value;}if(value===']'&&(prev.value==='['||prev.value==='[^')){value='\\'+value;}if(opts.posix===true&&value==='!'&&prev.value==='['){value='^';}prev.value+=value;append({value:value});continue;}/**
         * If we're inside a quoted string, continue
         * until we reach the closing double quote.
         */if(state.quotes===1&&value!=='"'){value=utils$2.escapeRegex(value);prev.value+=value;append({value:value});continue;}/**
         * Double quotes
         */if(value==='"'){state.quotes=state.quotes===1?0:1;if(opts.keepQuotes===true){push({type:'text',value:value});}continue;}/**
         * Parentheses
         */if(value==='('){push({type:'paren',value:value});increment('parens');continue;}if(value===')'){if(state.parens===0&&opts.strictBrackets===true){throw new SyntaxError(syntaxError('opening','('));}var extglob=extglobs[extglobs.length-1];if(extglob&&state.parens===extglob.parens+1){extglobClose(extglobs.pop());continue;}push({type:'paren',value:value,output:state.parens?')':'\\)'});decrement('parens');continue;}/**
         * Brackets
         */if(value==='['){if(opts.nobracket===true||!input.slice(state.index+1).includes(']')){if(opts.nobracket!==true&&opts.strictBrackets===true){throw new SyntaxError(syntaxError('closing',']'));}value='\\'+value;}else{increment('brackets');}push({type:'bracket',value:value});continue;}if(value===']'){if(opts.nobracket===true||prev&&prev.type==='bracket'&&prev.value.length===1){push({type:'text',value:value,output:'\\'+value});continue;}if(state.brackets===0){if(opts.strictBrackets===true){throw new SyntaxError(syntaxError('opening','['));}push({type:'text',value:value,output:'\\'+value});continue;}decrement('brackets');var prevValue=prev.value.slice(1);if(prev.posix!==true&&prevValue[0]==='^'&&!prevValue.includes('/')){value='/'+value;}prev.value+=value;append({value:value});// when literal brackets are explicitly disabled
// assume we should match with a regex character class
if(opts.literalBrackets===false||utils$2.hasRegexChars(prevValue)){continue;}var escaped=utils$2.escapeRegex(prev.value);state.output=state.output.slice(0,-prev.value.length);// when literal brackets are explicitly enabled
// assume we should escape the brackets to match literal characters
if(opts.literalBrackets===true){state.output+=escaped;prev.value=escaped;continue;}// when the user specifies nothing, try to match both
prev.value="(".concat(capture).concat(escaped,"|").concat(prev.value,")");state.output+=prev.value;continue;}/**
         * Braces
         */if(value==='{'&&opts.nobrace!==true){push({type:'brace',value:value,output:'('});increment('braces');continue;}if(value==='}'){if(opts.nobrace===true||state.braces===0){push({type:'text',value:value,output:'\\'+value});continue;}var _output2=')';if(state.dots===true){var arr=tokens.slice();var range=[];for(var _i49=arr.length-1;_i49>=0;_i49--){tokens.pop();if(arr[_i49].type==='brace'){break;}if(arr[_i49].type!=='dots'){range.unshift(arr[_i49].value);}}_output2=expandRange(range,opts);state.backtrack=true;}push({type:'brace',value:value,output:_output2});decrement('braces');continue;}/**
         * Pipes
         */if(value==='|'){if(extglobs.length>0){extglobs[extglobs.length-1].conditions++;}push({type:'text',value:value});continue;}/**
         * Commas
         */if(value===','){var _output3=value;if(state.braces>0&&stack[stack.length-1]==='braces'){_output3='|';}push({type:'comma',value:value,output:_output3});continue;}/**
         * Slashes
         */if(value==='/'){// if the beginning of the glob is "./", advance the start
// to the current index, and don't add the "./" characters
// to the state. This greatly simplifies lookbehinds when
// checking for BOS characters like "!" and "." (not "./")
if(prev.type==='dot'&&state.index===1){state.start=state.index+1;state.consumed='';state.output='';tokens.pop();prev=bos;// reset "prev" to the first token
continue;}push({type:'slash',value:value,output:SLASH_LITERAL});continue;}/**
         * Dots
         */if(value==='.'){if(state.braces>0&&prev.type==='dot'){if(prev.value==='.')prev.output=DOT_LITERAL;prev.type='dots';prev.output+=value;prev.value+=value;state.dots=true;continue;}push({type:'dot',value:value,output:DOT_LITERAL});continue;}/**
         * Question marks
         */if(value==='?'){if(prev&&prev.type==='paren'){var _next2=peek();var _output4=value;if(_next2==='<'&&!utils$2.supportsLookbehinds()){throw new Error('Node.js v10 or higher is required for regex lookbehinds');}if(prev.value==='('&&!/[!=<:]/.test(_next2)||_next2==='<'&&!/[!=]/.test(peek(2))){_output4='\\'+value;}push({type:'text',value:value,output:_output4});continue;}if(opts.noextglob!==true&&peek()==='('&&peek(2)!=='?'){extglobOpen('qmark',value);continue;}if(opts.dot!==true&&(prev.type==='slash'||prev.type==='bos')){push({type:'qmark',value:value,output:QMARK_NO_DOT});continue;}push({type:'qmark',value:value,output:QMARK});continue;}/**
         * Exclamation
         */if(value==='!'){if(opts.noextglob!==true&&peek()==='('){if(peek(2)!=='?'||!/[!=<:]/.test(peek(3))){extglobOpen('negate',value);continue;}}if(opts.nonegate!==true&&state.index===0){negate(state);continue;}}/**
         * Plus
         */if(value==='+'){if(opts.noextglob!==true&&peek()==='('&&peek(2)!=='?'){extglobOpen('plus',value);continue;}if(prev&&(prev.type==='bracket'||prev.type==='paren'||prev.type==='brace')){var _output5=prev.extglob===true?'\\'+value:value;push({type:'plus',value:value,output:_output5});continue;}// use regex behavior inside parens
if(state.parens>0&&opts.regex!==false){push({type:'plus',value:value});continue;}push({type:'plus',value:PLUS_LITERAL});continue;}/**
         * Plain text
         */if(value==='@'){if(opts.noextglob!==true&&peek()==='('&&peek(2)!=='?'){push({type:'at',value:value,output:''});continue;}push({type:'text',value:value});continue;}/**
         * Plain text
         */if(value!=='*'){if(value==='$'||value==='^'){value='\\'+value;}var _match2=REGEX_NON_SPECIAL_CHAR.exec(input.slice(state.index+1));if(_match2){value+=_match2[0];state.index+=_match2[0].length;}push({type:'text',value:value});continue;}/**
         * Stars
         */if(prev&&(prev.type==='globstar'||prev.star===true)){prev.type='star';prev.star=true;prev.value+=value;prev.output=star;state.backtrack=true;state.consumed+=value;continue;}if(opts.noextglob!==true&&peek()==='('&&peek(2)!=='?'){extglobOpen('star',value);continue;}if(prev.type==='star'){if(opts.noglobstar===true){state.consumed+=value;continue;}var prior=prev.prev;var before=prior.prev;var isStart=prior.type==='slash'||prior.type==='bos';var afterStar=before&&(before.type==='star'||before.type==='globstar');if(opts.bash===true&&(!isStart||!eos()&&peek()!=='/')){push({type:'star',value:value,output:''});continue;}var isBrace=state.braces>0&&(prior.type==='comma'||prior.type==='brace');var isExtglob=extglobs.length&&(prior.type==='pipe'||prior.type==='paren');if(!isStart&&prior.type!=='paren'&&!isBrace&&!isExtglob){push({type:'star',value:value,output:''});continue;}// strip consecutive `/**/`
while(input.slice(state.index+1,state.index+4)==='/**'){var after=input[state.index+4];if(after&&after!=='/'){break;}state.consumed+='/**';state.index+=3;}if(prior.type==='bos'&&eos()){prev.type='globstar';prev.value+=value;prev.output=globstar(opts);state.output=prev.output;state.consumed+=value;continue;}if(prior.type==='slash'&&prior.prev.type!=='bos'&&!afterStar&&eos()){state.output=state.output.slice(0,-(prior.output+prev.output).length);prior.output='(?:'+prior.output;prev.type='globstar';prev.output=globstar(opts)+'|$)';prev.value+=value;state.output+=prior.output+prev.output;state.consumed+=value;continue;}var _next3=peek();if(prior.type==='slash'&&prior.prev.type!=='bos'&&_next3==='/'){var end=peek(2)!==void 0?'|$':'';state.output=state.output.slice(0,-(prior.output+prev.output).length);prior.output='(?:'+prior.output;prev.type='globstar';prev.output="".concat(globstar(opts)).concat(SLASH_LITERAL,"|").concat(SLASH_LITERAL).concat(end,")");prev.value+=value;state.output+=prior.output+prev.output;state.consumed+=value+advance();push({type:'slash',value:value,output:''});continue;}if(prior.type==='bos'&&_next3==='/'){prev.type='globstar';prev.value+=value;prev.output="(?:^|".concat(SLASH_LITERAL,"|").concat(globstar(opts)).concat(SLASH_LITERAL,")");state.output=prev.output;state.consumed+=value+advance();push({type:'slash',value:value,output:''});continue;}// remove single star from output
state.output=state.output.slice(0,-prev.output.length);// reset previous token to globstar
prev.type='globstar';prev.output=globstar(opts);prev.value+=value;// reset output with globstar
state.output+=prev.output;state.consumed+=value;continue;}var token={type:'star',value:value,output:star};if(opts.bash===true){token.output='.*?';if(prev.type==='bos'||prev.type==='slash'){token.output=nodot+token.output;}push(token);continue;}if(prev&&(prev.type==='bracket'||prev.type==='paren')&&opts.regex===true){token.output=value;push(token);continue;}if(state.index===state.start||prev.type==='slash'||prev.type==='dot'){if(prev.type==='dot'){state.output+=NO_DOT_SLASH;prev.output+=NO_DOT_SLASH;}else if(opts.dot===true){state.output+=NO_DOTS_SLASH;prev.output+=NO_DOTS_SLASH;}else{state.output+=nodot;prev.output+=nodot;}if(peek()!=='*'){state.output+=ONE_CHAR;prev.output+=ONE_CHAR;}}push(token);}while(state.brackets>0){if(opts.strictBrackets===true)throw new SyntaxError(syntaxError('closing',']'));state.output=utils$2.escapeLast(state.output,'[');decrement('brackets');}while(state.parens>0){if(opts.strictBrackets===true)throw new SyntaxError(syntaxError('closing',')'));state.output=utils$2.escapeLast(state.output,'(');decrement('parens');}while(state.braces>0){if(opts.strictBrackets===true)throw new SyntaxError(syntaxError('closing','}'));state.output=utils$2.escapeLast(state.output,'{');decrement('braces');}if(opts.strictSlashes!==true&&(prev.type==='star'||prev.type==='bracket')){push({type:'maybe_slash',value:'',output:"".concat(SLASH_LITERAL,"?")});}// rebuild the output if we had to backtrack at any point
if(state.backtrack===true){state.output='';var _iteratorNormalCompletion239=true;var _didIteratorError239=false;var _iteratorError239=undefined;try{for(var _iterator239=state.tokens[Symbol.iterator](),_step239;!(_iteratorNormalCompletion239=(_step239=_iterator239.next()).done);_iteratorNormalCompletion239=true){var _token=_step239.value;state.output+=_token.output!=null?_token.output:_token.value;if(_token.suffix){state.output+=_token.suffix;}}}catch(err){_didIteratorError239=true;_iteratorError239=err;}finally{try{if(!_iteratorNormalCompletion239&&_iterator239["return"]!=null){_iterator239["return"]();}}finally{if(_didIteratorError239){throw _iteratorError239;}}}}return state;};/**
 * Fast paths for creating regular expressions for common glob patterns.
 * This can significantly speed up processing and has very little downside
 * impact when none of the fast paths match.
 */parse$1.fastpaths=function(input,options){var opts=Object.assign({},options);var max=typeof opts.maxLength==='number'?Math.min(MAX_LENGTH$1,opts.maxLength):MAX_LENGTH$1;var len=input.length;if(len>max){throw new SyntaxError("Input length: ".concat(len,", exceeds maximum allowed length: ").concat(max));}input=REPLACEMENTS[input]||input;var win32=utils$2.isWindows(options);// create constants based on platform, for windows or posix
var _constants$1$globChar=constants$1.globChars(win32),DOT_LITERAL=_constants$1$globChar.DOT_LITERAL,SLASH_LITERAL=_constants$1$globChar.SLASH_LITERAL,ONE_CHAR=_constants$1$globChar.ONE_CHAR,DOTS_SLASH=_constants$1$globChar.DOTS_SLASH,NO_DOT=_constants$1$globChar.NO_DOT,NO_DOTS=_constants$1$globChar.NO_DOTS,NO_DOTS_SLASH=_constants$1$globChar.NO_DOTS_SLASH,STAR=_constants$1$globChar.STAR,START_ANCHOR=_constants$1$globChar.START_ANCHOR;var capture=opts.capture?'':'?:';var star=opts.bash===true?'.*?':STAR;var nodot=opts.dot?NO_DOTS:NO_DOT;var slashDot=opts.dot?NO_DOTS_SLASH:NO_DOT;if(opts.capture){star="(".concat(star,")");}var globstar=function globstar(opts){return"(".concat(capture,"(?:(?!").concat(START_ANCHOR).concat(opts.dot?DOTS_SLASH:DOT_LITERAL,").)*?)");};var create=function create(str){switch(str){case'*':return"".concat(nodot).concat(ONE_CHAR).concat(star);case'.*':return"".concat(DOT_LITERAL).concat(ONE_CHAR).concat(star);case'*.*':return"".concat(nodot).concat(star).concat(DOT_LITERAL).concat(ONE_CHAR).concat(star);case'*/*':return"".concat(nodot).concat(star).concat(SLASH_LITERAL).concat(ONE_CHAR).concat(slashDot).concat(star);case'**':return nodot+globstar(opts);case'**/*':return"(?:".concat(nodot).concat(globstar(opts)).concat(SLASH_LITERAL,")?").concat(slashDot).concat(ONE_CHAR).concat(star);case'**/*.*':return"(?:".concat(nodot).concat(globstar(opts)).concat(SLASH_LITERAL,")?").concat(slashDot).concat(star).concat(DOT_LITERAL).concat(ONE_CHAR).concat(star);case'**/.*':return"(?:".concat(nodot).concat(globstar(opts)).concat(SLASH_LITERAL,")?").concat(DOT_LITERAL).concat(ONE_CHAR).concat(star);default:{var match=/^(.*?)\.(\w+)$/.exec(str);if(!match)return;var source=create(match[1]);if(!source)return;return source+DOT_LITERAL+match[2];}}};var output=create(input);if(output&&opts.strictSlashes!==true){output+="".concat(SLASH_LITERAL,"?");}return output;};var parse_1$1=parse$1;/**
 * Creates a matcher function from one or more glob patterns. The
 * returned function takes a string to match as its first argument,
 * and returns true if the string is a match. The returned matcher
 * function also takes a boolean as the second argument that, when true,
 * returns an object with additional information.
 *
 * ```js
 * const picomatch = require('picomatch');
 * // picomatch(glob[, options]);
 *
 * const isMatch = picomatch('*.!(*a)');
 * console.log(isMatch('a.a')); //=> false
 * console.log(isMatch('a.b')); //=> true
 * ```
 * @name picomatch
 * @param {String|Array} `globs` One or more glob patterns.
 * @param {Object=} `options`
 * @return {Function=} Returns a matcher function.
 * @api public
 */var picomatch=function picomatch(glob,options){var returnState=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(Array.isArray(glob)){var fns=glob.map(function(input){return picomatch(input,options,returnState);});return function(str){var _iteratorNormalCompletion240=true;var _didIteratorError240=false;var _iteratorError240=undefined;try{for(var _iterator240=fns[Symbol.iterator](),_step240;!(_iteratorNormalCompletion240=(_step240=_iterator240.next()).done);_iteratorNormalCompletion240=true){var isMatch=_step240.value;var _state=isMatch(str);if(_state)return _state;}}catch(err){_didIteratorError240=true;_iteratorError240=err;}finally{try{if(!_iteratorNormalCompletion240&&_iterator240["return"]!=null){_iterator240["return"]();}}finally{if(_didIteratorError240){throw _iteratorError240;}}}return false;};}if(typeof glob!=='string'||glob===''){throw new TypeError('Expected pattern to be a non-empty string');}var opts=options||{};var posix=utils$2.isWindows(options);var regex=picomatch.makeRe(glob,options,false,true);var state=regex.state;delete regex.state;var isIgnored=function isIgnored(){return false;};if(opts.ignore){var ignoreOpts=Object.assign(Object.assign({},options),{ignore:null,onMatch:null,onResult:null});isIgnored=picomatch(opts.ignore,ignoreOpts,returnState);}var matcher=function matcher(input){var returnObject=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var _picomatch$test=picomatch.test(input,regex,options,{glob:glob,posix:posix}),isMatch=_picomatch$test.isMatch,match=_picomatch$test.match,output=_picomatch$test.output;var result={glob:glob,state:state,regex:regex,posix:posix,input:input,output:output,match:match,isMatch:isMatch};if(typeof opts.onResult==='function'){opts.onResult(result);}if(isMatch===false){result.isMatch=false;return returnObject?result:false;}if(isIgnored(input)){if(typeof opts.onIgnore==='function'){opts.onIgnore(result);}result.isMatch=false;return returnObject?result:false;}if(typeof opts.onMatch==='function'){opts.onMatch(result);}return returnObject?result:true;};if(returnState){matcher.state=state;}return matcher;};/**
 * Test `input` with the given `regex`. This is used by the main
 * `picomatch()` function to test the input string.
 *
 * ```js
 * const picomatch = require('picomatch');
 * // picomatch.test(input, regex[, options]);
 *
 * console.log(picomatch.test('foo/bar', /^(?:([^/]*?)\/([^/]*?))$/));
 * // { isMatch: true, match: [ 'foo/', 'foo', 'bar' ], output: 'foo/bar' }
 * ```
 * @param {String} `input` String to test.
 * @param {RegExp} `regex`
 * @return {Object} Returns an object with matching info.
 * @api public
 */picomatch.test=function(input,regex,options){var _ref47=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},glob=_ref47.glob,posix=_ref47.posix;if(typeof input!=='string'){throw new TypeError('Expected input to be a string');}if(input===''){return{isMatch:false,output:''};}var opts=options||{};var format=opts.format||(posix?utils$2.toPosixSlashes:null);var match=input===glob;var output=match&&format?format(input):input;if(match===false){output=format?format(input):input;match=output===glob;}if(match===false||opts.capture===true){if(opts.matchBase===true||opts.basename===true){match=picomatch.matchBase(input,regex,options,posix);}else{match=regex.exec(output);}}return{isMatch:!!match,match:match,output:output};};/**
 * Match the basename of a filepath.
 *
 * ```js
 * const picomatch = require('picomatch');
 * // picomatch.matchBase(input, glob[, options]);
 * console.log(picomatch.matchBase('foo/bar.js', '*.js'); // true
 * ```
 * @param {String} `input` String to test.
 * @param {RegExp|String} `glob` Glob pattern or regex created by [.makeRe](#makeRe).
 * @return {Boolean}
 * @api public
 */picomatch.matchBase=function(input,glob,options){var posix=arguments.length>3&&arguments[3]!==undefined?arguments[3]:utils$2.isWindows(options);var regex=glob instanceof RegExp?glob:picomatch.makeRe(glob,options);return regex.test(path.basename(input));};/**
 * Returns true if **any** of the given glob `patterns` match the specified `string`.
 *
 * ```js
 * const picomatch = require('picomatch');
 * // picomatch.isMatch(string, patterns[, options]);
 *
 * console.log(picomatch.isMatch('a.a', ['b.*', '*.a'])); //=> true
 * console.log(picomatch.isMatch('a.a', 'b.*')); //=> false
 * ```
 * @param {String|Array} str The string to test.
 * @param {String|Array} patterns One or more glob patterns to use for matching.
 * @param {Object} [options] See available [options](#options).
 * @return {Boolean} Returns true if any patterns match `str`
 * @api public
 */picomatch.isMatch=function(str,patterns,options){return picomatch(patterns,options)(str);};/**
 * Parse a glob pattern to create the source string for a regular
 * expression.
 *
 * ```js
 * const picomatch = require('picomatch');
 * const result = picomatch.parse(glob[, options]);
 * ```
 * @param {String} `glob`
 * @param {Object} `options`
 * @return {Object} Returns an object with useful properties and output to be used as a regex source string.
 * @api public
 */picomatch.parse=function(glob,options){return parse_1$1(glob,options);};/**
 * Scan a glob pattern to separate the pattern into segments.
 *
 * ```js
 * const picomatch = require('picomatch');
 * // picomatch.scan(input[, options]);
 *
 * const result = picomatch.scan('!./foo/*.js');
 * console.log(result);
 * // { prefix: '!./',
 * //   input: '!./foo/*.js',
 * //   base: 'foo',
 * //   glob: '*.js',
 * //   negated: true,
 * //   isGlob: true }
 * ```
 * @param {String} `input` Glob pattern to scan.
 * @param {Object} `options`
 * @return {Object} Returns an object with
 * @api public
 */picomatch.scan=function(input,options){return scan(input,options);};/**
 * Create a regular expression from a glob pattern.
 *
 * ```js
 * const picomatch = require('picomatch');
 * // picomatch.makeRe(input[, options]);
 *
 * console.log(picomatch.makeRe('*.js'));
 * //=> /^(?:(?!\.)(?=.)[^/]*?\.js)$/
 * ```
 * @param {String} `input` A glob pattern to convert to regex.
 * @param {Object} `options`
 * @return {RegExp} Returns a regex created from the given pattern.
 * @api public
 */picomatch.makeRe=function(input,options){var returnOutput=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var returnState=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(!input||typeof input!=='string'){throw new TypeError('Expected a non-empty string');}var opts=options||{};var prepend=opts.contains?'':'^';var append=opts.contains?'':'$';var state={negated:false,fastpaths:true};var prefix='';var output;if(input.startsWith('./')){input=input.slice(2);prefix=state.prefix='./';}if(opts.fastpaths!==false&&(input[0]==='.'||input[0]==='*')){output=parse_1$1.fastpaths(input,options);}if(output===void 0){state=picomatch.parse(input,options);state.prefix=prefix+(state.prefix||'');output=state.output;}if(returnOutput===true){return output;}var source="".concat(prepend,"(?:").concat(output,")").concat(append);if(state&&state.negated===true){source="^(?!".concat(source,").*$");}var regex=picomatch.toRegex(source,options);if(returnState===true){regex.state=state;}return regex;};/**
 * Create a regular expression from the given regex source string.
 *
 * ```js
 * const picomatch = require('picomatch');
 * // picomatch.toRegex(source[, options]);
 *
 * const { output } = picomatch.parse('*.js');
 * console.log(picomatch.toRegex(output));
 * //=> /^(?:(?!\.)(?=.)[^/]*?\.js)$/
 * ```
 * @param {String} `source` Regular expression source string.
 * @param {Object} `options`
 * @return {RegExp}
 * @api public
 */picomatch.toRegex=function(source,options){try{var _opts=options||{};return new RegExp(source,_opts.flags||(_opts.nocase?'i':''));}catch(err){if(options&&options.debug===true)throw err;return /$^/;}};/**
 * Picomatch constants.
 * @return {Object}
 */picomatch.constants=constants$1;/**
 * Expose "picomatch"
 */var picomatch_1=picomatch;var picomatch$1=picomatch_1;var isEmptyString=function isEmptyString(val){return typeof val==='string'&&(val===''||val==='./');};/**
 * Returns an array of strings that match one or more glob patterns.
 *
 * ```js
 * const mm = require('micromatch');
 * // mm(list, patterns[, options]);
 *
 * console.log(mm(['a.js', 'a.txt'], ['*.js']));
 * //=> [ 'a.js' ]
 * ```
 * @param {String|Array<string>} list List of strings to match.
 * @param {String|Array<string>} patterns One or more glob patterns to use for matching.
 * @param {Object} options See available [options](#options)
 * @return {Array} Returns an array of matches
 * @summary false
 * @api public
 */var micromatch=function micromatch(list,patterns,options){patterns=[].concat(patterns);list=[].concat(list);var omit=new Set();var keep=new Set();var items=new Set();var negatives=0;var onResult=function onResult(state){items.add(state.output);if(options&&options.onResult){options.onResult(state);}};for(var _i50=0;_i50<patterns.length;_i50++){var isMatch=picomatch$1(String(patterns[_i50]),Object.assign(Object.assign({},options),{onResult:onResult}),true);var negated=isMatch.state.negated||isMatch.state.negatedExtglob;if(negated)negatives++;var _iteratorNormalCompletion241=true;var _didIteratorError241=false;var _iteratorError241=undefined;try{for(var _iterator241=list[Symbol.iterator](),_step241;!(_iteratorNormalCompletion241=(_step241=_iterator241.next()).done);_iteratorNormalCompletion241=true){var item=_step241.value;var matched=isMatch(item,true);var match=negated?!matched.isMatch:matched.isMatch;if(!match)continue;if(negated){omit.add(matched.output);}else{omit["delete"](matched.output);keep.add(matched.output);}}}catch(err){_didIteratorError241=true;_iteratorError241=err;}finally{try{if(!_iteratorNormalCompletion241&&_iterator241["return"]!=null){_iterator241["return"]();}}finally{if(_didIteratorError241){throw _iteratorError241;}}}}var result=negatives===patterns.length?_toConsumableArray(items):_toConsumableArray(keep);var matches=result.filter(function(item){return!omit.has(item);});if(options&&matches.length===0){if(options.failglob===true){throw new Error("No matches found for \"".concat(patterns.join(', '),"\""));}if(options.nonull===true||options.nullglob===true){return options.unescape?patterns.map(function(p){return p.replace(/\\/g,'');}):patterns;}}return matches;};/**
 * Backwards compatibility
 */micromatch.match=micromatch;/**
 * Returns a matcher function from the given glob `pattern` and `options`.
 * The returned function takes a string to match as its only argument and returns
 * true if the string is a match.
 *
 * ```js
 * const mm = require('micromatch');
 * // mm.matcher(pattern[, options]);
 *
 * const isMatch = mm.matcher('*.!(*a)');
 * console.log(isMatch('a.a')); //=> false
 * console.log(isMatch('a.b')); //=> true
 * ```
 * @param {String} `pattern` Glob pattern
 * @param {Object} `options`
 * @return {Function} Returns a matcher function.
 * @api public
 */micromatch.matcher=function(pattern,options){return picomatch$1(pattern,options);};/**
 * Returns true if **any** of the given glob `patterns` match the specified `string`.
 *
 * ```js
 * const mm = require('micromatch');
 * // mm.isMatch(string, patterns[, options]);
 *
 * console.log(mm.isMatch('a.a', ['b.*', '*.a'])); //=> true
 * console.log(mm.isMatch('a.a', 'b.*')); //=> false
 * ```
 * @param {String} str The string to test.
 * @param {String|Array} patterns One or more glob patterns to use for matching.
 * @param {Object} [options] See available [options](#options).
 * @return {Boolean} Returns true if any patterns match `str`
 * @api public
 */micromatch.isMatch=function(str,patterns,options){return picomatch$1(patterns,options)(str);};/**
 * Backwards compatibility
 */micromatch.any=micromatch.isMatch;/**
 * Returns a list of strings that _**do not match any**_ of the given `patterns`.
 *
 * ```js
 * const mm = require('micromatch');
 * // mm.not(list, patterns[, options]);
 *
 * console.log(mm.not(['a.a', 'b.b', 'c.c'], '*.a'));
 * //=> ['b.b', 'c.c']
 * ```
 * @param {Array} `list` Array of strings to match.
 * @param {String|Array} `patterns` One or more glob pattern to use for matching.
 * @param {Object} `options` See available [options](#options) for changing how matches are performed
 * @return {Array} Returns an array of strings that **do not match** the given patterns.
 * @api public
 */micromatch.not=function(list,patterns){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};patterns=[].concat(patterns).map(String);var result=new Set();var items=[];var onResult=function onResult(state){if(options.onResult)options.onResult(state);items.push(state.output);};var matches=micromatch(list,patterns,Object.assign(Object.assign({},options),{onResult:onResult}));for(var _i51=0,_items=items;_i51<_items.length;_i51++){var item=_items[_i51];if(!matches.includes(item)){result.add(item);}}return _toConsumableArray(result);};/**
 * Returns true if the given `string` contains the given pattern. Similar
 * to [.isMatch](#isMatch) but the pattern can match any part of the string.
 *
 * ```js
 * var mm = require('micromatch');
 * // mm.contains(string, pattern[, options]);
 *
 * console.log(mm.contains('aa/bb/cc', '*b'));
 * //=> true
 * console.log(mm.contains('aa/bb/cc', '*d'));
 * //=> false
 * ```
 * @param {String} `str` The string to match.
 * @param {String|Array} `patterns` Glob pattern to use for matching.
 * @param {Object} `options` See available [options](#options) for changing how matches are performed
 * @return {Boolean} Returns true if the patter matches any part of `str`.
 * @api public
 */micromatch.contains=function(str,pattern,options){if(typeof str!=='string'){throw new TypeError("Expected a string: \"".concat(util.inspect(str),"\""));}if(Array.isArray(pattern)){return pattern.some(function(p){return micromatch.contains(str,p,options);});}if(typeof pattern==='string'){if(isEmptyString(str)||isEmptyString(pattern)){return false;}if(str.includes(pattern)||str.startsWith('./')&&str.slice(2).includes(pattern)){return true;}}return micromatch.isMatch(str,pattern,Object.assign(Object.assign({},options),{contains:true}));};/**
 * Filter the keys of the given object with the given `glob` pattern
 * and `options`. Does not attempt to match nested keys. If you need this feature,
 * use [glob-object][] instead.
 *
 * ```js
 * const mm = require('micromatch');
 * // mm.matchKeys(object, patterns[, options]);
 *
 * const obj = { aa: 'a', ab: 'b', ac: 'c' };
 * console.log(mm.matchKeys(obj, '*b'));
 * //=> { ab: 'b' }
 * ```
 * @param {Object} `object` The object with keys to filter.
 * @param {String|Array} `patterns` One or more glob patterns to use for matching.
 * @param {Object} `options` See available [options](#options) for changing how matches are performed
 * @return {Object} Returns an object with only keys that match the given patterns.
 * @api public
 */micromatch.matchKeys=function(obj,patterns,options){if(!utils$2.isObject(obj)){throw new TypeError('Expected the first argument to be an object');}var keys=micromatch(Object.keys(obj),patterns,options);var res={};var _iteratorNormalCompletion242=true;var _didIteratorError242=false;var _iteratorError242=undefined;try{for(var _iterator242=keys[Symbol.iterator](),_step242;!(_iteratorNormalCompletion242=(_step242=_iterator242.next()).done);_iteratorNormalCompletion242=true){var key=_step242.value;res[key]=obj[key];}}catch(err){_didIteratorError242=true;_iteratorError242=err;}finally{try{if(!_iteratorNormalCompletion242&&_iterator242["return"]!=null){_iterator242["return"]();}}finally{if(_didIteratorError242){throw _iteratorError242;}}}return res;};/**
 * Returns true if some of the strings in the given `list` match any of the given glob `patterns`.
 *
 * ```js
 * const mm = require('micromatch');
 * // mm.some(list, patterns[, options]);
 *
 * console.log(mm.some(['foo.js', 'bar.js'], ['*.js', '!foo.js']));
 * // true
 * console.log(mm.some(['foo.js'], ['*.js', '!foo.js']));
 * // false
 * ```
 * @param {String|Array} `list` The string or array of strings to test. Returns as soon as the first match is found.
 * @param {String|Array} `patterns` One or more glob patterns to use for matching.
 * @param {Object} `options` See available [options](#options) for changing how matches are performed
 * @return {Boolean} Returns true if any patterns match `str`
 * @api public
 */micromatch.some=function(list,patterns,options){var items=[].concat(list);var _iteratorNormalCompletion243=true;var _didIteratorError243=false;var _iteratorError243=undefined;try{var _loop11=function _loop11(){var pattern=_step243.value;var isMatch=picomatch$1(String(pattern),options);if(items.some(function(item){return isMatch(item);})){return{v:true};}};for(var _iterator243=[].concat(patterns)[Symbol.iterator](),_step243;!(_iteratorNormalCompletion243=(_step243=_iterator243.next()).done);_iteratorNormalCompletion243=true){var _ret5=_loop11();if(_typeof(_ret5)==="object")return _ret5.v;}}catch(err){_didIteratorError243=true;_iteratorError243=err;}finally{try{if(!_iteratorNormalCompletion243&&_iterator243["return"]!=null){_iterator243["return"]();}}finally{if(_didIteratorError243){throw _iteratorError243;}}}return false;};/**
 * Returns true if every string in the given `list` matches
 * any of the given glob `patterns`.
 *
 * ```js
 * const mm = require('micromatch');
 * // mm.every(list, patterns[, options]);
 *
 * console.log(mm.every('foo.js', ['foo.js']));
 * // true
 * console.log(mm.every(['foo.js', 'bar.js'], ['*.js']));
 * // true
 * console.log(mm.every(['foo.js', 'bar.js'], ['*.js', '!foo.js']));
 * // false
 * console.log(mm.every(['foo.js'], ['*.js', '!foo.js']));
 * // false
 * ```
 * @param {String|Array} `list` The string or array of strings to test.
 * @param {String|Array} `patterns` One or more glob patterns to use for matching.
 * @param {Object} `options` See available [options](#options) for changing how matches are performed
 * @return {Boolean} Returns true if any patterns match `str`
 * @api public
 */micromatch.every=function(list,patterns,options){var items=[].concat(list);var _iteratorNormalCompletion244=true;var _didIteratorError244=false;var _iteratorError244=undefined;try{var _loop12=function _loop12(){var pattern=_step244.value;var isMatch=picomatch$1(String(pattern),options);if(!items.every(function(item){return isMatch(item);})){return{v:false};}};for(var _iterator244=[].concat(patterns)[Symbol.iterator](),_step244;!(_iteratorNormalCompletion244=(_step244=_iterator244.next()).done);_iteratorNormalCompletion244=true){var _ret6=_loop12();if(_typeof(_ret6)==="object")return _ret6.v;}}catch(err){_didIteratorError244=true;_iteratorError244=err;}finally{try{if(!_iteratorNormalCompletion244&&_iterator244["return"]!=null){_iterator244["return"]();}}finally{if(_didIteratorError244){throw _iteratorError244;}}}return true;};/**
 * Returns true if **all** of the given `patterns` match
 * the specified string.
 *
 * ```js
 * const mm = require('micromatch');
 * // mm.all(string, patterns[, options]);
 *
 * console.log(mm.all('foo.js', ['foo.js']));
 * // true
 *
 * console.log(mm.all('foo.js', ['*.js', '!foo.js']));
 * // false
 *
 * console.log(mm.all('foo.js', ['*.js', 'foo.js']));
 * // true
 *
 * console.log(mm.all('foo.js', ['*.js', 'f*', '*o*', '*o.js']));
 * // true
 * ```
 * @param {String|Array} `str` The string to test.
 * @param {String|Array} `patterns` One or more glob patterns to use for matching.
 * @param {Object} `options` See available [options](#options) for changing how matches are performed
 * @return {Boolean} Returns true if any patterns match `str`
 * @api public
 */micromatch.all=function(str,patterns,options){if(typeof str!=='string'){throw new TypeError("Expected a string: \"".concat(util.inspect(str),"\""));}return[].concat(patterns).every(function(p){return picomatch$1(p,options)(str);});};/**
 * Returns an array of matches captured by `pattern` in `string, or `null` if the pattern did not match.
 *
 * ```js
 * const mm = require('micromatch');
 * // mm.capture(pattern, string[, options]);
 *
 * console.log(mm.capture('test/*.js', 'test/foo.js'));
 * //=> ['foo']
 * console.log(mm.capture('test/*.js', 'foo/bar.css'));
 * //=> null
 * ```
 * @param {String} `glob` Glob pattern to use for matching.
 * @param {String} `input` String to match
 * @param {Object} `options` See available [options](#options) for changing how matches are performed
 * @return {Boolean} Returns an array of captures if the input matches the glob pattern, otherwise `null`.
 * @api public
 */micromatch.capture=function(glob,input,options){var posix=utils$2.isWindows(options);var regex=picomatch$1.makeRe(String(glob),Object.assign(Object.assign({},options),{capture:true}));var match=regex.exec(posix?utils$2.toPosixSlashes(input):input);if(match){return match.slice(1).map(function(v){return v===void 0?'':v;});}};/**
 * Create a regular expression from the given glob `pattern`.
 *
 * ```js
 * const mm = require('micromatch');
 * // mm.makeRe(pattern[, options]);
 *
 * console.log(mm.makeRe('*.js'));
 * //=> /^(?:(\.[\\\/])?(?!\.)(?=.)[^\/]*?\.js)$/
 * ```
 * @param {String} `pattern` A glob pattern to convert to regex.
 * @param {Object} `options`
 * @return {RegExp} Returns a regex created from the given pattern.
 * @api public
 */micromatch.makeRe=function(){return picomatch$1.makeRe.apply(picomatch$1,arguments);};/**
 * Scan a glob pattern to separate the pattern into segments. Used
 * by the [split](#split) method.
 *
 * ```js
 * const mm = require('micromatch');
 * const state = mm.scan(pattern[, options]);
 * ```
 * @param {String} `pattern`
 * @param {Object} `options`
 * @return {Object} Returns an object with
 * @api public
 */micromatch.scan=function(){return picomatch$1.scan.apply(picomatch$1,arguments);};/**
 * Parse a glob pattern to create the source string for a regular
 * expression.
 *
 * ```js
 * const mm = require('micromatch');
 * const state = mm(pattern[, options]);
 * ```
 * @param {String} `glob`
 * @param {Object} `options`
 * @return {Object} Returns an object with useful properties and output to be used as regex source string.
 * @api public
 */micromatch.parse=function(patterns,options){var res=[];var _iteratorNormalCompletion245=true;var _didIteratorError245=false;var _iteratorError245=undefined;try{for(var _iterator245=[].concat(patterns||[])[Symbol.iterator](),_step245;!(_iteratorNormalCompletion245=(_step245=_iterator245.next()).done);_iteratorNormalCompletion245=true){var pattern=_step245.value;var _iteratorNormalCompletion246=true;var _didIteratorError246=false;var _iteratorError246=undefined;try{for(var _iterator246=braces_1(String(pattern),options)[Symbol.iterator](),_step246;!(_iteratorNormalCompletion246=(_step246=_iterator246.next()).done);_iteratorNormalCompletion246=true){var str=_step246.value;res.push(picomatch$1.parse(str,options));}}catch(err){_didIteratorError246=true;_iteratorError246=err;}finally{try{if(!_iteratorNormalCompletion246&&_iterator246["return"]!=null){_iterator246["return"]();}}finally{if(_didIteratorError246){throw _iteratorError246;}}}}}catch(err){_didIteratorError245=true;_iteratorError245=err;}finally{try{if(!_iteratorNormalCompletion245&&_iterator245["return"]!=null){_iterator245["return"]();}}finally{if(_didIteratorError245){throw _iteratorError245;}}}return res;};/**
 * Process the given brace `pattern`.
 *
 * ```js
 * const { braces } = require('micromatch');
 * console.log(braces('foo/{a,b,c}/bar'));
 * //=> [ 'foo/(a|b|c)/bar' ]
 *
 * console.log(braces('foo/{a,b,c}/bar', { expand: true }));
 * //=> [ 'foo/a/bar', 'foo/b/bar', 'foo/c/bar' ]
 * ```
 * @param {String} `pattern` String with brace pattern to process.
 * @param {Object} `options` Any [options](#options) to change how expansion is performed. See the [braces][] library for all available options.
 * @return {Array}
 * @api public
 */micromatch.braces=function(pattern,options){if(typeof pattern!=='string')throw new TypeError('Expected a string');if(options&&options.nobrace===true||!/\{.*\}/.test(pattern)){return[pattern];}return braces_1(pattern,options);};/**
 * Expand braces
 */micromatch.braceExpand=function(pattern,options){if(typeof pattern!=='string')throw new TypeError('Expected a string');return micromatch.braces(pattern,Object.assign(Object.assign({},options),{expand:true}));};/**
 * Expose micromatch
 */var micromatch_1=micromatch;function ensureArray$1(thing){if(Array.isArray(thing))return thing;if(thing==undefined)return[];return[thing];}function getMatcherString(id,resolutionBase){if(resolutionBase===false){return id;}return path.resolve.apply(path,_toConsumableArray(typeof resolutionBase==='string'?[resolutionBase,id]:[id]));}var createFilter=function createFilter(include,exclude,options){var resolutionBase=options&&options.resolve;var getMatcher=function getMatcher(id){return id instanceof RegExp?id:{test:micromatch_1.matcher(getMatcherString(id,resolutionBase).split(path.sep).join('/'),{dot:true})};};var includeMatchers=ensureArray$1(include).map(getMatcher);var excludeMatchers=ensureArray$1(exclude).map(getMatcher);return function(id){if(typeof id!=='string')return false;if(/\0/.test(id))return false;id=id.split(path.sep).join('/');for(var _i52=0;_i52<excludeMatchers.length;++_i52){var matcher=excludeMatchers[_i52];if(matcher.test(id))return false;}for(var _i53=0;_i53<includeMatchers.length;++_i53){var _matcher=includeMatchers[_i53];if(_matcher.test(id))return true;}return!includeMatchers.length;};};var modules={};var getModule=function getModule(dir){var rootPath=dir?path.resolve(dir):process.cwd();var rootName=path.join(rootPath,'@root');var root=modules[rootName];if(!root){root=new module$1(rootName);root.filename=rootName;root.paths=module$1._nodeModulePaths(rootPath);modules[rootName]=root;}return root;};var requireRelative=function requireRelative(requested,relativeTo){var root=getModule(relativeTo);return root.require(requested);};requireRelative.resolve=function(requested,relativeTo){var root=getModule(relativeTo);return module$1._resolveFilename(requested,root);};var requireRelative_1=requireRelative;var chokidar;try{chokidar=requireRelative_1('chokidar',process.cwd());}catch(err){chokidar=null;}var chokidar$1=chokidar;var opts={encoding:'utf-8',persistent:true};var watchers=new Map();function addTask(id,task,chokidarOptions,chokidarOptionsHash,isTransformDependency){if(!watchers.has(chokidarOptionsHash))watchers.set(chokidarOptionsHash,new Map());var group=watchers.get(chokidarOptionsHash);var watcher=group.get(id)||new FileWatcher(id,chokidarOptions,group);if(!watcher.fsWatcher){if(isTransformDependency)throw new Error("Transform dependency ".concat(id," does not exist."));}else{watcher.addTask(task,isTransformDependency);}}function deleteTask(id,target,chokidarOptionsHash){var group=watchers.get(chokidarOptionsHash);var watcher=group.get(id);if(watcher)watcher.deleteTask(target,group);}var FileWatcher=/*#__PURE__*/function(){function FileWatcher(id,chokidarOptions,group){var _this51=this;_classCallCheck(this,FileWatcher);this.id=id;this.tasks=new Set();this.transformDependencyTasks=new Set();var modifiedTime;try{var stats=fs.statSync(id);modifiedTime=+stats.mtime;}catch(err){if(err.code==='ENOENT'){// can't watch files that don't exist (e.g. injected
// by plugins somehow)
return;}throw err;}var handleWatchEvent=function handleWatchEvent(event){if(event==='rename'||event==='unlink'){_this51.close();group["delete"](id);_this51.trigger(id);return;}else{var _stats;try{_stats=fs.statSync(id);}catch(err){if(err.code==='ENOENT'){modifiedTime=-1;_this51.trigger(id);return;}throw err;}// debounce
if(+_stats.mtime-modifiedTime>15)_this51.trigger(id);}};this.fsWatcher=chokidarOptions?chokidar$1.watch(id,chokidarOptions).on('all',handleWatchEvent):fs.watch(id,opts,handleWatchEvent);group.set(id,this);}_createClass(FileWatcher,[{key:"addTask",value:function addTask(task,isTransformDependency){if(isTransformDependency)this.transformDependencyTasks.add(task);else this.tasks.add(task);}},{key:"close",value:function close(){if(this.fsWatcher)this.fsWatcher.close();}},{key:"deleteTask",value:function deleteTask(task,group){var deleted=this.tasks["delete"](task);deleted=this.transformDependencyTasks["delete"](task)||deleted;if(deleted&&this.tasks.size===0&&this.transformDependencyTasks.size===0){group["delete"](this.id);this.close();}}},{key:"trigger",value:function trigger(id){var _iteratorNormalCompletion247=true;var _didIteratorError247=false;var _iteratorError247=undefined;try{for(var _iterator247=this.tasks[Symbol.iterator](),_step247;!(_iteratorNormalCompletion247=(_step247=_iterator247.next()).done);_iteratorNormalCompletion247=true){var task=_step247.value;task.invalidate(id,false);}}catch(err){_didIteratorError247=true;_iteratorError247=err;}finally{try{if(!_iteratorNormalCompletion247&&_iterator247["return"]!=null){_iterator247["return"]();}}finally{if(_didIteratorError247){throw _iteratorError247;}}}var _iteratorNormalCompletion248=true;var _didIteratorError248=false;var _iteratorError248=undefined;try{for(var _iterator248=this.transformDependencyTasks[Symbol.iterator](),_step248;!(_iteratorNormalCompletion248=(_step248=_iterator248.next()).done);_iteratorNormalCompletion248=true){var _task=_step248.value;_task.invalidate(id,true);}}catch(err){_didIteratorError248=true;_iteratorError248=err;}finally{try{if(!_iteratorNormalCompletion248&&_iterator248["return"]!=null){_iterator248["return"]();}}finally{if(_didIteratorError248){throw _iteratorError248;}}}}}]);return FileWatcher;}();var DELAY=200;var Watcher=/*#__PURE__*/function(){function Watcher(configs){var _this53=this;_classCallCheck(this,Watcher);this.buildTimeout=null;this.invalidatedIds=new Set();this.rerun=false;this.emitter=new(/*#__PURE__*/function(_events$EventEmitter){_inherits(_class3,_events$EventEmitter);function _class3(close){var _this52;_classCallCheck(this,_class3);_this52=_possibleConstructorReturn(this,_getPrototypeOf(_class3).call(this));_this52.close=close;// Allows more than 10 bundles to be watched without
// showing the `MaxListenersExceededWarning` to the user.
_this52.setMaxListeners(Infinity);return _this52;}return _class3;}(events.EventEmitter))(this.close.bind(this));this.tasks=(Array.isArray(configs)?configs:configs?[configs]:[]).map(function(config){return new Task(_this53,config);});this.running=true;process.nextTick(function(){return _this53.run();});}_createClass(Watcher,[{key:"close",value:function close(){if(this.buildTimeout)clearTimeout(this.buildTimeout);var _iteratorNormalCompletion249=true;var _didIteratorError249=false;var _iteratorError249=undefined;try{for(var _iterator249=this.tasks[Symbol.iterator](),_step249;!(_iteratorNormalCompletion249=(_step249=_iterator249.next()).done);_iteratorNormalCompletion249=true){var task=_step249.value;task.close();}}catch(err){_didIteratorError249=true;_iteratorError249=err;}finally{try{if(!_iteratorNormalCompletion249&&_iterator249["return"]!=null){_iterator249["return"]();}}finally{if(_didIteratorError249){throw _iteratorError249;}}}this.emitter.removeAllListeners();}},{key:"emit",value:function emit(event,value){this.emitter.emit(event,value);}},{key:"invalidate",value:function invalidate(id){var _this54=this;if(id){this.invalidatedIds.add(id);}if(this.running){this.rerun=true;return;}if(this.buildTimeout)clearTimeout(this.buildTimeout);this.buildTimeout=setTimeout(function(){_this54.buildTimeout=null;var _iteratorNormalCompletion250=true;var _didIteratorError250=false;var _iteratorError250=undefined;try{for(var _iterator250=_this54.invalidatedIds[Symbol.iterator](),_step250;!(_iteratorNormalCompletion250=(_step250=_iterator250.next()).done);_iteratorNormalCompletion250=true){var _id3=_step250.value;_this54.emit('change',_id3);}}catch(err){_didIteratorError250=true;_iteratorError250=err;}finally{try{if(!_iteratorNormalCompletion250&&_iterator250["return"]!=null){_iterator250["return"]();}}finally{if(_didIteratorError250){throw _iteratorError250;}}}_this54.invalidatedIds.clear();_this54.emit('restart');_this54.run();},DELAY);}},{key:"run",value:function run(){var _this55=this;this.running=true;this.emit('event',{code:'START'});var taskPromise=Promise.resolve();var _iteratorNormalCompletion251=true;var _didIteratorError251=false;var _iteratorError251=undefined;try{var _loop13=function _loop13(){var task=_step251.value;taskPromise=taskPromise.then(function(){return task.run();});};for(var _iterator251=this.tasks[Symbol.iterator](),_step251;!(_iteratorNormalCompletion251=(_step251=_iterator251.next()).done);_iteratorNormalCompletion251=true){_loop13();}}catch(err){_didIteratorError251=true;_iteratorError251=err;}finally{try{if(!_iteratorNormalCompletion251&&_iterator251["return"]!=null){_iterator251["return"]();}}finally{if(_didIteratorError251){throw _iteratorError251;}}}return taskPromise.then(function(){_this55.running=false;_this55.emit('event',{code:'END'});})["catch"](function(error){_this55.running=false;_this55.emit('event',{code:'ERROR',error:error});}).then(function(){if(_this55.rerun){_this55.rerun=false;_this55.invalidate();}});}}]);return Watcher;}();var Task=/*#__PURE__*/function(){function Task(watcher,config){_classCallCheck(this,Task);this.cache={modules:[]};this.watchFiles=[];this.invalidated=true;this.watcher=watcher;this.closed=false;this.watched=new Set();var _mergeOptions2=mergeOptions({config:config}),inputOptions=_mergeOptions2.inputOptions,outputOptions=_mergeOptions2.outputOptions;this.inputOptions=inputOptions;this.outputs=outputOptions;this.outputFiles=this.outputs.map(function(output){if(output.file||output.dir)return path.resolve(output.file||output.dir);return undefined;});var watchOptions=inputOptions.watch||{};if('useChokidar'in watchOptions)watchOptions.chokidar=watchOptions.useChokidar;var chokidarOptions='chokidar'in watchOptions?watchOptions.chokidar:!!chokidar$1;if(chokidarOptions){chokidarOptions=Object.assign(Object.assign({},chokidarOptions===true?{}:chokidarOptions),{disableGlobbing:true,ignoreInitial:true});}if(chokidarOptions&&!chokidar$1){throw new Error("watch.chokidar was provided, but chokidar could not be found. Have you installed it?");}this.chokidarOptions=chokidarOptions;this.chokidarOptionsHash=JSON.stringify(chokidarOptions);this.filter=createFilter(watchOptions.include,watchOptions.exclude);}_createClass(Task,[{key:"close",value:function close(){this.closed=true;var _iteratorNormalCompletion252=true;var _didIteratorError252=false;var _iteratorError252=undefined;try{for(var _iterator252=this.watched[Symbol.iterator](),_step252;!(_iteratorNormalCompletion252=(_step252=_iterator252.next()).done);_iteratorNormalCompletion252=true){var id=_step252.value;deleteTask(id,this,this.chokidarOptionsHash);}}catch(err){_didIteratorError252=true;_iteratorError252=err;}finally{try{if(!_iteratorNormalCompletion252&&_iterator252["return"]!=null){_iterator252["return"]();}}finally{if(_didIteratorError252){throw _iteratorError252;}}}}},{key:"invalidate",value:function invalidate(id,isTransformDependency){this.invalidated=true;if(isTransformDependency){var _iteratorNormalCompletion253=true;var _didIteratorError253=false;var _iteratorError253=undefined;try{for(var _iterator253=this.cache.modules[Symbol.iterator](),_step253;!(_iteratorNormalCompletion253=(_step253=_iterator253.next()).done);_iteratorNormalCompletion253=true){var module=_step253.value;if(module.transformDependencies.indexOf(id)===-1)continue;// effective invalidation
module.originalCode=null;}}catch(err){_didIteratorError253=true;_iteratorError253=err;}finally{try{if(!_iteratorNormalCompletion253&&_iterator253["return"]!=null){_iterator253["return"]();}}finally{if(_didIteratorError253){throw _iteratorError253;}}}}this.watcher.invalidate(id);}},{key:"run",value:function run(){var _this56=this;if(!this.invalidated)return;this.invalidated=false;var options=Object.assign(Object.assign({},this.inputOptions),{cache:this.cache});var start=Date.now();this.watcher.emit('event',{code:'BUNDLE_START',input:this.inputOptions.input,output:this.outputFiles});setWatcher(this.watcher.emitter);return rollup(options).then(function(result){if(_this56.closed)return undefined;_this56.updateWatchedFiles(result);return Promise.all(_this56.outputs.map(function(output){return result.write(output);})).then(function(){return result;});}).then(function(result){_this56.watcher.emit('event',{code:'BUNDLE_END',duration:Date.now()-start,input:_this56.inputOptions.input,output:_this56.outputFiles,result:result});})["catch"](function(error){if(_this56.closed)return;if(Array.isArray(error.watchFiles)){var _iteratorNormalCompletion254=true;var _didIteratorError254=false;var _iteratorError254=undefined;try{for(var _iterator254=error.watchFiles[Symbol.iterator](),_step254;!(_iteratorNormalCompletion254=(_step254=_iterator254.next()).done);_iteratorNormalCompletion254=true){var id=_step254.value;_this56.watchFile(id);}}catch(err){_didIteratorError254=true;_iteratorError254=err;}finally{try{if(!_iteratorNormalCompletion254&&_iterator254["return"]!=null){_iterator254["return"]();}}finally{if(_didIteratorError254){throw _iteratorError254;}}}}if(error.id){_this56.cache.modules=_this56.cache.modules.filter(function(module){return module.id!==error.id;});}throw error;});}},{key:"updateWatchedFiles",value:function updateWatchedFiles(result){var previouslyWatched=this.watched;this.watched=new Set();this.watchFiles=result.watchFiles;this.cache=result.cache;var _iteratorNormalCompletion255=true;var _didIteratorError255=false;var _iteratorError255=undefined;try{for(var _iterator255=this.watchFiles[Symbol.iterator](),_step255;!(_iteratorNormalCompletion255=(_step255=_iterator255.next()).done);_iteratorNormalCompletion255=true){var id=_step255.value;this.watchFile(id);}}catch(err){_didIteratorError255=true;_iteratorError255=err;}finally{try{if(!_iteratorNormalCompletion255&&_iterator255["return"]!=null){_iterator255["return"]();}}finally{if(_didIteratorError255){throw _iteratorError255;}}}var _iteratorNormalCompletion256=true;var _didIteratorError256=false;var _iteratorError256=undefined;try{for(var _iterator256=this.cache.modules[Symbol.iterator](),_step256;!(_iteratorNormalCompletion256=(_step256=_iterator256.next()).done);_iteratorNormalCompletion256=true){var module=_step256.value;var _iteratorNormalCompletion258=true;var _didIteratorError258=false;var _iteratorError258=undefined;try{for(var _iterator258=module.transformDependencies[Symbol.iterator](),_step258;!(_iteratorNormalCompletion258=(_step258=_iterator258.next()).done);_iteratorNormalCompletion258=true){var depId=_step258.value;this.watchFile(depId,true);}}catch(err){_didIteratorError258=true;_iteratorError258=err;}finally{try{if(!_iteratorNormalCompletion258&&_iterator258["return"]!=null){_iterator258["return"]();}}finally{if(_didIteratorError258){throw _iteratorError258;}}}}}catch(err){_didIteratorError256=true;_iteratorError256=err;}finally{try{if(!_iteratorNormalCompletion256&&_iterator256["return"]!=null){_iterator256["return"]();}}finally{if(_didIteratorError256){throw _iteratorError256;}}}var _iteratorNormalCompletion257=true;var _didIteratorError257=false;var _iteratorError257=undefined;try{for(var _iterator257=previouslyWatched[Symbol.iterator](),_step257;!(_iteratorNormalCompletion257=(_step257=_iterator257.next()).done);_iteratorNormalCompletion257=true){var _id4=_step257.value;if(!this.watched.has(_id4))deleteTask(_id4,this,this.chokidarOptionsHash);}}catch(err){_didIteratorError257=true;_iteratorError257=err;}finally{try{if(!_iteratorNormalCompletion257&&_iterator257["return"]!=null){_iterator257["return"]();}}finally{if(_didIteratorError257){throw _iteratorError257;}}}}},{key:"watchFile",value:function watchFile(id){var isTransformDependency=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!this.filter(id))return;this.watched.add(id);if(this.outputFiles.some(function(file){return file===id;})){throw new Error('Cannot import the generated bundle');}// this is necessary to ensure that any 'renamed' files
// continue to be watched following an error
addTask(id,this,this.chokidarOptions,this.chokidarOptionsHash,isTransformDependency);}}]);return Task;}();function watch(configs){return new Watcher(configs).emitter;}exports.__awaiter=__awaiter;exports.commandAliases=commandAliases;exports.createCommonjsModule=createCommonjsModule;exports.getAliasName=getAliasName;exports.mergeOptions=mergeOptions;exports.relative=requireRelative_1;exports.relativeId=relativeId;exports.rollup=rollup;exports.version=version;exports.watch=watch;