"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = importHelperPlugin;

var _constants = require("./constants.js");

var _helperModuleImports = require("@babel/helper-module-imports");

function importHelperPlugin() {
  return {
    pre: function pre(file) {
      var cachedHelpers = {};
      file.set('helperGenerator', function (name) {
        if (!file.availableHelper(name)) {
          return;
        }

        if (cachedHelpers[name]) {
          return cachedHelpers[name];
        }

        return cachedHelpers[name] = (0, _helperModuleImports.addNamed)(file.path, name, _constants.HELPERS);
      });
    }
  };
}